{"version":3,"file":"index.es.js","sources":["../src/styles/styles.js","../src/components/Avatar.js","../src/context.js","../src/native.js","../src/components/Chat.js","../src/components/SuggestionsProvider.js","../src/components/LoadingIndicator.js","../src/components/LoadingErrorIndicator.js","../src/components/EmptyStateIndicator.js","../src/components/ChannelInner.js","../src/components/Channel.js","../src/assets/Poweredby_100px-White_VertText.png","../src/components/Card.js","../src/images/PDF.png","../src/images/DOC.png","../src/images/PPT.png","../src/images/XLS.png","../src/images/TAR.png","../src/components/FileIcon.js","../src/components/AttachmentActions.js","../src/components/Gallery.js","../src/components/Attachment.js","../src/images/loading.gif","../src/images/icons/delivered_unseen.png","../src/components/MessageSimple/MessageStatus.js","../src/components/MentionsItem.js","../src/components/CommandsItem.js","../src/utils.js","../src/components/ReactionList.js","../src/components/ReactionPicker.js","../src/components/MessageSimple/MessageText.js","../src/images/icons/icon_path.png","../src/components/MessageSimple/MessageReplies.js","../src/components/MessageSimple/MessageContent.js","../src/components/MessageSimple/MessageAvatar.js","../src/components/MessageSimple/index.js","../src/components/Message.js","../src/components/MessageNotification.js","../src/components/DateSeparator.js","../src/components/MessageList.js","../src/images/icons/icon_edit.png","../src/images/icons/icon_new_message.png","../src/images/reload1.png","../src/components/WithProgressIndicator.js","../src/components/ImageUploadPreview.js","../src/components/FileUploadPreview.js","../src/images/icons/gallery.png","../src/components/AutoCompleteInput.js","../src/components/MessageInput.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelPreview.js","../src/components/ChannelListMessenger.js","../src/components/ChannelList.js","../src/components/Thread.js","../src/components/IconBadge.js"],"sourcesContent":["import { StyleSheet } from 'react-native';\nimport { defaultsDeep } from 'lodash-es';\n\n// set variables\n\nexport const BASE_FONT_SIZE = 16;\n\n// Set fixed component sizes\n\nexport const REACTION_PICKER_HEIGHT = 70;\n\nconst Sizes = {\n  borderRadius: 16,\n  borderRadiusS: 2,\n};\n\nexport const Colors = {\n  primary: '#006cff',\n  secondary: '#111',\n  danger: '#EDD8DD',\n  light: '#EBEBEB',\n  textLight: 'white',\n  textDark: 'rgba(0,0,0,1)',\n  textGrey: 'rgba(0,0,0,0.5)',\n};\n\nconst Layouts = {\n  flexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flexColumn: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\nexport const styles = {\n  Avatar: StyleSheet.create({\n    image: {\n      width: 50,\n      height: 50,\n    },\n    fallback: {\n      backgroundColor: Colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    fallbackText: {\n      color: Colors.textLight,\n      textTransform: 'uppercase',\n      fontSize: BASE_FONT_SIZE - 2,\n      fontWeight: '600',\n    },\n  }),\n  MessageSimple: StyleSheet.create({\n    container: {\n      ...Layouts.flexRow,\n      alignItems: 'flex-end',\n    },\n    left: {\n      justifyContent: 'flex-start',\n    },\n    right: {\n      justifyContent: 'flex-end',\n    },\n    bottom: {\n      marginBottom: 20,\n    },\n  }),\n  MessageSimpleAvatar: StyleSheet.create({\n    left: {\n      marginRight: 8,\n    },\n    right: {\n      marginLeft: 8,\n    },\n  }),\n  MessageSimpleContent: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      maxWidth: 250,\n    },\n    left: {\n      alignItems: 'flex-start',\n      justifyContent: 'flex-start',\n    },\n    right: {\n      alignItems: 'flex-end',\n      justifyContent: 'flex-end',\n    },\n    failed: {\n      padding: 5,\n      borderRadius: 10,\n      backgroundColor: Colors.danger,\n    },\n    error: {\n      padding: 5,\n      borderRadius: 10,\n      backgroundColor: Colors.danger,\n    },\n    metaContainer: {\n      marginTop: 2,\n    },\n    metaText: {\n      fontSize: 11,\n      color: Colors.textGrey,\n    },\n  }),\n  MessageSimpleText: StyleSheet.create({\n    container: {\n      borderBottomLeftRadius: Sizes.borderRadius,\n      borderBottomRightRadius: Sizes.borderRadius,\n      borderTopLeftRadius: Sizes.borderRadius,\n      borderTopRightRadius: Sizes.borderRadius,\n      marginTop: 2,\n      padding: 5,\n      paddingLeft: 8,\n      paddingRight: 8,\n    },\n    text: {\n      fontSize: 15,\n      lineHeight: 20,\n    },\n    deletedText: {\n      color: '#A4A4A4',\n    },\n    left: {\n      alignSelf: 'flex-start',\n      borderWidth: 0.5,\n      borderColor: 'rgba(0,0,0,0.08)',\n    },\n    right: {\n      alignSelf: 'flex-end',\n      backgroundColor: Colors.light,\n    },\n    failed: {\n      backgroundColor: 'transparent',\n    },\n    error: {\n      backgroundColor: 'transparent',\n    },\n    rightSingle: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n    },\n    rightTop: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n    },\n    rightMiddle: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n      borderTopRightRadius: Sizes.borderRadiusS,\n    },\n    rightBottom: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n      borderTopRightRadius: Sizes.borderRadiusS,\n    },\n    leftSingle: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n    },\n    leftTop: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n    },\n    leftMiddle: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n      borderTopLeftRadius: Sizes.borderRadiusS,\n    },\n    leftBottom: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n      borderTopLeftRadius: Sizes.borderRadiusS,\n    },\n  }),\n  MessageInput: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      borderRadius: 10,\n      backgroundColor: 'rgba(0,0,0,0.05)',\n    },\n    inputBoxContainer: {\n      ...Layouts.flexRow,\n      paddingLeft: 10,\n      paddingRight: 10,\n      minHeight: 46,\n      margin: 10,\n      alignItems: 'center',\n    },\n    inputBox: {\n      maxHeight: 60,\n      marginTop: -5,\n      flex: 1,\n    },\n    sendButton: {\n      marginLeft: 8,\n    },\n    pictureButton: {\n      marginRight: 8,\n    },\n    attachButton: {\n      marginRight: 8,\n    },\n    attachButtonIcon: {\n      height: 15,\n      width: 15,\n    },\n    iconGallery: {\n      width: 20,\n      height: 20,\n      marginRight: 10,\n    },\n    iconMedia: {\n      width: 20,\n      height: 20,\n      marginRight: 10,\n    },\n  }),\n  HyperLink: StyleSheet.create({\n    title: {\n      color: Colors.primary,\n      fontWeight: 'bold',\n    },\n  }),\n\n  Card: StyleSheet.create({\n    footer: {\n      ...Layouts.flexRow,\n      justifyContent: 'space-between',\n      backgroundColor: Colors.light,\n      padding: 10,\n      borderBottomLeftRadius: 16,\n      borderBottomRightRadius: 16,\n    },\n  }),\n  AttachmentActions: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      padding: 5,\n    },\n    button: {\n      borderRadius: 20,\n      paddingTop: 5,\n      paddingBottom: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      alignItems: 'center',\n    },\n    primaryButton: {\n      backgroundColor: '#006CFF',\n    },\n    primaryButtonText: {\n      color: 'white',\n    },\n    defaultButton: {\n      backgroundColor: 'white',\n      borderColor: Colors.light,\n      borderWidth: 1,\n    },\n    defaultButtonText: {\n      color: 'black',\n    },\n  }),\n  MessageNotification: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      alignItems: 'center',\n      zIndex: 10,\n      marginBottom: 0,\n    },\n  }),\n  Notification: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      alignItems: 'center',\n      zIndex: 10,\n      marginBottom: 0,\n      padding: 5,\n    },\n    warning: {\n      color: 'red',\n      backgroundColor: '#FAE6E8',\n    },\n  }),\n  DateSeparator: StyleSheet.create({\n    container: {\n      ...Layouts.flexRow,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    dividingLines: {\n      flex: 1,\n      borderColor: Colors.light,\n      borderWidth: 1,\n      height: 0,\n    },\n    date: {\n      flex: 1,\n      textAlign: 'center',\n    },\n  }),\n  ReactionPicker: StyleSheet.create({\n    container: {\n      display: 'flex',\n      flexDirection: 'row',\n      backgroundColor: 'black',\n      paddingLeft: 20,\n      height: REACTION_PICKER_HEIGHT,\n      paddingRight: 20,\n      borderRadius: 30,\n    },\n    reactionColumn: {\n      flexDirection: 'column',\n      alignItems: 'center',\n      marginTop: -5,\n    },\n    reactionCount: {\n      color: 'white',\n      fontSize: 10,\n      fontWeight: 'bold',\n    },\n  }),\n  iconBadge: StyleSheet.create({\n    icon: {\n      paddingTop: 5,\n      alignSelf: 'center',\n      borderRadius: 20,\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    text: {\n      fontSize: 10,\n      color: '#fff',\n    },\n    iconInner: {\n      backgroundColor: 'green',\n      justifyContent: 'center',\n      alignItems: 'center',\n      alignSelf: 'flex-start',\n      minWidth: 15,\n      height: 15,\n      paddingLeft: 3,\n      paddingRight: 3,\n      borderRadius: 20,\n    },\n  }),\n};\n\nconst depthOf = function(object) {\n  let level = 1;\n  let key;\n  for (key in object) {\n    if (!object.hasOwnProperty(key)) continue;\n\n    if (typeof object[key] == 'object') {\n      const depth = depthOf(object[key]) + 1;\n      level = Math.max(depth, level);\n    }\n  }\n  return level;\n};\n\nexport function getStyle(styleName) {\n  return styles[styleName] || {};\n}\n\nexport function updateStyle(styleName, styleOverwrites) {\n  styles[styleName] = buildStylesheet(styleName, styleOverwrites);\n}\n\n/** function buildStylesheet\n * @param styleName: string\n * @param styleOverwrites: any\n */\nexport function buildStylesheet(styleName, styleOverwrites) {\n  const baseStyle = getStyle(styleName);\n  if (!styleOverwrites || Object.keys(styleOverwrites).length === 0) {\n    return baseStyle;\n  }\n  const falseObj = {};\n  const base = Object.keys(baseStyle)\n    .map((k) => ({ [k]: StyleSheet.flatten(baseStyle[k]) }))\n    .reduce((accumulated, v) => Object.assign(accumulated, v), {});\n\n  const topLevelOverwrites = Object.keys(styleOverwrites)\n    .map((k) => {\n      if (depthOf(styleOverwrites[k]) === 1) {\n        return { [k]: StyleSheet.flatten(styleOverwrites[k]) };\n      }\n      return falseObj;\n    })\n    .filter((v) => v !== falseObj)\n    .reduce((accumulated, v) => Object.assign(accumulated, v), {});\n\n  return StyleSheet.create(defaultsDeep(topLevelOverwrites, base));\n}\n","import React from 'react';\nimport { View, Image, Text } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { buildStylesheet } from '../styles/styles.js';\n\n/**\n * Avatar - A round avatar image with fallback to username's first letter\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport class Avatar extends React.PureComponent {\n  static propTypes = {\n    /** image url */\n    image: PropTypes.string,\n    /** name of the picture, used for title tag fallback */\n    name: PropTypes.string,\n    /** shape of the avatar, circle, rounded or square */\n    shape: PropTypes.oneOf(['circle', 'rounded', 'square']),\n    /** size in pixels */\n    size: PropTypes.number,\n    /** Style overrides */\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    size: 32,\n    shape: 'circle',\n  };\n\n  state = {\n    imageError: false,\n  };\n\n  setError = () => {\n    this.setState({\n      imageError: true,\n    });\n  };\n\n  getInitials = (name) =>\n    name\n      ? name\n          .split(' ')\n          .slice(0, 2)\n          .map((name) => name.charAt(0))\n      : null;\n\n  render() {\n    const { size, name, image, style } = this.props;\n    const styles = buildStylesheet('Avatar', style);\n    const initials = this.getInitials(name);\n    return (\n      <View\n        style={{ display: 'flex', alignItems: 'center', ...styles.container }}\n      >\n        {image && !this.state.imageError ? (\n          <Image\n            style={{\n              ...styles.image,\n              borderRadius: size / 2,\n              width: size,\n              height: size,\n            }}\n            source={{ uri: image }}\n            accessibilityLabel=\"initials\"\n            resizeMethod=\"resize\"\n            onError={this.setError}\n          />\n        ) : (\n          <View\n            style={{\n              ...styles.fallback,\n              borderRadius: size / 2,\n              width: size,\n              height: size,\n            }}\n          >\n            <Text style={styles.fallbackText}>{initials}</Text>\n          </View>\n        )}\n      </View>\n    );\n  }\n}\n","import React from 'react';\n\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChatContext.Consumer>\n        {(context) => {\n          const mergedProps = { ...context, ...props };\n          return <OriginalComponent {...mergedProps} />;\n        }}\n      </ChatContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChannelContext.Consumer>\n        {(channelContext) => (\n          <OriginalComponent {...channelContext} {...props} />\n        )}\n      </ChannelContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const SuggestionsContext = React.createContext({});\n\nexport function withSuggestionsContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <SuggestionsContext.Consumer>\n        {(suggestionsContext) => (\n          <OriginalComponent {...suggestionsContext} {...props} />\n        )}\n      </SuggestionsContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n","export let NetInfo = () => {\n  throw Error(\n    'Native handler was not registered, you should import stream-chat-expo or stream-chat-react-native',\n  );\n};\n\nexport let pickImage = () => {\n  throw Error(\n    'Native handler was not registered, you should import expo-activity-feed or react-native-activity-feed',\n  );\n};\n\nexport let pickDocument = () => {\n  throw Error(\n    'Native handler was not registered, you should import expo-activity-feed or react-native-activity-feed',\n  );\n};\n\nexport const registerNativeHandlers = (handlers) => {\n  if (handlers.NetInfo) {\n    NetInfo = handlers.NetInfo;\n  }\n\n  if (handlers.pickImage) {\n    pickImage = handlers.pickImage;\n  }\n\n  if (handlers.pickDocument) {\n    pickDocument = handlers.pickDocument;\n  }\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatContext } from '../context';\nimport { NetInfo } from '../native';\n\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\nconst colors = ['light', 'dark'];\nconst baseUseCases = ['messaging', 'team', 'commerce', 'gaming', 'livestream'];\nconst themes = [];\n\nfor (const color of colors) {\n  for (const useCase of baseUseCases) {\n    themes.push(`${useCase} ${color}`);\n  }\n}\n\nexport class Chat extends PureComponent {\n  static propTypes = {\n    /** The StreamChat client object */\n    client: PropTypes.object.isRequired,\n    /** The theme 'messaging', 'team', 'commerce', 'gaming', 'livestream' plus either 'light' or 'dark' */\n    theme: PropTypes.oneOf(themes),\n  };\n\n  static defaultProps = {\n    theme: 'messaging light',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // currently active channel\n      channel: {},\n      isOnline: true,\n      connectionRecovering: false,\n    };\n\n    this.setConnectionListener();\n\n    this.props.client.on('connection.changed', (event) => {\n      this.setState({\n        isOnline: event.online,\n        connectionRecovering: !event.online,\n      });\n    });\n\n    this.props.client.on('connection.recovered', () => {\n      this.setState({ connectionRecovering: false });\n    });\n\n    this._unmounted = false;\n  }\n\n  componentWillUnmount() {\n    this._unmounted = true;\n    this.props.client.off('connection.recovered');\n    this.props.client.off('connection.changed');\n    this.props.client.off(this.handleEvent);\n    NetInfo.removeEventListener(\n      'connectionChange',\n      this.handleConnectionChange,\n    );\n  }\n\n  notifyChatClient = (isConnected) => {\n    if (this.wsConnection != null) {\n      if (isConnected) {\n        this.wsConnection.onlineStatusChanged({ type: 'online' });\n      } else {\n        this.wsConnection.onlineStatusChanged({ type: 'offline' });\n      }\n    }\n  };\n\n  setConnectionListener = () => {\n    NetInfo.isConnected.fetch().then((isConnected) => {\n      this.notifyChatClient(isConnected);\n    });\n\n    NetInfo.addEventListener('connectionChange', this.handleConnectionChange);\n  };\n\n  handleConnectionChange = () => {\n    NetInfo.isConnected.fetch().then((isConnected) => {\n      this.notifyChatClient(isConnected);\n    });\n  };\n\n  setActiveChannel = (channel, e) => {\n    if (e !== undefined && e.preventDefault) {\n      e.preventDefault();\n    }\n    if (this._unmounted) return;\n    this.setState(() => ({\n      channel,\n    }));\n  };\n\n  getContext = () => ({\n    client: this.props.client,\n    channel: this.state.channel,\n    setActiveChannel: this.setActiveChannel,\n    theme: this.props.theme,\n    isOnline: this.state.isOnline,\n    connectionRecovering: this.state.connectionRecovering,\n  });\n\n  render() {\n    return (\n      <ChatContext.Provider value={this.getContext()}>\n        {this.props.children}\n      </ChatContext.Provider>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  View,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  findNodeHandle,\n} from 'react-native';\n\nimport { SuggestionsContext } from '../context';\n\nexport class SuggestionsProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestionsViewActive: false,\n      suggestionsBottomMargin: 0,\n      suggestionsLeftMargin: 0,\n      suggestions: [],\n      suggestionsWidth: 0,\n      suggestionsBackdropHeight: 0,\n      suggestionsTitle: '',\n      component: null,\n    };\n  }\n\n  openSuggestions = async (title, component) => {\n    const [inputBoxPosition, chatBoxPosition] = await Promise.all([\n      this.getInputBoxPosition(),\n      this.getChatBoxPosition(),\n    ]);\n\n    this.setState({\n      suggestionsBottomMargin: chatBoxPosition.height - inputBoxPosition.y,\n      suggestionsLeftMargin: inputBoxPosition.x,\n      suggestionsWidth: inputBoxPosition.width,\n      suggestionsViewActive: true,\n      suggestionsBackdropHeight: inputBoxPosition.y,\n      suggestionsTitle: title,\n      component,\n    });\n  };\n\n  updateSuggestions = (suggestions) => {\n    this.setState({\n      suggestions,\n    });\n  };\n\n  closeSuggestions = () => {\n    this.setState({\n      suggestionsViewActive: false,\n      suggestionsTitle: '',\n      component: null,\n    });\n  };\n\n  setInputBoxContainerRef = (o) => {\n    this.messageInputBox = o;\n  };\n\n  getInputBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.messageInputBox.measureLayout(\n        nodeHandleRoot,\n        (x, y, width, height) => {\n          resolve({ x, y, height, width });\n        },\n      );\n    });\n\n  getChatBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.rootView.measureLayout(nodeHandleRoot, (x, y, width, height) => {\n        resolve({ x, y, height, width });\n      });\n    });\n\n  setRootView = (o) => {\n    this.rootView = o;\n  };\n\n  getContext = () => ({\n    setInputBoxContainerRef: this.setInputBoxContainerRef,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  render() {\n    return (\n      <SuggestionsContext.Provider value={this.getContext()}>\n        {/** TODO: Support dynamic item view for different type of suggestions */}\n        <SuggestionsView\n          component={this.state.component}\n          suggestions={this.state.suggestions}\n          active={this.state.suggestionsViewActive}\n          marginBottom={this.state.suggestionsBottomMargin}\n          marginLeft={this.state.suggestionsLeftMargin}\n          width={this.state.suggestionsWidth}\n          backdropHeight={this.state.suggestionsBackdropHeight}\n          handleDismiss={this.closeSuggestions}\n          suggestionsTitle={this.state.suggestionsTitle}\n        />\n        <View\n          ref={this.setRootView}\n          collapsable={false}\n          style={{ height: '100%' }}\n        >\n          {this.props.children}\n        </View>\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n\nclass SuggestionsView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  renderHeader = () => <SuggestionsHeader />;\n  renderItem = ({ item }) => {\n    const {\n      suggestions: { onSelect },\n      component: Component,\n    } = this.props;\n\n    return (\n      <TouchableOpacity\n        style={{\n          height: SUGGESTIONS_ITEM_HEIGHT,\n          justifyContent: 'center',\n        }}\n        onPress={() => {\n          onSelect(item);\n        }}\n      >\n        <Component item={item} />\n      </TouchableOpacity>\n    );\n  };\n\n  render() {\n    const {\n      active,\n      marginLeft,\n      width,\n      suggestions: { data },\n      backdropHeight,\n      handleDismiss,\n      suggestionsTitle,\n    } = this.props;\n\n    if (!active) return null;\n    if (!data || data.length === 0) return null;\n    return (\n      <TouchableOpacity\n        style={{\n          position: 'absolute',\n          zIndex: 90,\n          height: backdropHeight,\n          width: '100%',\n        }}\n        onPress={handleDismiss}\n      >\n        <View\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            marginLeft,\n            width,\n            height: Math.min((data.length + 1) * SUGGESTIONS_ITEM_HEIGHT, 250),\n            backgroundColor: 'white',\n            shadowColor: '#EBEBEB',\n            shadowOpacity: 1,\n            shadowOffset: { width: 0, height: -3 },\n            zIndex: 100,\n          }}\n        >\n          <FlatList\n            ListHeaderComponent={<SuggestionsHeader title={suggestionsTitle} />}\n            ItemSeparatorComponent={SuggestionsSeparator}\n            data={data}\n            keyboardShouldPersistTaps=\"always\"\n            renderItem={this.renderItem}\n            keyExtractor={(item, index) => item.name + index}\n          />\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n\nconst SuggestionsHeader = ({ title }) => (\n  <Text\n    style={{ padding: 10, height: SUGGESTIONS_ITEM_HEIGHT, fontWeight: 'bold' }}\n  >\n    {title}\n  </Text>\n);\n\nconst SuggestionsSeparator = () => <View style={{ height: 0 }} />;\n\nconst SUGGESTIONS_ITEM_HEIGHT = 50;\n","import React from 'react';\nimport { Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport class LoadingIndicator extends React.PureComponent {\n  static propTypes = {\n    listType: PropTypes.oneOf(['channel', 'message', 'default']),\n  };\n\n  static defaultProps = {\n    listType: 'default',\n  };\n\n  render() {\n    switch (this.props.listType) {\n      case 'channel':\n        return <Text>Loading channel list ...</Text>;\n      case 'message':\n        return <Text>Loading messages ...</Text>;\n      case 'default':\n      default:\n        return <Text>Loading ...</Text>;\n    }\n  }\n}\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const LoadingErrorIndicator = ({ listType }) => {\n  let Loader;\n  switch (listType) {\n    case 'channel':\n      Loader = <Text>Error loading channel list ...</Text>;\n      break;\n    case 'message':\n      Loader = <Text>Error loading messages for this channel ...</Text>;\n      break;\n    default:\n      Loader = <Text>Error loading</Text>;\n      break;\n  }\n\n  return Loader;\n};\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const EmptyStateIndicator = ({ listType }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <Text>You have no channels currently</Text>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <Text>No itens exist</Text>;\n      break;\n  }\n\n  return Indicator;\n};\n","import React, { PureComponent } from 'react';\nimport { View, Text, Keyboard, Dimensions, Animated } from 'react-native';\nimport { ChannelContext } from '../context';\nimport { SuggestionsProvider } from './SuggestionsProvider';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * This component is not really exposed externally, and is only supposed to be used with\n * 'Channel' component (which is actually exposed to customers).\n */\nexport class ChannelInner extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      // Loading the intial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: props.isOnline,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n\n      thread: props.thread,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true,\n      kavEnabled: true,\n      channelHeight: '100%',\n    };\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreThreadFinishedDebounced = debounce(\n      this.loadMoreThreadFinished,\n      2000,\n      {\n        leading: true,\n        trailing: true,\n      },\n    );\n\n    this._setStateThrottled = throttle(this.setState, 500, {\n      leading: true,\n      trailing: true,\n    });\n    this.rootChannelView = false;\n    this.messageInputBox = false;\n    this.initialHeight = undefined;\n  }\n\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** The indicator to use when there is error  */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n    /** The indicator to use when message list is empty */\n    EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    LoadingIndicator,\n    LoadingErrorIndicator,\n    EmptyStateIndicator,\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.isOnline !== prevProps.isOnline)\n      this.setState({ online: this.props.isOnline });\n  }\n\n  async componentDidMount() {\n    const channel = this.props.channel;\n    let errored = false;\n    if (!channel.initialized) {\n      try {\n        await channel.watch();\n      } catch (e) {\n        this.setState({ error: true });\n        errored = true;\n      }\n    }\n    // this.originalTitle = document.title;\n    this.lastRead = new Date();\n    if (!errored) {\n      this.copyChannelState();\n      this.listenToChanges();\n    }\n\n    this.keyboardDidShowListener = Keyboard.addListener(\n      'keyboardWillShow',\n      this.keyboardDidShow,\n    );\n    this.keyboardDidHideListener = Keyboard.addListener(\n      'keyboardWillHide',\n      this.keyboardDidHide,\n    );\n  }\n\n  keyboardDidShow = (e) => {\n    const keyboardHeight =\n      e.startCoordinates.screenY - e.endCoordinates.screenY;\n\n    this.rootChannelView.measureInWindow((x, y) => {\n      const { height: windowHeight } = Dimensions.get('window');\n      Animated.timing(this.state.channelHeight, {\n        toValue: windowHeight - y - keyboardHeight,\n        duration: 500,\n      }).start();\n    });\n  };\n\n  keyboardDidHide = () => {\n    Animated.timing(this.state.channelHeight, {\n      toValue: this.initialHeight,\n      duration: 500,\n    }).start();\n  };\n\n  componentWillUnmount() {\n    this.props.channel.off(this.handleEvent);\n    this.props.client.off('connection.recovered', this.handleEvent);\n\n    this._loadMoreFinishedDebounced.cancel();\n    this._loadMoreThreadFinishedDebounced.cancel();\n    this._setStateThrottled.cancel();\n    this._unmounted = true;\n    this.keyboardDidShowListener.remove();\n    this.keyboardDidHideListener.remove();\n  }\n\n  copyChannelState() {\n    const channel = this.props.channel;\n\n    this.setState({\n      messages: channel.state.messages,\n      read: channel.state.read,\n      watchers: channel.state.watchers,\n      members: channel.state.members,\n      watcher_count: channel.state.watcher_count,\n      loading: false,\n      typing: {},\n    });\n\n    channel.markRead();\n  }\n\n  listenToChanges() {\n    // The more complex sync logic is done in chat.js\n    // listen to client.connection.recovered and all channel events\n    this.props.client.on('connection.recovered', this.handleEvent);\n    const channel = this.props.channel;\n    channel.on(this.handleEvent);\n  }\n\n  openThread = (message, e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    const channel = this.props.channel;\n    const threadMessages = channel.state.threads[message.id] || [];\n\n    this.setState({\n      thread: message,\n      threadMessages,\n    });\n  };\n\n  loadMoreThread = async () => {\n    // prevent duplicate loading events...\n    if (this.state.threadLoadingMore) return;\n    this.setState({\n      threadLoadingMore: true,\n    });\n    const channel = this.props.channel;\n    const parentID = this.state.thread.id;\n    const oldMessages = channel.state.threads[parentID] || [];\n    const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n    const limit = 50;\n    const queryResponse = await channel.getReplies(parentID, {\n      limit,\n      id_lt: oldestMessageID,\n    });\n    const hasMore = queryResponse.messages.length === limit;\n\n    const threadMessages = channel.state.threads[parentID] || [];\n\n    // next set loadingMore to false so we can start asking for more data...\n    this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n  };\n\n  loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n    this.setState({\n      threadLoadingMore: false,\n      threadHasMore,\n      threadMessages,\n    });\n  };\n\n  closeThread = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    this.setState({\n      thread: null,\n      threadMessages: [],\n    });\n  };\n\n  setEditingState = (message) => {\n    this.setState({\n      editing: message,\n    });\n  };\n  updateMessage = (updatedMessage, extraState) => {\n    const channel = this.props.channel;\n\n    extraState = extraState || {};\n\n    // adds the message to the local channel state..\n    // this adds to both the main channel state as well as any reply threads\n    channel.state.addMessageSorted(updatedMessage);\n\n    // update the Channel component state\n    if (this.state.thread && updatedMessage.parent_id) {\n      extraState.threadMessages =\n        channel.state.threads[updatedMessage.parent_id] || [];\n    }\n    this.setState({ messages: channel.state.messages, ...extraState });\n  };\n\n  clearEditingState = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n  removeMessage = (message) => {\n    const channel = this.props.channel;\n    channel.state.removeMessage(message);\n    this.setState({ messages: channel.state.messages });\n  };\n\n  removeEphemeralMessages() {\n    const c = this.props.channel;\n    c.state.selectRegularMessages();\n    this.setState({ messages: c.state.messages });\n  }\n\n  createMessagePreview = (text, attachments, parent, mentioned_users) => {\n    // create a preview of the message\n    const clientSideID = `${this.props.client.userID}-` + uuidv4();\n    const message = {\n      text,\n      html: text,\n      __html: text,\n      //id: tmpID,\n      id: clientSideID,\n      type: 'regular',\n      status: 'sending',\n      user: {\n        id: this.props.client.userID,\n        ...this.props.client.user,\n      },\n      created_at: new Date(),\n      attachments,\n      mentioned_users,\n      reactions: [],\n    };\n\n    if (parent && parent.id) {\n      message.parent_id = parent.id;\n    }\n    return message;\n  };\n\n  _sendMessage = async (message) => {\n    const { text, attachments, id, parent_id, mentioned_users } = message;\n    const messageData = {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n    };\n\n    try {\n      const messageResponse = await this.props.channel.sendMessage(messageData);\n      // replace it after send is completed\n      if (messageResponse.message) {\n        messageResponse.message.status = 'received';\n        this.updateMessage(messageResponse.message);\n      }\n    } catch (error) {\n      console.log(error);\n      // set the message to failed..\n      message.status = 'failed';\n      this.updateMessage(message);\n    }\n  };\n\n  sendMessage = async ({ text, attachments = [], parent, mentioned_users }) => {\n    // remove error messages upon submit\n    this.props.channel.state.filterErrorMessages();\n\n    // create a local preview message to show in the UI\n    const messagePreview = this.createMessagePreview(\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n    );\n\n    // first we add the message to the UI\n    this.updateMessage(messagePreview, {\n      messageInput: '',\n      commands: [],\n      userAutocomplete: [],\n    });\n\n    await this._sendMessage(messagePreview);\n  };\n\n  retrySendMessage = async (message) => {\n    // set the message status to sending\n    message = message.asMutable();\n    message.status = 'sending';\n    this.updateMessage(message);\n    // actually try to send the message...\n    await this._sendMessage(message);\n  };\n\n  handleEvent = (e) => {\n    const { channel } = this.props;\n    let threadMessages = [];\n    const threadState = {};\n    if (this.state.thread) {\n      threadMessages = channel.state.threads[this.state.thread.id] || [];\n      threadState['threadMessages'] = threadMessages;\n    }\n\n    if (\n      this.state.thread &&\n      e.message &&\n      e.message.id === this.state.thread.id\n    ) {\n      threadState['thread'] = channel.state.messageToImmutable(e.message);\n    }\n\n    if (Object.keys(threadState).length > 0) {\n      // TODO: in theory we should do 1 setState call not 2,\n      // However the setStateThrottled doesn't support this\n      this.setState(threadState);\n    }\n\n    this._setStateThrottled({\n      messages: channel.state.messages,\n      watchers: channel.state.watchers,\n      read: channel.state.read,\n      typing: channel.state.typing,\n      watcher_count: channel.state.watcher_count,\n    });\n  };\n\n  loadMore = async () => {\n    // prevent duplicate loading events...\n    if (this.state.loadingMore) return;\n    this.setState({ loadingMore: true });\n\n    const oldestID = this.state.messages[0] ? this.state.messages[0].id : null;\n    const perPage = 100;\n    let queryResponse;\n    try {\n      queryResponse = await this.props.channel.query({\n        messages: { limit: perPage, id_lt: oldestID },\n      });\n    } catch (e) {\n      console.warn('message pagination request failed with error', e);\n      this.setState({ loadingMore: false });\n      return;\n    }\n    const hasMore = queryResponse.messages.length === perPage;\n\n    this._loadMoreFinishedDebounced(hasMore, this.props.channel.state.messages);\n  };\n\n  loadMoreFinished = (hasMore, messages) => {\n    this.setState({\n      loadingMore: false,\n      hasMore,\n      messages,\n    });\n  };\n\n  getContext = () => ({\n    ...this.state,\n    channels: this.props.channels,\n    client: this.props.client,\n    channel: this.props.channel,\n    Message: this.props.Message,\n    Attachment: this.props.Attachment,\n    updateMessage: this.updateMessage,\n    removeMessage: this.removeMessage,\n    sendMessage: this.sendMessage,\n    retrySendMessage: this.retrySendMessage,\n    resetNotification: this.resetNotification,\n    listenToScroll: this.listenToScroll,\n    setEditingState: this.setEditingState,\n    clearEditingState: this.clearEditingState,\n    EmptyStateIndicator: this.props.EmptyStateIndicator,\n\n    // thread related\n    openThread: this.openThread,\n    closeThread: this.closeThread,\n    loadMoreThread: this.loadMoreThread,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  renderComponent = () => this.props.children;\n\n  renderLoading = () => {\n    const Indicator = this.props.LoadingIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  renderLoadingError = () => {\n    const Indicator = this.props.LoadingErrorIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  setRootChannelView = (o) => {\n    this.rootChannelView = o;\n    // this.rootChannelView.measureInWindow((x, y, height, width) => { this.initialHeight = height; });\n  };\n\n  onLayout = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }) => {\n    // Not to set initial height again.\n    if (!this.initialHeight) {\n      this.initialHeight = height;\n      this.setState({ channelHeight: new Animated.Value(this.initialHeight) });\n    }\n  };\n\n  render() {\n    let core;\n\n    if (this.state.error) {\n      core = this.renderLoadingError();\n    } else if (this.state.loading) {\n      core = this.renderLoading();\n    } else if (!this.props.channel || !this.props.channel.watch) {\n      core = (\n        <View>\n          <Text>Channel Missing</Text>\n        </View>\n      );\n    } else {\n      core = (\n        <Animated.View\n          style={{ display: 'flex', height: this.state.channelHeight }}\n          onLayout={this.onLayout}\n        >\n          <View ref={this.setRootChannelView} collapsable={false} />\n          <ChannelContext.Provider value={this.getContext()}>\n            <SuggestionsProvider\n              handleKeyboardAvoidingViewEnabled={(trueOrFalse) => {\n                this.setState({ kavEnabled: trueOrFalse });\n              }}\n            >\n              {this.renderComponent()}\n            </SuggestionsProvider>\n          </ChannelContext.Provider>\n        </Animated.View>\n      );\n    }\n\n    return <View>{core}</View>;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { withChatContext } from '../context';\nimport { Text } from 'react-native';\n\n// import { LoadingIndicator } from './LoadingIndicator';\n\nimport PropTypes from 'prop-types';\n\n// import { MessageSimple } from './MessageSimple';\n// import { Attachment } from './Attachment';\nimport { ChannelInner } from './ChannelInner';\n\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nconst Channel = withChatContext(\n  class Channel extends PureComponent {\n    constructor(props) {\n      super(props);\n      this.state = { error: false };\n    }\n    static propTypes = {\n      /** Which channel to connect to, will initialize the channel if it's not initialized yet */\n      channel: PropTypes.shape({\n        watch: PropTypes.func,\n      }).isRequired,\n      /** Client is passed automatically via the Chat Context */\n      client: PropTypes.object.isRequired,\n      /** The loading indicator to use */\n      // LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    };\n\n    static defaultProps = {\n      // LoadingIndicator,\n      // Message: MessageSimple,\n      // Attachment,\n    };\n\n    render() {\n      if (!this.props.channel.cid) {\n        return <Text>Please select a channel first</Text>;\n      }\n\n      // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you sw\\itch channel the component is recreated\n      return <ChannelInner {...this.props} key={this.props.channel.cid} />;\n    }\n  },\n);\n\nexport { Channel };\n","const img = require('.//assets/Poweredby_100px-White_VertText.png'); export default img;","import React from 'react';\nimport { Image, Text, View, TouchableOpacity, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { styles } from '../styles/styles.js';\n\nexport class Card extends React.Component {\n  static propTypes = {\n    /** Title retured by the OG scraper */\n    title: PropTypes.string.isRequired,\n    /** Link retured by the OG scraper */\n    title_link: PropTypes.string,\n    /** The scraped url, used as a fallback if the OG-data doesnt include a link */\n    og_scrape_url: PropTypes.string,\n    /** The url of the full sized image */\n    image_url: PropTypes.string,\n    /** The url for thumbnail sized image*/\n    thumb_url: PropTypes.string,\n    /** Description retured by the OG scraper */\n    text: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  trimUrl = (url) => {\n    let trimmedUrl;\n    if (url !== undefined || url !== null) {\n      trimmedUrl = url\n        .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n        .split('/')[0];\n    }\n    return trimmedUrl;\n  };\n\n  _goToURL = (url) => {\n    Linking.canOpenURL(url).then((supported) => {\n      if (supported) {\n        Linking.openURL(url);\n      } else {\n        console.log(\"Don't know how to open URI: \" + url);\n      }\n    });\n  };\n\n  render() {\n    const {\n      image_url,\n      thumb_url,\n      title,\n      title_link,\n      og_scrape_url,\n      type,\n    } = this.props;\n    return (\n      <TouchableOpacity\n        onPress={() => {\n          this._goToURL(og_scrape_url || image_url || thumb_url);\n        }}\n      >\n        <Image\n          source={{ uri: image_url || thumb_url }}\n          resizeMethod=\"resize\"\n          style={{\n            height: 300,\n            width: 200,\n          }}\n        />\n        <View style={styles.Card.footer}>\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              backgroundColor: 'transperant',\n            }}\n          >\n            {title && <Text>{title}</Text>}\n            <Text>{this.trimUrl(title_link || og_scrape_url)}</Text>\n          </View>\n          {type === 'giphy' && <Image source={giphyLogo} />}\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","const img = require('.//images/PDF.png'); export default img;","const img = require('.//images/DOC.png'); export default img;","const img = require('.//images/PPT.png'); export default img;","const img = require('.//images/XLS.png'); export default img;","const img = require('.//images/TAR.png'); export default img;","import * as React from 'react';\nimport { Image } from 'react-native';\n\nimport iconPDF from '../images/PDF.png';\nimport iconDOC from '../images/DOC.png';\nimport iconPPT from '../images/PPT.png';\nimport iconXLS from '../images/XLS.png';\nimport iconTAR from '../images/TAR.png';\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap = {\n  'application/pdf': iconPDF,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = iconXLS;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = iconPPT;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = iconTAR;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return iconDOC;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n\n  return iconDOC;\n}\n\n/**\n * @example ./examples/FileIcon.md\n */\nexport default class FileIcon extends React.Component {\n  render() {\n    // const { size, big, filename, mimeType } = this.props;\n    const { mimeType } = this.props;\n    return <Image source={mimeTypeToIcon(mimeType)} />;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { View, TouchableOpacity, Text } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\n\n/**\n * AttachmentActions - The actions you can take on an attachment\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport class AttachmentActions extends React.PureComponent {\n  static propTypes = {\n    // /** The id of the form input */\n    // id: PropTypes.string.isRequired,\n    /** The text for the form input */\n    text: PropTypes.string,\n    /** A list of actions */\n    actions: PropTypes.array.isRequired,\n    /** The handler to execute after selecting an action */\n    actionHandler: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { id, actions, actionHandler, style } = this.props;\n    const styles = buildStylesheet('AttachmentActions', style);\n\n    return (\n      <View style={styles.container}>\n        {actions.map((action) => (\n          <TouchableOpacity\n            key={`${id}-${action.value}`}\n            style={{ ...styles.button, ...styles[action.style + 'Button'] }}\n            onPress={actionHandler.bind(this, action.name, action.value)}\n          >\n            <Text style={styles[action.style + 'ButtonText']}>\n              {action.text}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Modal,\n  Image,\n  TouchableOpacity,\n  Text,\n  SafeAreaView,\n  View,\n} from 'react-native';\nimport ImageViewer from 'react-native-image-zoom-viewer';\nimport PropTypes from 'prop-types';\n\nexport class Gallery extends React.PureComponent {\n  static propTypes = {\n    /** The images to render */\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        image_url: PropTypes.string,\n        thumb_url: PropTypes.string,\n      }),\n    ),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewerModalOpen: false,\n    };\n  }\n\n  render() {\n    const images = [...this.props.images].map((i) => ({\n      url: i.image_url || i.thumb_url,\n    }));\n\n    return (\n      <React.Fragment>\n        {images.map((image, i) => (\n          <TouchableOpacity\n            key={`gallery-image-${i}`}\n            activeOpacity={0.8}\n            onPress={() => {\n              this.setState({ viewerModalOpen: true });\n            }}\n          >\n            <Image\n              source={{ uri: image.url }}\n              style={{\n                height: 200,\n                width: 200,\n              }}\n            />\n          </TouchableOpacity>\n        ))}\n        <Modal visible={this.state.viewerModalOpen} transparent={true}>\n          <SafeAreaView style={{ flex: 1, backgroundColor: 'transparent' }}>\n            <ImageViewer\n              imageUrls={images}\n              onCancel={() => {\n                this.setState({ viewerModalOpen: false });\n              }}\n              enableSwipeDown\n              renderHeader={() => (\n                <GalleryHeader\n                  handleDismiss={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                />\n              )}\n            />\n          </SafeAreaView>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst GalleryHeader = ({ handleDismiss }) => (\n  <View\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-end',\n      position: 'absolute',\n      width: '100%',\n      zIndex: 1000,\n    }}\n  >\n    <TouchableOpacity\n      onPress={handleDismiss}\n      style={{\n        backgroundColor: '#ebebeb',\n        width: 30,\n        height: 30,\n        marginRight: 20,\n        marginTop: 20,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 20,\n      }}\n    >\n      <Text>X</Text>\n    </TouchableOpacity>\n  </View>\n);\n","import React from 'react';\nimport { Image, Text, View, TouchableOpacity, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { Card } from './Card';\nimport FileIcon from './FileIcon';\nimport { AttachmentActions } from './AttachmentActions';\nimport { Gallery } from './Gallery';\nexport class Attachment extends React.Component {\n  static propTypes = {\n    /** The attachment to render */\n    attachment: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  _goToURL = (url) => {\n    Linking.canOpenURL(url).then((supported) => {\n      if (supported) {\n        Linking.openURL(url);\n      } else {\n        console.log(\"Don't know how to open URI: \" + url);\n      }\n    });\n  };\n\n  render() {\n    const { attachment: a } = this.props;\n    if (!a) {\n      return null;\n    }\n\n    let type;\n\n    if (a.type === 'giphy' || a.type === 'imgur') {\n      type = 'card';\n    } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n      type = 'card';\n    } else if (a.type === 'image') {\n      type = 'image';\n    } else if (a.type === 'file') {\n      type = 'file';\n    } else if (a.type === 'audio') {\n      type = 'audio';\n    } else if (a.type === 'video') {\n      type = 'media';\n    } else if (a.type === 'product') {\n      type = 'product';\n    } else {\n      type = 'card';\n      // extra = 'no-image';\n    }\n\n    if (type === 'image') {\n      return <Gallery images={[a]} />;\n    }\n\n    if (a.type === 'giphy' || type === 'card') {\n      if (a.actions && a.actions.length) {\n        return (\n          <View>\n            <Card {...a} />\n            <AttachmentActions\n              key={'key-actions-' + a.id}\n              {...a}\n              actionHandler={this.props.actionHandler}\n            />\n          </View>\n        );\n      } else {\n        return <Card {...a} />;\n      }\n    }\n\n    if (a.type === 'file') {\n      return (\n        <TouchableOpacity\n          onPress={() => {\n            this._goToURL(a.asset_url);\n          }}\n        >\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center',\n              backgroundColor: '#EBEBEB',\n              padding: 10,\n              borderRadius: 16,\n            }}\n          >\n            <FileIcon filename={a.title} mimeType={a.mime_type} size={50} />\n            <View\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                paddingLeft: 10,\n              }}\n            >\n              <Text\n                ellipsizeMode=\"tail\"\n                numberOfLines={2}\n                style={{ fontWeight: 'bold' }}\n              >\n                {a.title}\n              </Text>\n              <Text>{a.file_size} KB</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      );\n    }\n\n    if (a.type === 'video' && a.asset_url && a.image_url) {\n      return (\n        <TouchableOpacity\n          onPress={() => {\n            this._goToURL(a.asset_url);\n          }}\n        >\n          <Image\n            resizeMode=\"stretch\"\n            style={{\n              height: 200,\n              width: 250,\n              borderTopLeftRadius: 16,\n              borderTopRightRadius: 16,\n              borderBottomLeftRadius: 0,\n              borderBottomRightRadius: 0,\n            }}\n            source={{ uri: a.image_url }}\n          />\n          <View\n            style={{\n              borderBottomLeftRadius: 16,\n              borderBottomRightRadius: 16,\n              backgroundColor: '#EBEBEB',\n              padding: 10,\n            }}\n          >\n            <Text\n              style={{\n                fontWeight: 'bold',\n              }}\n            >\n              {a.title}\n            </Text>\n          </View>\n        </TouchableOpacity>\n      );\n    }\n\n    return false;\n  }\n}\n","const img = require('.//images/loading.gif'); export default img;","const img = require('.//images/icons/delivered_unseen.png'); export default img;","import React from 'react';\nimport { View, Image } from 'react-native';\n\nimport loadingGif from '../../images/loading.gif';\nimport iconDeliveredUnseen from '../../images/icons/delivered_unseen.png';\n\nexport const MessageStatus = ({ message, lastReceivedId, threadList }) => {\n  if (message.status === 'sending') {\n    return (\n      <View\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          paddingLeft: 5,\n          paddingRight: 5,\n        }}\n      >\n        <Image source={loadingGif} style={{ height: 10, width: 10 }} />\n      </View>\n    );\n  } else if (\n    message.status === 'received' &&\n    message.type !== 'ephemeral' &&\n    message.id === lastReceivedId &&\n    !threadList\n  ) {\n    return (\n      <View\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          paddingLeft: 2,\n        }}\n      >\n        <Image source={iconDeliveredUnseen} />\n      </View>\n    );\n  } else {\n    return <View style={{ height: 10, width: 20 }} />;\n  }\n};\n","import React from 'react';\nimport { View, Text } from 'react-native';\nimport { Avatar } from './Avatar';\n\nexport class MentionsItem extends React.Component {\n  render() {\n    const {\n      item: { name, icon },\n    } = this.props;\n\n    return (\n      <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n        <Avatar image={icon} />\n        <Text style={{ padding: 10 }}>{name}</Text>\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Text } from 'react-native';\n\nexport class CommandsItem extends React.Component {\n  render() {\n    const {\n      item: { name, args, description },\n    } = this.props;\n\n    return (\n      <View style={{ flexDirection: 'column', padding: 10 }}>\n        <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n          <Text style={{ fontWeight: 'bold' }}>/{name} </Text>\n          <Text>{args}</Text>\n        </View>\n        <Text>{description}</Text>\n      </View>\n    );\n  }\n}\n","import anchorme from 'anchorme';\nimport React from 'react';\nimport { truncate } from 'lodash-es';\nimport { MentionsItem } from './components/MentionsItem';\nimport { CommandsItem } from './components/CommandsItem';\n\nimport Markdown from 'react-native-simple-markdown';\n\nexport const renderText = (message) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users } = message;\n\n  if (!text) {\n    return;\n  }\n  text = text.trim();\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  return <Markdown styles={markdownStyles}>{newText}</Markdown>;\n};\n\nconst markdownStyles = {\n  link: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  url: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n};\n\nexport const emojiData = [\n  {\n    id: 'like',\n    icon: '👍',\n  },\n  {\n    id: 'love',\n    icon: '❤️️',\n  },\n  {\n    id: 'haha',\n    icon: '😂',\n  },\n  {\n    id: 'wow',\n    icon: '😮',\n  },\n  {\n    id: 'sad',\n    icon: '😔',\n  },\n  {\n    id: 'angry',\n    icon: '😠',\n  },\n];\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport const FileState = Object.freeze({\n  NO_FILE: 'no_file',\n  UPLOADING: 'uploading',\n  UPLOADED: 'uploaded',\n  UPLOAD_FAILED: 'upload_failed',\n});\n\nexport const ProgressIndicatorTypes = Object.freeze({\n  IN_PROGRESS: 'in_progress',\n  RETRY: 'retry',\n});\n\n// ACI = AutoCompleteInput\nexport const ACITriggerSettings = ({\n  users,\n  onMentionSelectItem,\n  commands,\n}) => ({\n  '@': {\n    dataProvider: (q) => {\n      const matchingUsers = users.filter((user) => {\n        if (!q) return true;\n        if (\n          user.name !== undefined &&\n          user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1\n        ) {\n          return true;\n        } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return matchingUsers.slice(0, 10);\n    },\n    component: MentionsItem,\n    title: 'Searching for people',\n    output: (entity) => ({\n      key: entity.id,\n      text: `@${entity.name || entity.id}`,\n      caretPosition: 'next',\n    }),\n    callback: (item) => {\n      onMentionSelectItem(item);\n    },\n  },\n  '/': {\n    dataProvider: (q, text) => {\n      if (text.indexOf('/') !== 0) {\n        return [];\n      }\n\n      const selectedCommands = commands.filter((c) => c.name.indexOf(q) !== -1);\n\n      // sort alphabetically unless the you're matching the first char\n      selectedCommands.sort((a, b) => {\n        let nameA = a.name.toLowerCase();\n        let nameB = b.name.toLowerCase();\n        if (nameA.indexOf(q) === 0) {\n          nameA = `0${nameA}`;\n        }\n        if (nameB.indexOf(q) === 0) {\n          nameB = `0${nameB}`;\n        }\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      return selectedCommands.slice(0, 10);\n    },\n    title: 'Commands',\n    component: CommandsItem,\n    output: (entity) => ({\n      key: entity.id,\n      text: `/${entity.name}`,\n      caretPosition: 'next',\n    }),\n  },\n});\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  reactions: 'reactions',\n  reply: 'reply',\n};\n","import React from 'react';\nimport { Text, TouchableOpacity, View } from 'react-native';\nimport { emojiData } from '../utils';\n\nexport class ReactionList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  _renderReactions = (reactions) => {\n    const reactionsByType = {};\n    reactions.map((item) => {\n      if (reactions[item.type] === undefined) {\n        return (reactionsByType[item.type] = [item]);\n      } else {\n        return (reactionsByType[item.type] = [\n          ...reactionsByType[item.type],\n          item,\n        ]);\n      }\n    });\n\n    const emojiDataByType = {};\n    emojiData.forEach((e) => (emojiDataByType[e.id] = e));\n\n    const reactionTypes = emojiData.map((e) => e.id);\n    return Object.keys(reactionsByType).map((type) =>\n      reactionTypes.indexOf(type) > -1 ? (\n        <Text key={type}>{emojiDataByType[type].icon}</Text>\n      ) : null,\n    );\n  };\n\n  _getReactionCount = (reactionCounts) => {\n    let count = null;\n    if (\n      reactionCounts !== null &&\n      reactionCounts !== undefined &&\n      Object.keys(reactionCounts).length > 0\n    ) {\n      count = 0;\n      Object.keys(reactionCounts).map((key) => (count += reactionCounts[key]));\n    }\n    return count;\n  };\n\n  render() {\n    const {\n      latestReactions,\n      openReactionSelector,\n      reactionCounts,\n      visible,\n    } = this.props;\n    return (\n      <TouchableOpacity onPress={openReactionSelector} activeOpacity={1}>\n        <View\n          style={{\n            opacity: visible ? 1 : 0,\n            display: 'flex',\n            flexDirection: 'row',\n            padding: 5,\n            backgroundColor: 'black',\n            borderRadius: 10,\n          }}\n        >\n          {this._renderReactions(latestReactions)}\n          <Text\n            style={{\n              color: 'white',\n              paddingLeft: 5,\n              paddingRight: 5,\n            }}\n          >\n            {this._getReactionCount(reactionCounts)}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View, TouchableOpacity, Text, Modal } from 'react-native';\nimport { emojiData } from '../utils';\nimport { Avatar } from './Avatar';\nimport { buildStylesheet } from '../styles/styles.js';\n\nexport class ReactionPicker extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  getUsersPerReaction = (reactions, type) => {\n    const filtered =\n      reactions && reactions.filter((item) => item.type === type);\n    return filtered;\n  };\n\n  getLatestUser = (reactions, type) => {\n    const filtered = this.getUsersPerReaction(reactions, type);\n    if (filtered && filtered[0] && filtered[0].user) {\n      return filtered[0].user;\n    } else {\n      return 'NotFound';\n    }\n  };\n\n  render() {\n    const {\n      reactionPickerVisible,\n      handleDismiss,\n      handleReaction,\n      latestReactions,\n      reactionCounts,\n      rpLeft,\n      rpTop,\n      rpRight,\n      style,\n    } = this.props;\n\n    if (!reactionPickerVisible) return null;\n\n    const position = {\n      marginTop: rpTop,\n    };\n\n    if (rpLeft) position.marginLeft = rpLeft;\n\n    if (rpRight) position.marginRight = rpRight;\n\n    const styles = buildStylesheet('ReactionPicker', style);\n\n    return (\n      <Modal\n        visible={reactionPickerVisible}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={handleDismiss}\n      >\n        {reactionPickerVisible && (\n          <TouchableOpacity\n            onPress={handleDismiss}\n            style={{\n              flex: 1,\n              alignItems: rpLeft ? 'flex-start' : 'flex-end',\n            }}\n            activeOpacity={1}\n          >\n            <View\n              style={{\n                ...styles.container,\n                ...position,\n              }}\n            >\n              {emojiData.map(({ id, icon }) => {\n                const latestUser = this.getLatestUser(latestReactions, id);\n                const count = reactionCounts && reactionCounts[id];\n                return (\n                  <View key={id} style={styles.reactionColumn}>\n                    {latestUser !== 'NotFound' ? (\n                      <Avatar\n                        image={latestUser.image}\n                        alt={latestUser.id}\n                        size={20}\n                        style={{\n                          image: {\n                            borderColor: 'white',\n                            borderWidth: 1,\n                          },\n                        }}\n                        name={latestUser.id}\n                      />\n                    ) : (\n                      <View style={{ height: 20, width: 20 }} />\n                    )}\n                    <Text\n                      style={{ fontSize: 30 }}\n                      onPress={() => {\n                        handleReaction(id);\n                      }}\n                    >\n                      {icon}\n                    </Text>\n                    <Text style={styles.reactionCount}>\n                      {count > 0 ? count : ''}\n                    </Text>\n                  </View>\n                );\n              })}\n            </View>\n          </TouchableOpacity>\n        )}\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\nimport { renderText, capitalize } from '../../utils';\n\nexport const MessageText = ({\n  message,\n  isMyMessage = () => false,\n  style = null,\n}) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n  const groupStyles =\n    (isMyMessage(message) ? 'right' : 'left') +\n    capitalize(message.groupPosition[0]);\n\n  if (!message.text) return false;\n\n  const styles = buildStylesheet('MessageSimpleText', style);\n\n  return (\n    <React.Fragment>\n      <View\n        style={{\n          ...styles.container,\n          ...styles[pos],\n          ...styles[groupStyles],\n          ...styles[message.status],\n        }}\n      >\n        {renderText(message)}\n      </View>\n    </React.Fragment>\n  );\n};\n","const img = require('.//images/icons/icon_path.png'); export default img;","import React from 'react';\nimport { Text, TouchableOpacity, Image } from 'react-native';\n\nimport iconPath from '../../images/icons/icon_path.png';\n\nexport const MessageReplies = ({ message, isThreadList, openThread, pos }) => {\n  if (isThreadList || !message.reply_count) return null;\n\n  return (\n    <TouchableOpacity\n      onPress={openThread}\n      style={{ padding: 5, flexDirection: 'row' }}\n    >\n      {pos === 'left' ? <Image source={iconPath} /> : null}\n      <Text style={{ color: '#006CFF' }}>\n        {message.reply_count} {message.reply_count === 1 ? 'Reply' : 'Replies'}\n      </Text>\n      {pos === 'right' ? (\n        <Image\n          style={{\n            transform: [{ rotateY: '180deg' }],\n          }}\n          source={iconPath}\n        />\n      ) : null}\n    </TouchableOpacity>\n  );\n};\n","import React from 'react';\nimport { Dimensions, View, Text, TouchableOpacity } from 'react-native';\nimport moment from 'moment';\nimport {\n  buildStylesheet,\n  REACTION_PICKER_HEIGHT,\n} from '../../styles/styles.js';\nimport { Attachment } from '../Attachment';\nimport { ReactionList } from '../ReactionList';\nimport { ReactionPicker } from '../ReactionPicker';\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\nimport { MessageText } from './MessageText';\nimport { MessageReplies } from './MessageReplies';\nimport { Gallery } from '../Gallery';\nimport { MESSAGE_ACTIONS } from '../../utils';\nimport Immutable from 'seamless-immutable';\n\nexport class MessageContent extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.ActionSheet = false;\n    this.state = { reactionPickerVisible: false };\n  }\n\n  openThread = () => {\n    if (this.props.onThreadSelect)\n      this.props.onThreadSelect(this.props.message);\n  };\n\n  onMessageTouch = () => {\n    this.props.onMessageTouch(this.props.message.id);\n  };\n\n  showActionSheet = () => {\n    this.ActionSheet.show();\n  };\n\n  handleDelete = async () => {\n    await this.props.Message.handleDelete();\n  };\n\n  handleEdit = () => {\n    this.props.Message.handleEdit();\n  };\n\n  openReactionSelector = () => {\n    const { isMyMessage, message } = this.props;\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    this.messageContainer.measureInWindow((x, y, width) => {\n      this.setState({\n        reactionPickerVisible: true,\n        rpTop: y - REACTION_PICKER_HEIGHT,\n        rpLeft: pos === 'left' ? x : null,\n        rpRight:\n          pos === 'right'\n            ? Math.round(Dimensions.get('window').width) - (x + width)\n            : null,\n      });\n    });\n  };\n\n  onActionPress = (action) => {\n    switch (action) {\n      case MESSAGE_ACTIONS.edit:\n        this.handleEdit();\n        break;\n      case MESSAGE_ACTIONS.delete:\n        this.handleDelete();\n        break;\n      case MESSAGE_ACTIONS.reply:\n        this.openThread();\n        break;\n      case MESSAGE_ACTIONS.reactions:\n        this.openReactionSelector();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const {\n      message,\n      isMyMessage,\n      readOnly,\n      activeMessageId,\n      Message,\n      handleReaction,\n      threadList,\n      retrySendMessage,\n      messageActions,\n      style,\n    } = this.props;\n    const hasAttachment = Boolean(\n      message && message.attachments && message.attachments.length,\n    );\n\n    const pos = isMyMessage(message) ? 'right' : 'left';\n\n    const styles = buildStylesheet('MessageSimpleContent', style);\n\n    const showTime =\n      message.groupPosition[0] === 'single' ||\n      message.groupPosition[0] === 'bottom'\n        ? true\n        : false;\n\n    const options = [{ id: 'cancel', title: 'Cancel' }];\n    const images =\n      hasAttachment &&\n      message.attachments.filter((item) => item.type === 'image');\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reactions) > -1\n    ) {\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.reactions,\n        title: 'Add Reaction',\n      });\n    }\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 &&\n      !threadList\n    ) {\n      options.splice(1, 0, { id: MESSAGE_ACTIONS.reply, title: 'Reply' });\n    }\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 &&\n      Message.canEditMessage()\n    )\n      options.splice(1, 0, { id: MESSAGE_ACTIONS.edit, title: 'Edit Message' });\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 &&\n      Message.canDeleteMessage()\n    )\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.delete,\n        title: 'Delete Message',\n      });\n\n    if (message.deleted_at)\n      return (\n        <View style={{ ...styles.container, ...styles[pos], padding: 5 }}>\n          <Text style={{ ...styles.deletedText, ...styles.text }}>\n            This message was deleted ...\n          </Text>\n        </View>\n      );\n\n    const contentProps = {\n      style: {\n        ...styles.container,\n        ...styles[pos],\n        ...(styles[message.status] ? styles[message.status] : {}),\n      },\n      onLongPress: options.length > 1 ? this.showActionSheet : null,\n      activeOpacity: 0.7,\n      disabled: readOnly,\n    };\n\n    if (message.status === 'failed')\n      contentProps.onPress = retrySendMessage.bind(this, Immutable(message));\n\n    return (\n      <TouchableOpacity {...contentProps}>\n        {message.status === 'failed' ? (\n          <Text>Message failed - try again</Text>\n        ) : null}\n        {message.latest_reactions && message.latest_reactions.length > 0 && (\n          <ReactionList\n            visible={!this.state.reactionPickerVisible}\n            latestReactions={message.latest_reactions}\n            openReactionSelector={this.openReactionSelector}\n            reactionCounts={message.reaction_counts}\n          />\n        )}\n        {/* Reason for collapsible: https://github.com/facebook/react-native/issues/12966 */}\n        <View\n          ref={(o) => (this.messageContainer = o)}\n          collapsable={false}\n          style={{ alignItems: 'flex-end' }}\n        >\n          {hasAttachment &&\n            images.length <= 1 &&\n            message.attachments.map((attachment, index) => (\n              <Attachment\n                key={`${message.id}-${index}`}\n                attachment={attachment}\n                actionHandler={this.props.handleAction}\n              />\n            ))}\n          {images.length > 1 && <Gallery images={images} />}\n          <MessageText\n            message={message}\n            isMyMessage={isMyMessage}\n            disabled={message.status === 'failed'}\n            onMessageTouch={this.onMessageTouch}\n            activeMessageId={activeMessageId}\n            Message={Message}\n            openThread={this.openThread}\n            handleReaction={handleReaction}\n          />\n        </View>\n        <MessageReplies\n          message={message}\n          isThreadList={!!threadList}\n          openThread={this.openThread}\n          pos={pos}\n        />\n\n        {showTime ? (\n          <View style={styles.metaContainer}>\n            <Text style={{ ...styles.metaText, textAlign: pos }}>\n              {moment(message.created_at).format('h:mmA')}\n            </Text>\n          </View>\n        ) : null}\n\n        <ActionSheet\n          ref={(o) => {\n            this.ActionSheet = o;\n          }}\n          title={<Text>Choose an action</Text>}\n          options={options.map((o) => o.title)}\n          cancelButtonIndex={0}\n          destructiveButtonIndex={0}\n          onPress={(index) => this.onActionPress(options[index].id)}\n        />\n        <ReactionPicker\n          reactionPickerVisible={this.state.reactionPickerVisible}\n          handleReaction={handleReaction}\n          latestReactions={message.latest_reactions}\n          reactionCounts={message.reaction_counts}\n          handleDismiss={() => {\n            this.setState({ reactionPickerVisible: false });\n          }}\n          rpLeft={this.state.rpLeft}\n          rpRight={this.state.rpRight}\n          rpTop={this.state.rpTop}\n        />\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\nimport { Avatar } from '../Avatar';\n\nexport const MessageAvatar = ({ message, isMyMessage, style }) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n  const styles = buildStylesheet('MessageSimpleAvatar', style);\n\n  const showAvatar =\n    message.groupPosition[0] === 'single' ||\n    message.groupPosition[0] === 'bottom'\n      ? true\n      : false;\n\n  return (\n    <View\n      style={{\n        ...styles[pos],\n      }}\n    >\n      {showAvatar ? (\n        <Avatar image={message.user.image} size={32} name={message.user.name} />\n      ) : (\n        <View style={{ width: 32, height: 28 }} />\n      )}\n    </View>\n  );\n};\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\n\nimport { MessageStatus } from './MessageStatus';\nimport { MessageContent } from './MessageContent';\nimport { MessageAvatar } from './MessageAvatar';\n\nexport class MessageSimple extends React.PureComponent {\n  render() {\n    const { message, isMyMessage, style, editing } = this.props;\n    const styles = buildStylesheet('MessageSimple', style);\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    const bottomMargin =\n      message.groupPosition[0] === 'single' ||\n      message.groupPosition[0] === 'bottom'\n        ? 'bottom'\n        : null;\n    return (\n      <View\n        style={{\n          ...styles.container,\n          ...styles[pos],\n          ...styles[bottomMargin],\n          backgroundColor: editing.id === message.id ? 'pink' : 'white',\n        }}\n      >\n        {isMyMessage(message) ? (\n          <React.Fragment>\n            <MessageContent {...this.props} />\n            <MessageAvatar {...this.props} />\n            <MessageStatus {...this.props} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <MessageAvatar {...this.props} />\n            <MessageContent {...this.props} />\n          </React.Fragment>\n        )}\n      </View>\n    );\n  }\n}\n\nexport { MessageStatus } from './MessageStatus';\nexport { MessageContent } from './MessageContent';\nexport { MessageAvatar } from './MessageAvatar';\nexport { MessageText } from './MessageText';\n","import React from 'react';\nimport { Attachment } from './Attachment';\nimport { MessageSimple } from './MessageSimple';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\nimport { withChannelContext } from '../context';\nimport { MESSAGE_ACTIONS } from '../utils';\n\nconst Message = withChannelContext(\n  class Message extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false,\n      };\n    }\n\n    static propTypes = {\n      /** The message object */\n      message: PropTypes.object.isRequired,\n      /** The client connection object for connecting to Stream */\n      client: PropTypes.object.isRequired,\n      /** The current channel this message is displayed in */\n      channel: PropTypes.object.isRequired,\n      /** A list of users that have read this message **/\n      readBy: PropTypes.array,\n      /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n      groupStyles: PropTypes.array,\n      /** Editing, if the message is currently being edited */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /** The message rendering component, the Message component delegates its rendering logic to this component */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** Allows you to overwrite the attachment component */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    };\n\n    static defaultProps = {\n      Message: MessageSimple,\n      messageActions: Object.keys(MESSAGE_ACTIONS),\n      readBy: [],\n      groupStyles: [],\n      Attachment,\n      editing: false,\n    };\n\n    shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      let shouldUpdate = nextProps.message !== this.props.message;\n      // read state is the next most likely thing to change..\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      }\n      // group style often changes for the last 3 messages...\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.groupStyles, this.props.groupStyles)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // if lastreceivedId changesm, message should update.\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (\n        !shouldUpdate &&\n        nextProps.messageListRect !== this.props.messageListRect\n      ) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n\n    isMyMessage = (message) => this.props.client.user.id === message.user.id;\n    isAdmin = () => this.props.client.user.role === 'admin';\n\n    canEditMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    canDeleteMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    handleFlag = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.id);\n    };\n\n    handleMute = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.user.id);\n    };\n\n    handleEdit = () => {\n      this.props.setEditingState(this.props.message);\n    };\n\n    handleDelete = async () => {\n      const message = this.props.message;\n      const data = await this.props.client.deleteMessage(message.id);\n      this.props.updateMessage(data.message);\n    };\n\n    handleReaction = async (reactionType, event) => {\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      let userExistingReaction = null;\n\n      const currentUser = this.props.client.userID;\n      for (const reaction of this.props.message.own_reactions) {\n        // own user should only ever contain the current user id\n        // just in case we check to prevent bugs with message updates from breaking reactions\n        if (\n          currentUser === reaction.user.id &&\n          reaction.type === reactionType\n        ) {\n          userExistingReaction = reaction;\n        } else if (currentUser !== reaction.user.id) {\n          console.warn(\n            `message.own_reactions contained reactions from a different user, this indicates a bug`,\n          );\n        }\n      }\n\n      const originalMessage = this.props.message;\n      let reactionChangePromise;\n\n      /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n     */\n      if (userExistingReaction) {\n        this.props.channel.state.removeReaction(userExistingReaction);\n\n        reactionChangePromise = this.props.channel.deleteReaction(\n          this.props.message.id,\n          userExistingReaction.type,\n        );\n      } else {\n        // add the reaction\n        const messageID = this.props.message.id;\n        const tmpReaction = {\n          message_id: messageID,\n          user: this.props.client.user,\n          type: reactionType,\n          created_at: new Date(),\n        };\n        const reaction = { type: reactionType };\n\n        this.props.channel.state.addReaction(tmpReaction);\n        reactionChangePromise = this.props.channel.sendReaction(\n          messageID,\n          reaction,\n        );\n      }\n\n      try {\n        // only wait for the API call after the state is updated\n        await reactionChangePromise;\n      } catch (e) {\n        // revert to the original message if the API call fails\n        this.props.updateMessage(originalMessage);\n      }\n    };\n\n    handleAction = async (name, value, event) => {\n      event.preventDefault();\n      const messageID = this.props.message.id;\n      const formData = {};\n      formData[name] = value;\n\n      const data = await this.props.channel.sendAction(messageID, formData);\n\n      if (data && data.message) {\n        this.props.updateMessage(data.message);\n      } else {\n        this.props.removeMessage(this.props.message);\n      }\n    };\n\n    handleRetry = async (message) => {\n      await this.props.retrySendMessage(message);\n    };\n\n    render() {\n      const message = this.props.message;\n\n      const actionsEnabled =\n        message.type === 'regular' && message.status === 'received';\n\n      const Component = this.props.Message;\n      return (\n        <Component\n          {...this.props}\n          actionsEnabled={actionsEnabled}\n          Message={this}\n          handleReaction={this.handleReaction}\n          handleFlag={this.handleFlag}\n          handleMute={this.handleMute}\n          handleAction={this.handleAction}\n          handleReply={this.handleReply}\n          handleRetry={this.handleRetry}\n          isMyMessage={this.isMyMessage}\n          openThread={\n            this.props.openThread && this.props.openThread.bind(this, message)\n          }\n        />\n      );\n    }\n  },\n);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport { buildStylesheet } from '../styles/styles';\n\nexport class MessageNotification extends PureComponent {\n  static propTypes = {\n    /** If we should show the notification or not */\n    showNotification: PropTypes.bool,\n    /** Onclick handler */\n    onClick: PropTypes.func.isRequired,\n    /** Style overrides */\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    showNotification: true,\n  };\n\n  render() {\n    const styles = buildStylesheet('MessageNotification', this.props.style);\n    if (!this.props.showNotification) {\n      return null;\n    } else {\n      return (\n        <TouchableOpacity\n          onPress={this.props.onClick}\n          style={styles.container}\n          onClick={this.props.onClick}\n        >\n          {this.props.children}\n        </TouchableOpacity>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport { View, Text } from 'react-native';\nimport { styles } from '../styles/styles.js';\nimport Moment from 'moment';\n\nexport const DateSeparator = ({ message, formatDate, date }) => (\n  <View style={styles.DateSeparator.container} collapsable={false}>\n    <View style={styles.DateSeparator.dividingLines} />\n    <Text style={styles.DateSeparator.date}>\n      {formatDate\n        ? formatDate(date)\n        : Moment(message.date.toISOString()).calendar(null, {\n            lastDay: '[Yesterday]',\n            sameDay: '[Today]',\n            nextDay: '[Tomorrow]',\n            lastWeek: '[Last] dddd',\n            nextWeek: 'dddd',\n            sameElse: 'L',\n          })}\n    </Text>\n    <View style={styles.DateSeparator.dividingLines} />\n  </View>\n);\n","import React, { PureComponent } from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport { withChannelContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport { styles } from '../styles/styles.js';\n\nimport { Message } from './Message';\nimport { MessageNotification } from './MessageNotification';\nimport { DateSeparator } from './DateSeparator';\n\nconst MessageList = withChannelContext(\n  class MessageList extends PureComponent {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        newMessagesNotification: false,\n        activeMessageId: false,\n        online: props.online,\n      };\n    }\n\n    static propTypes = {\n      /** A list of immutable messages */\n      messages: PropTypes.array.isRequired,\n      /** Turn off grouping of messages by user */\n      noGroupByUser: PropTypes.bool,\n      online: PropTypes.bool,\n      /** The message rendering component, the Message component delegates its rendering logic to this component */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      dateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    };\n\n    static defaultProps = {\n      dateSeparator: DateSeparator,\n    };\n\n    componentDidUpdate(prevProps) {\n      if (this.props.online !== prevProps.online) {\n        this.setState({ online: this.props.online });\n      }\n\n      // handle new messages being sent/received\n      const currentLastMessage = this.props.messages[\n        this.props.messages.length - 1\n      ];\n      const previousLastMessage =\n        prevProps.messages[prevProps.messages.length - 1];\n      if (!previousLastMessage || !currentLastMessage) {\n        return;\n      }\n\n      const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n      const userScrolledUp = this.state.yOffset > 0;\n      const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n      let scrollToBottom = false;\n\n      // always scroll down when it's your own message that you added...\n      if (hasNewMessage && isOwner) {\n        scrollToBottom = true;\n      } else if (hasNewMessage && !userScrolledUp) {\n        scrollToBottom = true;\n      }\n\n      // Check the scroll position... if you're scrolled up show a little notification\n      if (\n        !scrollToBottom &&\n        hasNewMessage &&\n        !this.state.newMessagesNotification\n      ) {\n        this.setState({ newMessagesNotification: true });\n      }\n\n      if (scrollToBottom) {\n        this.flatList.scrollToIndex({ index: 0 });\n      }\n\n      // remove the scroll notification if we already scrolled down...\n      if (scrollToBottom && this.state.newMessagesNotification) {\n        this.setState({ newMessagesNotification: false });\n      }\n\n      this.getLastReceived(this.props.messages);\n    }\n\n    insertDates = (messages) => {\n      const newMessages = [];\n      for (const [i, message] of messages.entries()) {\n        if (message.type === 'message.read' || message.deleted_at) {\n          newMessages.push(message);\n          continue;\n        }\n\n        const messageDate = message.created_at.getDay();\n        let prevMessageDate = messageDate;\n\n        if (i < messages.length - 1) {\n          prevMessageDate = messages[i + 1].created_at.getDay();\n        }\n\n        if (i === 0) {\n          newMessages.push(\n            {\n              type: 'message.date',\n              date: message.created_at,\n            },\n            message,\n          );\n        } else if (messageDate !== prevMessageDate) {\n          newMessages.push(message, {\n            type: 'message.date',\n            date: messages[i + 1].created_at,\n          });\n        } else {\n          newMessages.push(message);\n        }\n      }\n\n      return newMessages;\n    };\n\n    assignGroupPositions = (m) => {\n      const l = m.length;\n      const newMessages = [];\n      const messages = [...m];\n\n      for (let i = 0; i < l; i++) {\n        const previousMessage = messages[i - 1];\n        const message = messages[i];\n        const nextMessage = messages[i + 1];\n        const groupStyles = [];\n        if (message.type === 'message.date') {\n          newMessages.unshift({ ...message, groupPosition: [] });\n          continue;\n        }\n        const userId = message.user.id;\n\n        const isTopMessage =\n          !previousMessage ||\n          previousMessage.type === 'message.date' ||\n          previousMessage.attachments.length !== 0 ||\n          userId !== previousMessage.user.id ||\n          previousMessage.type === 'error' ||\n          previousMessage.deleted_at;\n\n        const isBottomMessage =\n          !nextMessage ||\n          nextMessage.type === 'message.date' ||\n          nextMessage.attachments.length !== 0 ||\n          userId !== nextMessage.user.id ||\n          nextMessage.type === 'error' ||\n          nextMessage.deleted_at;\n\n        if (isTopMessage) {\n          groupStyles.push('top');\n        }\n\n        if (isBottomMessage) {\n          if (isTopMessage || message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.push('bottom');\n          }\n        }\n\n        if (!isTopMessage && !isBottomMessage) {\n          if (message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('middle');\n          }\n        }\n\n        if (message.attachments.length !== 0) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        if (this.props.noGroupByUser) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        newMessages.unshift({ ...message, groupPosition: groupStyles });\n      }\n\n      return newMessages;\n    };\n\n    goToNewMessages = () => {\n      this.setState({\n        newMessagesNotification: false,\n      });\n      this.flatList.scrollToIndex({ index: 0 });\n    };\n\n    getLastReceived = (messages) => {\n      const l = messages.length;\n      let lastReceivedId = null;\n      for (let i = l; i > 0; i--) {\n        if (\n          messages[i] !== undefined &&\n          messages[i].status !== undefined &&\n          messages[i].status === 'received'\n        ) {\n          lastReceivedId = messages[i].id;\n          break;\n        }\n      }\n      this.setState({ lastReceivedId });\n    };\n\n    renderItem = ({ item: message }) => {\n      if (message.type === 'message.date') {\n        const DateSeparator = this.props.dateSeparator;\n        return <DateSeparator message={message} />;\n      }\n\n      return (\n        <Message\n          onThreadSelect={this.props.onThreadSelect}\n          message={message}\n          Message={this.props.Message}\n          lastReceivedId={\n            this.state.lastReceivedId === message.id\n              ? this.state.lastReceivedId\n              : null\n          }\n          onMessageTouch={this.onMessageTouch}\n          activeMessageId={this.state.activeMessageId}\n          setEditingState={this.props.setEditingState}\n          editing={this.props.editing}\n          threadList={this.props.threadList}\n          messageActions={this.props.messageActions}\n        />\n      );\n    };\n\n    handleScroll = (event) => {\n      const yOffset = event.nativeEvent.contentOffset.y;\n      this.setState({ yOffset });\n    };\n\n    onMessageTouch = (id) => {\n      this.setState({ activeMessageId: id });\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"message\" />;\n    };\n\n    render() {\n      // We can't provide ListEmptyComponent to FlatList when inverted flag is set.\n      // https://github.com/facebook/react-native/issues/21196\n      if (this.props.messages && this.props.messages.length === 0) {\n        return <View style={{ flex: 1 }}>{this.renderEmptyState()}</View>;\n      }\n\n      const messagesWithDates = this.insertDates(this.props.messages);\n      const messagesWithGroupPositions = this.assignGroupPositions(\n        messagesWithDates,\n      );\n\n      return (\n        <React.Fragment>\n          <FlatList\n            ref={(fl) => (this.flatList = fl)}\n            style={{ flex: 1, paddingLeft: 10, paddingRight: 10 }}\n            data={messagesWithGroupPositions}\n            onScroll={this.handleScroll}\n            ListFooterComponent={this.props.headerComponent}\n            onEndReached={this.props.loadMore}\n            inverted\n            keyExtractor={(item) =>\n              item.id || item.created_at || item.date.toISOString()\n            }\n            renderItem={this.renderItem}\n            maintainVisibleContentPosition={{\n              minIndexForVisible: 1,\n              autoscrollToTopThreshold: 10,\n            }}\n          />\n          {this.state.newMessagesNotification && (\n            <MessageNotification\n              showNotification={this.state.newMessagesNotification}\n              onClick={this.goToNewMessages}\n            >\n              <View\n                style={{\n                  borderRadius: 10,\n                  backgroundColor: 'black',\n                  color: 'white',\n                  padding: 10,\n                }}\n              >\n                <Text style={{ color: 'white' }}>New Messages ↓</Text>\n              </View>\n            </MessageNotification>\n          )}\n          <Notification type=\"warning\" active={!this.state.online}>\n            <Text style={styles.Notification.warning}>\n              Connection failure, reconnecting now ...\n            </Text>\n          </Notification>\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nconst Notification = ({ children, active, type }) => {\n  if (active) {\n    return (\n      <View\n        style={{\n          ...styles.Notification.container,\n          ...styles.Notification[type],\n        }}\n      >\n        {children}\n      </View>\n    );\n  }\n\n  return null;\n};\n\nexport { MessageList };\n","const img = require('.//images/icons/icon_edit.png'); export default img;","const img = require('.//images/icons/icon_new_message.png'); export default img;","const img = require('.//images/reload1.png'); export default img;","import React from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity } from 'react-native';\nimport iconReload from '../images/reload1.png';\nimport PropTypes from 'prop-types';\nimport { ProgressIndicatorTypes } from '../utils';\n\nexport class WithProgressIndicator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    active: PropTypes.bool,\n    type: PropTypes.oneOf([\n      ProgressIndicatorTypes.IN_PROGRESS,\n      ProgressIndicatorTypes.RETRY,\n    ]),\n    action: PropTypes.func,\n  };\n\n  render() {\n    if (!this.props.active) {\n      return <View>{this.props.children}</View>;\n    }\n\n    return (\n      <TouchableOpacity onPress={this.props.action}>\n        {this.props.children}\n        <View\n          style={{\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: 'black',\n            opacity: 0.3,\n          }}\n        />\n        <View\n          style={{\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: 'transperant',\n          }}\n        >\n          {this.props.type === ProgressIndicatorTypes.IN_PROGRESS && (\n            <ActivityIndicator color=\"white\" />\n          )}\n          {this.props.type === ProgressIndicatorTypes.RETRY && (\n            <Image source={iconReload} style={{ height: 25, width: 25 }} />\n          )}\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Image, Text, FlatList, TouchableOpacity } from 'react-native';\nimport { WithProgressIndicator } from './WithProgressIndicator';\nimport PropTypes from 'prop-types';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * ImageUploadPreview\n *\n * @example ./docs/ImageUploadPreview.md\n * @extends PureComponent\n */\nexport class ImageUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    imageUploads: PropTypes.array.isRequired,\n    removeImage: PropTypes.func,\n    retryUpload: PropTypes.func,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    return (\n      <React.Fragment>\n        <View\n          style={{\n            padding: 5,\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'flex-start',\n          }}\n        >\n          <WithProgressIndicator\n            active={item.state !== FileState.UPLOADED}\n            type={type}\n            action={this.props.retryUpload.bind(this, item.id)}\n          >\n            <Image\n              source={{ uri: item.url }}\n              style={{ height: 100, width: 100, borderRadius: 10 }}\n            />\n          </WithProgressIndicator>\n          <TouchableOpacity\n            style={{\n              backgroundColor: '#ebebeb',\n              width: 25,\n              height: 25,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: 20,\n              marginLeft: -25,\n            }}\n            onPress={() => {\n              this.props.removeImage(item.id);\n            }}\n          >\n            <Text>X</Text>\n          </TouchableOpacity>\n        </View>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    if (!this.props.imageUploads || this.props.imageUploads.length === 0)\n      return null;\n\n    return (\n      <View style={{ height: 100, display: 'flex' }}>\n        <FlatList\n          horizontal\n          style={{ flex: 1 }}\n          data={this.props.imageUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport FileIcon from './FileIcon';\nimport { WithProgressIndicator } from './WithProgressIndicator';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * FileUploadPreview\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nconst FILE_PREVIEW_HEIGHT = 50;\nconst FILE_PREVIEW_PADDING = 10;\n\nexport class FileUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    fileUploads: PropTypes.array.isRequired,\n    removeFile: PropTypes.func,\n    retryUpload: PropTypes.func,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    return (\n      <WithProgressIndicator\n        active={item.state !== FileState.UPLOADED}\n        type={type}\n        action={this.props.retryUpload.bind(this, item.id)}\n      >\n        <View\n          style={{\n            height: FILE_PREVIEW_HEIGHT,\n            padding: FILE_PREVIEW_PADDING,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 5,\n            borderColor: '#EBEBEB',\n            borderWidth: 0.5,\n          }}\n        >\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <FileIcon\n              filename={item.file.name}\n              mimeType={item.file.type}\n              size={20}\n            />\n            <Text style={{ paddingLeft: 10 }}>\n              {item.file.name.length > 35\n                ? item.file.name.substring(0, 35).concat('...')\n                : item.file.name}\n            </Text>\n          </View>\n          <Text onPress={this.props.removeFile.bind(this, item.id)}>X</Text>\n        </View>\n      </WithProgressIndicator>\n    );\n  };\n\n  render() {\n    if (!this.props.fileUploads || this.props.fileUploads.length === 0)\n      return null;\n\n    return (\n      <View\n        style={{\n          display: 'flex',\n          height: this.props.fileUploads.length * (FILE_PREVIEW_HEIGHT + 5),\n          marginRight: 10,\n          marginLeft: 10,\n        }}\n      >\n        <FlatList\n          style={{ flex: 1 }}\n          data={this.props.fileUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","const img = require('.//images/icons/gallery.png'); export default img;","import React from 'react';\nimport { TextInput } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\nimport PropTypes from 'prop-types';\n\nexport class AutoCompleteInput extends React.PureComponent {\n  static propTypes = {\n    value: PropTypes.string,\n    openSuggestions: PropTypes.func,\n    closeSuggestions: PropTypes.func,\n    triggerSettings: PropTypes.object,\n    getUsers: PropTypes.func,\n    setInputBoxRef: PropTypes.func,\n  };\n\n  static defaultProps = {\n    value: '',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: props.value,\n      selectionStart: 0,\n      selectionEnd: 0,\n      currentTrigger: null,\n    };\n\n    this.isTrackingStarted = false;\n    this.previousChar = ' ';\n\n    this._createRegExp();\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log('in component did update: ' + prevProps.value);\n    if (prevProps.value !== this.props.value) {\n      this.setState({ text: this.props.value });\n      this.handleChange(this.props.value, true);\n    }\n  }\n\n  startTracking = () => {\n    this.isTrackingStarted = true;\n    const { component, title } = this.props.triggerSettings[\n      this.state.currentTrigger\n    ];\n    this.props.openSuggestions(title, component);\n    // console.log('start TRACKING');\n  };\n\n  stopTracking = () => {\n    this.isTrackingStarted = false;\n    // console.log('STOP TRACKING');\n    this.props.closeSuggestions();\n  };\n\n  updateSuggestions(q) {\n    const triggers = this.props.triggerSettings;\n    this.props.updateSuggestions({\n      data: triggers[this.state.currentTrigger].dataProvider(\n        q,\n        this.state.text,\n      ),\n      onSelect: this.onSelectSuggestion,\n      output: triggers[this.state.currentTrigger].output,\n    });\n  }\n\n  handleChange = (text, fromUpdate = false) => {\n    // console.log('in handle change: ' + text + ' from update: ' + fromUpdate);\n    if (!fromUpdate) {\n      this.props.onChange(text);\n      return;\n    }\n\n    this.handleSuggestions(text);\n  };\n\n  handleSelectionChange = ({\n    nativeEvent: {\n      selection: { start, end },\n    },\n  }) => {\n    // console.log('in handle selection: ', start, end);\n    this.setState({ selectionStart: start, selectionEnd: end });\n  };\n\n  onSelectSuggestion = (item) => {\n    const { text, currentTrigger } = this.state;\n    const { selectionEnd } = this.state;\n    const triggers = this.props.triggerSettings;\n    const newToken = triggers[currentTrigger].output(item);\n    // const { onChange, trigger } = this.props;\n\n    if (!currentTrigger) return;\n\n    const computeCaretPosition = (token, startToken) =>\n      startToken + token.length;\n\n    const textToModify = text.slice(0, selectionEnd);\n\n    const startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(\n        `\\\\${currentTrigger}${`[^\\\\${currentTrigger}${\n          triggers[currentTrigger].allowWhitespace ? '' : '\\\\s'\n        }]`}*$`,\n      ),\n    );\n\n    // we add space after emoji is selected if a caret position is next\n    const newTokenString = `${newToken.text} `;\n\n    const newCaretPosition = computeCaretPosition(\n      newTokenString,\n      startOfTokenPosition,\n    );\n    const modifiedText =\n      textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n    this.stopTracking();\n    this.props.onChange(text.replace(textToModify, modifiedText));\n\n    this.syncCaretPosition(newCaretPosition);\n\n    if (triggers[currentTrigger].callback)\n      triggers[currentTrigger].callback(item);\n  };\n\n  syncCaretPosition = async (position = 0) => {\n    await this.setState({ selectionStart: position, selectionEnd: position });\n  };\n\n  _createRegExp = () => {\n    const triggers = this.props.triggerSettings;\n\n    // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n    // https://stackoverflow.com/a/8057827/2719917\n    this.tokenRegExp = new RegExp(\n      `([${Object.keys(triggers).join('')}])(?:(?!\\\\1)[^\\\\s])*$`,\n    );\n  };\n\n  handleSuggestions = async (text) => {\n    // console.log('in handle suggestions: ' + text);\n    const { selectionEnd: selectionEnd } = this.state;\n\n    // TODO: Move these const to props\n    const minChar = 0;\n\n    let tokenMatch = this.tokenRegExp.exec(text.slice(0, selectionEnd));\n    let lastToken = tokenMatch && tokenMatch[0];\n    const triggers = this.props.triggerSettings;\n\n    let currentTrigger =\n      (lastToken && Object.keys(triggers).find((a) => a === lastToken[0])) ||\n      null;\n\n    /*\n      if we lost the trigger token or there is no following character we want to close\n      the autocomplete\n    */\n    if (\n      (!lastToken || lastToken.length <= minChar) &&\n      // check if our current trigger disallows whitespace\n      ((this.state.currentTrigger &&\n        !triggers[this.state.currentTrigger].allowWhitespace) ||\n        !this.state.currentTrigger)\n    ) {\n      // console.log('here 1');\n      this.stopTracking();\n      return;\n    }\n\n    /**\n     * This code has to be sync that is the reason why we obtain the currentTrigger\n     * from currentTrigger not this.state.currentTrigger\n     *\n     * Check if the currently typed token has to be afterWhitespace, or not.\n     */\n    if (\n      currentTrigger &&\n      text[tokenMatch.index - 1] &&\n      (triggers[currentTrigger].afterWhitespace &&\n        !text[tokenMatch.index - 1].match(/\\s/))\n    ) {\n      // console.log('here 2');\n      this.stopTracking();\n      return;\n    }\n\n    /**\n    If our current trigger allows whitespace\n    get the correct token for DataProvider, so we need to construct new RegExp\n   */\n    if (\n      this.state.currentTrigger &&\n      triggers[this.state.currentTrigger].allowWhitespace\n    ) {\n      tokenMatch = new RegExp(\n        `\\\\${this.state.currentTrigger}[^${this.state.currentTrigger}]*$`,\n      ).exec(text.slice(0, selectionEnd));\n      lastToken = tokenMatch && tokenMatch[0];\n\n      if (!lastToken) {\n        // console.log('here 3');\n        this.stopTracking();\n        return;\n      }\n\n      currentTrigger =\n        Object.keys(triggers).find((a) => a === lastToken[0]) || null;\n    }\n\n    const actualToken = lastToken.slice(1);\n\n    // if trigger is not configured step out from the function, otherwise proceed\n    if (!currentTrigger) {\n      return;\n    }\n\n    await this.setState({ currentTrigger });\n\n    if (!this.isTrackingStarted) this.startTracking();\n    // console.log('from handle suggestions: ' + currentTrigger);\n    this.updateSuggestions(actualToken);\n  };\n\n  render() {\n    const styles = buildStylesheet('MessageInput', this.props.style);\n    // console.log('RENDERING THE COMPONENT: ' + this.state.text);\n    return (\n      <TextInput\n        ref={this.props.setInputBoxRef}\n        style={styles.inputBox}\n        placeholder=\"Write your message\"\n        onChangeText={(text) => {\n          this.handleChange(text);\n        }}\n        numberOfLines={20}\n        value={this.state.text}\n        onSelectionChange={this.handleSelectionChange}\n        multiline\n      />\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { View, Text, Image, TouchableOpacity } from 'react-native';\nimport { withChannelContext, withSuggestionsContext } from '../context';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { buildStylesheet } from '../styles/styles';\nimport iconEdit from '../images/icons/icon_edit.png';\nimport iconNewMessage from '../images/icons/icon_new_message.png';\nimport { ImageUploadPreview } from './ImageUploadPreview';\nimport { FileUploadPreview } from './FileUploadPreview';\nimport { pickImage, pickDocument } from '../native';\nimport { lookup } from 'mime-types';\nimport Immutable from 'seamless-immutable';\nimport { FileState, ACITriggerSettings } from '../utils';\nimport PropTypes from 'prop-types';\nimport uniq from 'lodash/uniq';\n\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\n// import iconMedia from '../images/icons/icon_attach-media.png';\nimport iconGallery from '../images/icons/gallery.png';\nimport { AutoCompleteInput } from './AutoCompleteInput';\n\n// https://stackoverflow.com/a/6860916/2570866\nfunction generateRandomId() {\n  // prettier-ignore\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nconst MessageInput = withSuggestionsContext(\n  withChannelContext(\n    class MessageInput extends PureComponent {\n      constructor(props) {\n        super(props);\n        const state = this.getMessageDetailsForState(props.editing);\n        this.state = { ...state };\n      }\n\n      static propTypes = {\n        /** Override image upload request */\n        doImageUploadRequest: PropTypes.func,\n        /** Override file upload request */\n        doFileUploadRequest: PropTypes.func,\n        maxNumberOfFiles: PropTypes.number,\n        hasImagePicker: PropTypes.bool,\n        hasFilePicker: PropTypes.bool,\n      };\n\n      static defaultProps = {\n        hasImagePicker: true,\n        hasFilePicker: true,\n      };\n\n      getMessageDetailsForState = (message) => {\n        const imageOrder = [];\n        const imageUploads = {};\n        const fileOrder = [];\n        const fileUploads = {};\n        const attachments = [];\n        let mentioned_users = [];\n        let text = '';\n\n        if (message) {\n          text = message.text;\n          for (const attach of message.attachments) {\n            if (attach.type === 'image') {\n              const id = generateRandomId();\n              imageOrder.push(id);\n              imageUploads[id] = {\n                id,\n                url: attach.image_url,\n                state: 'finished',\n                file: { name: attach.fallback },\n              };\n            } else if (attach.type === 'file') {\n              const id = generateRandomId();\n              fileOrder.push(id);\n              fileUploads[id] = {\n                id,\n                url: attach.asset_url,\n                state: 'finished',\n                file: {\n                  name: attach.title,\n                  type: attach.mime_type,\n                  size: attach.file_size,\n                },\n              };\n            } else {\n              attachments.push(attach);\n            }\n          }\n\n          if (message.mentioned_users) {\n            mentioned_users = [...message.mentioned_users];\n            console.log(mentioned_users);\n          }\n        }\n        return {\n          text,\n          attachments,\n          imageOrder,\n          imageUploads: Immutable(imageUploads),\n          fileOrder,\n          fileUploads: Immutable(fileUploads),\n          mentioned_users,\n          numberOfUploads: 0,\n        };\n      };\n\n      getUsers = () => {\n        const users = [];\n        const members = this.props.members;\n        const watchers = this.props.watchers;\n        if (members && Object.values(members).length) {\n          Object.values(members).forEach((member) => users.push(member.user));\n        }\n\n        if (watchers && Object.values(watchers).length) {\n          users.push(...Object.values(watchers));\n        }\n\n        // make sure we don't list users twice\n        const userMap = {};\n        for (const user of users) {\n          if (user !== undefined && !userMap[user.id]) {\n            userMap[user.id] = user;\n          }\n        }\n        const usersArray = Object.values(userMap);\n        return usersArray;\n      };\n\n      componentDidMount() {\n        if (this.props.editing) this.inputBox.focus();\n      }\n\n      componentDidUpdate(prevProps) {\n        if (this.props.editing) this.inputBox.focus();\n        if (\n          this.props.editing &&\n          prevProps.editing &&\n          this.props.editing.id === prevProps.editing.id\n        ) {\n          return;\n        }\n\n        if (this.props.editing && !prevProps.editing) {\n          this.setState(this.getMessageDetailsForState(this.props.editing));\n        }\n\n        if (\n          this.props.editing &&\n          prevProps.editing &&\n          this.props.editing.id !== prevProps.editing.id\n        ) {\n          this.setState(this.getMessageDetailsForState(this.props.editing));\n        }\n\n        if (!this.props.editing && prevProps.editing) {\n          this.setState(this.getMessageDetailsForState());\n        }\n      }\n\n      onSelectItem = (item) => {\n        this.setState((prevState) => ({\n          mentioned_users: [...prevState.mentioned_users, item.id],\n        }));\n      };\n\n      sendMessage = () => {\n        const attachments = [];\n        for (const id of this.state.imageOrder) {\n          const image = this.state.imageUploads[id];\n          if (!image || image.state === FileState.UPLOAD_FAILED) {\n            continue;\n          }\n          if (image.state === FileState.UPLOADING) {\n            // TODO: show error to user that they should wait until image is uploaded\n            return;\n          }\n          attachments.push({\n            type: 'image',\n            image_url: image.url,\n            fallback: image.file.name,\n          });\n        }\n\n        for (const id of this.state.fileOrder) {\n          const upload = this.state.fileUploads[id];\n          if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n            continue;\n          }\n          if (upload.state === FileState.UPLOADING) {\n            // TODO: show error to user that they should wait until image is uploaded\n            return;\n          }\n          attachments.push({\n            type: 'file',\n            asset_url: upload.url,\n            title: upload.file.name,\n            mime_type: upload.file.type,\n            file_size: upload.file.size,\n          });\n        }\n\n        // Disallow sending message if its empty.\n        if (!this.state.text && attachments.length === 0) return;\n\n        if (this.props.editing) {\n          const { id } = this.props.editing;\n          const updatedMessage = { id };\n          updatedMessage.text = this.state.text;\n          updatedMessage.attachments = attachments;\n          updatedMessage.mentioned_users = this.state.mentioned_users.map(\n            (mu) => mu.id,\n          );\n          // TODO: Remove this line and show an error when submit fails\n          this.props.clearEditingState();\n\n          const updateMessagePromise = this.props.client\n            .updateMessage(updatedMessage)\n            .then(() => {\n              this.props.clearEditingState();\n            });\n          logChatPromiseExecution(updateMessagePromise, 'update message');\n        } else {\n          try {\n            this.props.sendMessage({\n              text: this.state.text,\n              parent: this.props.parent,\n              mentioned_users: uniq(this.state.mentioned_users),\n              attachments,\n            });\n            this.setState({\n              text: '',\n              imageUploads: Immutable({}),\n              imageOrder: Immutable([]),\n              fileUploads: Immutable({}),\n              fileOrder: Immutable([]),\n              mentioned_users: [],\n            });\n          } catch (err) {\n            console.log('Fialed');\n          }\n        }\n      };\n\n      updateMessage = async () => {\n        try {\n          await this.props.client.updateMessage({\n            ...this.props.editing,\n            text: this.state.text,\n          });\n\n          this.setState({ text: '' });\n          this.props.clearEditingState();\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      // https://stackoverflow.com/a/29234240/7625485\n      constructTypingString = (dict) => {\n        const arr2 = Object.keys(dict);\n        const arr3 = [];\n        arr2.forEach((item, i) => {\n          if (this.props.client.user.id === dict[arr2[i]].user.id) {\n            return;\n          }\n          arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n        });\n        let outStr = '';\n        if (arr3.length === 1) {\n          outStr = arr3[0] + ' is typing...';\n          dict;\n        } else if (arr3.length === 2) {\n          //joins all with \"and\" but =no commas\n          //example: \"bob and sam\"\n          outStr = arr3.join(' and ') + ' are typing...';\n        } else if (arr3.length > 2) {\n          //joins all with commas, but last one gets \", and\" (oxford comma!)\n          //example: \"bob, joe, and sam\"\n          outStr =\n            arr3.slice(0, -1).join(', ') +\n            ', and ' +\n            arr3.slice(-1) +\n            ' are typing...';\n        }\n\n        return outStr;\n      };\n\n      _pickFile = async () => {\n        if (\n          this.props.maxNumberOfFiles &&\n          this.state.numberOfUploads >= this.props.maxNumberOfFiles\n        )\n          return;\n\n        const result = await pickDocument();\n        if (result.type === 'cancel') {\n          return;\n        }\n        const mimeType = lookup(result.name);\n\n        if (mimeType.startsWith('image/')) {\n          this.uploadNewImage(result);\n        } else {\n          this.uploadNewFile(result);\n        }\n      };\n\n      uploadNewFile = (file) => {\n        const id = generateRandomId();\n        const mimeType = lookup(file.name);\n        /* eslint-disable */\n        this.setState((prevState) => {\n          return {\n            numberOfUploads: prevState.numberOfUploads + 1,\n            fileOrder: prevState.fileOrder.concat([id]),\n            fileUploads: prevState.fileUploads.setIn([id], {\n              id,\n              file: { ...file, type: mimeType },\n              state: FileState.UPLOADING,\n            }),\n          };\n        });\n        /* eslint-enable */\n\n        this._uploadFile(id);\n      };\n\n      _uploadFile = async (id) => {\n        const doc = this.state.fileUploads[id];\n        if (!doc) {\n          return;\n        }\n        const { file } = doc;\n\n        await this.setState((prevState) => ({\n          fileUploads: prevState.fileUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOADING,\n          ),\n        }));\n\n        let response = {};\n        response = {};\n        try {\n          if (this.props.doDocUploadRequest) {\n            response = await this.props.doDocUploadRequest(\n              file,\n              this.props.channel,\n            );\n          } else {\n            response = await this.props.channel.sendFile(file.uri);\n          }\n        } catch (e) {\n          console.warn(e);\n          await this.setState((prevState) => {\n            const image = prevState.fileUploads[id];\n            if (!image) {\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n              };\n            }\n            return {\n              fileUploads: prevState.fileUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOAD_FAILED,\n              ),\n              numberOfUploads: prevState.numberOfUploads - 1,\n            };\n          });\n\n          return;\n        }\n\n        this.setState((prevState) => ({\n          fileUploads: prevState.fileUploads\n            .setIn([id, 'state'], FileState.UPLOADED)\n            .setIn([id, 'url'], response.file),\n        }));\n      };\n\n      _pickImage = async () => {\n        if (\n          this.props.maxNumberOfFiles &&\n          this.state.numberOfUploads >= this.props.maxNumberOfFiles\n        )\n          return;\n\n        const result = await pickImage();\n        if (result.cancelled) {\n          return;\n        }\n\n        this.uploadNewImage(result);\n      };\n\n      uploadNewImage = (image) => {\n        const id = generateRandomId();\n        /* eslint-disable */\n        this.setState((prevState) => {\n          return {\n            numberOfUploads: prevState.numberOfUploads + 1,\n            imageOrder: prevState.imageOrder.concat([id]),\n            imageUploads: prevState.imageUploads.setIn([id], {\n              id,\n              file: image,\n              state: FileState.UPLOADING,\n            }),\n          };\n        });\n        /* eslint-enable */\n\n        this._uploadImage(id);\n      };\n\n      _removeImage = (id) => {\n        this.setState((prevState) => {\n          const img = prevState.imageUploads[id];\n          if (!img) {\n            return {};\n          }\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n            imageUploads: prevState.imageUploads.set(id, undefined), // remove\n            imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n          };\n        });\n      };\n\n      _removeFile = (id) => {\n        this.setState((prevState) => {\n          const file = prevState.fileUploads[id];\n          if (!file) {\n            return {};\n          }\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n            fileUploads: prevState.fileUploads.set(id, undefined), // remove\n            fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n          };\n        });\n      };\n\n      _uploadImage = async (id) => {\n        const img = this.state.imageUploads[id];\n        if (!img) {\n          return;\n        }\n        const { file } = img;\n\n        await this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOADING,\n          ),\n        }));\n\n        let response = {};\n        response = {};\n\n        const filename = (file.name || file.uri).replace(\n          /^(file:\\/\\/|content:\\/\\/)/,\n          '',\n        );\n        const contentType = lookup(filename) || 'application/octet-stream';\n\n        try {\n          if (this.props.doImageUploadRequest) {\n            response = await this.props.doImageUploadRequest(\n              file,\n              this.props.channel,\n            );\n          } else {\n            response = await this.props.channel.sendImage(\n              file.uri,\n              null,\n              contentType,\n            );\n          }\n        } catch (e) {\n          console.warn(e);\n          await this.setState((prevState) => {\n            const image = prevState.imageUploads[id];\n            if (!image) {\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n              };\n            }\n\n            return {\n              imageUploads: prevState.imageUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOAD_FAILED,\n              ),\n              numberOfUploads: prevState.numberOfUploads - 1,\n            };\n          });\n\n          return;\n        }\n        this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads\n            .setIn([id, 'state'], FileState.UPLOADED)\n            .setIn([id, 'url'], response.file),\n        }));\n      };\n\n      onChange = (text) => {\n        this.setState({ text });\n\n        if (text) {\n          logChatPromiseExecution(\n            this.props.channel.keystroke(),\n            'start typing event',\n          );\n        }\n      };\n\n      setInputBoxRef = (o) => (this.inputBox = o);\n\n      getCommands = () => {\n        const config = this.props.channel.getConfig();\n        const allCommands = config.commands;\n        return allCommands;\n      };\n\n      render() {\n        const styles = buildStylesheet('MessageInput', this.props.style);\n        const { hasImagePicker, hasFilePicker } = this.props;\n\n        return (\n          <React.Fragment>\n            <View\n              style={{\n                ...styles.container,\n                paddingTop: this.state.imageUploads.length > 0 ? 20 : 0,\n              }}\n            >\n              {this.state.fileUploads && (\n                <FileUploadPreview\n                  removeFile={this._removeFile}\n                  retryUpload={this._uploadFile}\n                  fileUploads={this.state.fileOrder.map(\n                    (id) => this.state.fileUploads[id],\n                  )}\n                />\n              )}\n              {this.state.imageUploads && (\n                <ImageUploadPreview\n                  removeImage={this._removeImage}\n                  retryUpload={this._uploadImage}\n                  imageUploads={this.state.imageOrder.map(\n                    (id) => this.state.imageUploads[id],\n                  )}\n                />\n              )}\n              <View\n                style={styles.inputBoxContainer}\n                ref={this.props.setInputBoxContainerRef}\n              >\n                <TouchableOpacity\n                  style={styles.attachButton}\n                  onPress={() => {\n                    if (hasImagePicker && hasFilePicker)\n                      this.attachActionSheet.show();\n                    else if (hasImagePicker && !hasFilePicker)\n                      this._pickImage();\n                    else if (!hasImagePicker && hasFilePicker) this._pickFile();\n                  }}\n                >\n                  <Image source={iconGallery} style={styles.attachButtonIcon} />\n                </TouchableOpacity>\n                {/**\n                  TODO: Use custom action sheet to show icon with titles of button. But it doesn't\n                  work well with async onPress operations. So find a solution.\n                */}\n                <ActionSheet\n                  ref={(o) => (this.attachActionSheet = o)}\n                  title={'Add a file'}\n                  options={['Select a photo', 'Upload a file', 'Cancel']}\n                  cancelButtonIndex={2}\n                  destructiveButtonIndex={2}\n                  onPress={(index) => {\n                    switch (index) {\n                      case 0:\n                        this._pickImage();\n                        break;\n                      case 1:\n                        this._pickFile();\n                        break;\n                      default:\n                    }\n                  }}\n                />\n                <AutoCompleteInput\n                  openSuggestions={this.props.openSuggestions}\n                  closeSuggestions={this.props.closeSuggestions}\n                  updateSuggestions={this.props.updateSuggestions}\n                  value={this.state.text}\n                  onChange={this.onChange}\n                  getUsers={this.getUsers}\n                  getCommands={this.getCommands}\n                  setInputBoxRef={this.setInputBoxRef}\n                  triggerSettings={ACITriggerSettings({\n                    users: this.getUsers(),\n                    commands: this.getCommands(),\n                    onMentionSelectItem: this.onSelectItem,\n                  })}\n                />\n                <TouchableOpacity\n                  style={styles.sendButton}\n                  title=\"Pick an image from camera roll\"\n                  onPress={this.sendMessage}\n                >\n                  {this.props.editing ? (\n                    <Image source={iconEdit} />\n                  ) : (\n                    <Image source={iconNewMessage} />\n                  )}\n                </TouchableOpacity>\n              </View>\n            </View>\n            <Text style={{ textAlign: 'right', height: 20 }}>\n              {this.props.channel.state.typing\n                ? this.constructTypingString(this.props.channel.state.typing)\n                : ''}\n            </Text>\n          </React.Fragment>\n        );\n      }\n    },\n  ),\n);\n\nexport { MessageInput };\n","import React, { PureComponent } from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { Avatar } from './Avatar';\nimport truncate from 'lodash/truncate';\n\nexport class ChannelPreviewMessenger extends PureComponent {\n  channelPreviewButton = React.createRef();\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel);\n  };\n\n  render() {\n    const { channel } = this.props;\n    return (\n      <TouchableOpacity\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          borderBottomColor: '#EBEBEB',\n          borderBottomWidth: 1,\n          padding: 10,\n        }}\n        onPress={this.onSelectChannel}\n      >\n        <Avatar image={channel.data.image} size={40} />\n        <View\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n            paddingLeft: 10,\n          }}\n        >\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n            }}\n          >\n            <Text\n              style={{ fontWeight: 'bold', fontSize: 14, flex: 9 }}\n              ellipsizeMode=\"tail\"\n              numberOfLines={1}\n            >\n              {channel.data.name}\n            </Text>\n            <Text\n              style={{\n                color: '#767676',\n                fontSize: 11,\n                flex: 3,\n                textAlign: 'right',\n              }}\n            >\n              {this.props.latestMessage.created_at}\n            </Text>\n          </View>\n          <Text\n            style={{\n              color: this.props.unread > 0 ? 'black' : '#767676',\n              fontSize: 13,\n              fontWeight: this.props.unread > 0 ? 'bold' : 'normal',\n            }}\n          >\n            {!channel.state.messages[0]\n              ? 'Nothing yet...'\n              : truncate(this.props.latestMessage.text.replace(/\\n/g, ' '), 14)}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Moment from 'moment';\n\nexport class ChannelPreview extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      unread: 0,\n      lastMessage: {},\n      lastRead: new Date(),\n    };\n  }\n\n  static propTypes = {\n    channel: PropTypes.object.isRequired,\n    client: PropTypes.object.isRequired,\n    setActiveChannel: PropTypes.func.isRequired,\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    // Preview: ChannelPreviewCountOnly,\n  };\n\n  componentDidMount() {\n    // listen to change...\n    const channel = this.props.channel;\n    this.setState({ unread: channel.countUnread() });\n    channel.on('message.new', this.handleNewMessageEvent);\n    channel.on('message.read', this.handleReadEvent);\n  }\n\n  componentWillUnmount() {\n    const channel = this.props.channel;\n    channel.off('message.new', this.handleNewMessageEvent);\n    channel.off('message.read', this.handleReadEvent);\n  }\n\n  handleReadEvent = (event) => {\n    if (event.user.id === this.props.client.userID) {\n      this.setState({ unread: this.props.channel.countUnread() });\n    }\n  };\n\n  handleNewMessageEvent = (event) => {\n    const channel = this.props.channel;\n    this.setState({\n      lastMessage: event.message,\n      unread: channel.countUnread(),\n    });\n  };\n\n  getLatestMessage = () => {\n    const { channel } = this.props;\n    const message = channel.state.messages[channel.state.messages.length - 1];\n\n    const latestMessage = {\n      text: '',\n      created_at: '',\n    };\n\n    if (!message) {\n      latestMessage.text = 'Nothing yet...';\n      return latestMessage;\n    }\n    if (message.deleted_at) {\n      latestMessage.text = 'Message deleted';\n    }\n\n    if (message.text) {\n      latestMessage.text = message.text.slice(0, 20);\n    } else {\n      if (message.command) {\n        latestMessage.text = '/' + message.command;\n      }\n      if (message.attachments.length) {\n        latestMessage.text = '🏙 Attachment...';\n      }\n      latestMessage.text = 'Empty message...';\n    }\n\n    if (Moment(message.created_at).isSame(new Date(), 'day'))\n      latestMessage.created_at = Moment(message.created_at).format('HH:mm A');\n    else {\n      latestMessage.created_at = Moment(message.created_at).format('DD/MM/YY');\n    }\n\n    return latestMessage;\n  };\n\n  render() {\n    const props = { ...this.state, ...this.props };\n    const { Preview } = this.props;\n    return <Preview {...props} latestMessage={this.getLatestMessage()} />;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { ChannelPreview } from './ChannelPreview';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\nconst ChannelListMessenger = withChatContext(\n  class ChannelListMessenger extends PureComponent {\n    static propTypes = {\n      /** Channels can be either an array of channels or a promise which resolves to an array of channels */\n      channels: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.objectOf({\n          then: PropTypes.func,\n        }),\n        PropTypes.object,\n      ]).isRequired,\n      /** The Preview to use, defaults to ChannelPreviewMessenger */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n\n      loadNextPage: PropTypes.func,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n    };\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderChannels = () => (\n      <FlatList\n        data={this.props.channels}\n        onEndReached={this.props.loadNextPage}\n        ListEmptyComponent={this.renderEmptyState}\n        renderItem={({ item: channel }) => (\n          <ChannelPreview\n            {...this.props}\n            key={channel.cid}\n            channel={channel}\n            Preview={this.props.Preview}\n          />\n        )}\n        keyExtractor={(item, index) => item.cid + index}\n      />\n    );\n\n    render() {\n      if (this.props.error) {\n        return this.renderLoadingError();\n      } else if (this.props.loadingChannels) {\n        return this.renderLoading();\n      } else {\n        return this.renderChannels();\n      }\n    }\n  },\n);\n\nexport { ChannelListMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport Immutable from 'seamless-immutable';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\nexport const isPromise = (thing) => {\n  const promise = thing && typeof thing.then === 'function';\n  return promise;\n};\n\nconst ChannelList = withChatContext(\n  class ChannelList extends PureComponent {\n    static propTypes = {\n      /** The Preview to use, defaults to ChannelPreviewMessenger */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n\n      List: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      onSelect: PropTypes.func,\n\n      /** Function that overrides default behaviour when users gets added to a channel */\n      onAddedToChannel: PropTypes.func,\n      /** Function that overrides default behaviour when users gets removed from a channel */\n      onRemovedFromChannel: PropTypes.func,\n\n      /** Object containing query filters */\n      filters: PropTypes.object,\n      /** Object containing query options */\n      options: PropTypes.object,\n      /** Object containing sort parameters */\n      sort: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      List: ChannelListMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      hasNextPage: true,\n      filters: {},\n      options: {},\n      sort: {},\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        loading: true,\n        channels: Immutable([]),\n        loadingChannels: true,\n        refreshing: false,\n        offset: 0,\n      };\n\n      this.menuButton = React.createRef();\n    }\n\n    isPromise = (thing) => {\n      const promise = thing && typeof thing.then === 'function';\n      return promise;\n    };\n\n    async componentDidMount() {\n      await this.queryChannels();\n      this.listenToChanges();\n    }\n\n    componentWillUnmount() {\n      this._unmounted = true;\n      this.props.client.off(this.handleEvent);\n    }\n\n    static getDerivedStateFromError() {\n      return { error: true };\n    }\n\n    componentDidCatch(error, info) {\n      console.warn(error, info);\n    }\n\n    clickCreateChannel = (e) => {\n      this.props.setChannelStart();\n      e.target.blur();\n    };\n\n    closeMenu = () => {\n      this.menuButton.current.checked = false;\n    };\n\n    queryChannels = async () => {\n      console.log('querying channels');\n      if (this._unmounted) return;\n      const { options, filters, sort } = this.props;\n      const { offset } = this.state;\n\n      this.setState({ refreshing: true });\n      const channelPromise = this.props.client.queryChannels(filters, sort, {\n        ...options,\n        offset,\n      });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n          console.log(channelQueryResponse.length);\n          if (offset === 0 && channelQueryResponse.length >= 1) {\n            if (this._unmounted) return;\n            this.props.setActiveChannel(channelQueryResponse[0]);\n          }\n        }\n        if (this._unmounted) return;\n        this.setState((prevState) => {\n          const channels = [...prevState.channels, ...channelQueryResponse];\n          return {\n            channels, // not unique somehow needs more checking\n            loadingChannels: false,\n            offset: channels.length,\n            hasNextPage:\n              channelQueryResponse.length >= options.limit ? true : false,\n            refreshing: false,\n          };\n        });\n      } catch (e) {\n        console.warn(e);\n        if (this._unmounted) return;\n        this.setState({ error: true, refreshing: false });\n      }\n    };\n\n    listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    }\n\n    handleEvent = async (e) => {\n      if (e.type === 'message.new') {\n        this.moveChannelUp(e.cid);\n      }\n\n      // move channel to start\n      if (e.type === 'notification.message_new') {\n        // if new message, put move channel up\n        // get channel if not in state currently\n        const channel = await this.getChannel(e.cid);\n        // move channel to starting position\n        this.setState((prevState) => ({\n          channels: [...channel, ...prevState.channels],\n        }));\n      }\n\n      // add to channel\n      if (e.type === 'notification.added_to_channel') {\n        if (\n          this.props.onAddedToChannel &&\n          typeof this.props.onAddedToChannel === 'function'\n        ) {\n          this.props.onAddedToChannel(e);\n        } else {\n          const channel = await this.getChannel(e.channel.cid);\n          this.setState((prevState) => ({\n            channels: [...channel, ...prevState.channels],\n          }));\n        }\n      }\n\n      // remove from channel\n      if (e.type === 'notification.removed_from_channel') {\n        if (\n          this.props.onRemovedFromChannel &&\n          typeof this.props.onRemovedFromChannel === 'function'\n        ) {\n          this.props.onRemovedFromChannel(e);\n        } else {\n          this.setState((prevState) => {\n            const channels = prevState.channels.filter(\n              (channel) => channel.cid !== e.channel.cid,\n            );\n            return {\n              channels,\n            };\n          });\n        }\n      }\n\n      return null;\n    };\n\n    getChannel = async (cid) => {\n      const channelPromise = this.props.client.queryChannels({ cid });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n        }\n        return channelQueryResponse;\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n\n    moveChannelUp = (cid) => {\n      if (this._unmounted) return;\n      const channels = this.state.channels;\n\n      // get channel index\n      const channelIndex = this.state.channels.findIndex(\n        (channel) => channel.cid === cid,\n      );\n      if (channelIndex === 0) return;\n\n      // get channel from channels\n      const channel = channels[channelIndex];\n      console.log('channel id: ' + channelIndex);\n      //remove channel from current position\n      channels.splice(channelIndex, 1);\n      //add channel at the start\n      channels.unshift(channel);\n\n      // set new channel state\n      this.setState({\n        channels: [...channels],\n      });\n    };\n\n    loadNextPage = () => {\n      this.queryChannels();\n    };\n\n    render() {\n      const context = {\n        clickCreateChannel: this.clickCreateChannel,\n        closeMenu: this.closeMenu,\n        loadNextPage: this.loadNextPage,\n      };\n      const List = this.props.List;\n      const props = { ...this.props, setActiveChannel: this.props.onSelect };\n\n      return (\n        <React.Fragment>\n          <List {...props} {...this.state} {...context} />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { ChannelList };\n","import React from 'react';\n\nimport { Text, View } from 'react-native';\n\nimport { withChannelContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\n\nimport { Message } from './Message';\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the stnadard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nconst Thread = withChannelContext(\n  class Thread extends React.PureComponent {\n    static propTypes = {\n      /** Channel is passed via the Channel Context */\n      channel: PropTypes.object.isRequired,\n      /** the thread (the parent message object) */\n      thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n\n      /** The message component to use for rendering messages */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The list of messages to render, state is handled by the parent channel component */\n      threadMessages: PropTypes.array.isRequired,\n\n      /** loadMoreThread iss called when infinite scroll wants to load more messages */\n      loadMoreThread: PropTypes.func.isRequired,\n\n      /** If there are more messages available, set to false when the end of pagination is reached */\n      threadHasMore: PropTypes.bool,\n      /** If the thread is currently loading more messages */\n      threadLoadingMore: PropTypes.bool,\n      /** Display the thread on 100% width of it's container. Useful for mobile style view */\n      fullWidth: PropTypes.bool,\n      /** Make input focus on mounting thread */\n      autoFocus: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      threadHasMore: true,\n      threadLoadingMore: true,\n      fullWidth: false,\n      autoFocus: true,\n    };\n\n    render() {\n      if (!this.props.thread) {\n        return null;\n      }\n\n      const parentID = this.props.thread.id;\n      const cid = this.props.channel.cid;\n\n      const key = `thread-${parentID}-${cid}`;\n      // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you switch thread the component is recreated\n      return <ThreadInner {...this.props} key={key} />;\n    }\n  },\n);\n\nclass ThreadInner extends React.PureComponent {\n  static propTypes = {\n    /** Channel is passed via the Channel Context */\n    channel: PropTypes.object.isRequired,\n    /** the thread (just a message) that we're rendering */\n    thread: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messageList = React.createRef();\n  }\n\n  async componentDidMount() {\n    const parentID = this.props.thread.id;\n    if (parentID && this.props.thread.reply_count) {\n      await this.props.loadMoreThread();\n    }\n  }\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n\n    const read = {};\n    const headerComponent = (\n      <React.Fragment>\n        <Message\n          message={this.props.thread}\n          initialMessage\n          threadList\n          readOnly\n          Message={this.props.Message}\n          style={{\n            container: { paddingLeft: 10, paddingRight: 10, paddingTop: 10 },\n          }}\n          {...this.props}\n        />\n        <View\n          style={{\n            padding: 20,\n            backgroundColor: '#F4F9FF',\n            margin: 10,\n            borderRadius: 4,\n            display: 'flex',\n            alignItems: 'center',\n          }}\n        >\n          <Text>Start of a new thread</Text>\n        </View>\n      </React.Fragment>\n    );\n\n    return (\n      <React.Fragment>\n        <MessageList\n          messages={this.props.threadMessages}\n          headerComponent={headerComponent}\n          read={read}\n          threadList\n          loadMore={this.props.loadMoreThread}\n          hasMore={this.props.threadHasMore}\n          loadingMore={this.props.threadLoadingMore}\n          Message={this.props.Message}\n        />\n        <MessageInput parent={this.props.thread} focus={this.props.autoFocus} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport { Thread };\n","import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\n\nexport class IconBadge extends React.Component {\n  render() {\n    const { children, showNumber, unread } = this.props;\n    const styles = buildStylesheet('iconBadge', this.props.styles);\n\n    return (\n      <View>\n        {children}\n        {unread > 0 && (\n          <View style={styles.icon}>\n            <View style={styles.iconInner}>\n              {showNumber && <Text style={styles.text}>{unread}</Text>}\n            </View>\n          </View>\n        )}\n      </View>\n    );\n  }\n}\n"],"names":["BASE_FONT_SIZE","REACTION_PICKER_HEIGHT","Sizes","borderRadius","borderRadiusS","Colors","primary","secondary","danger","light","textLight","textDark","textGrey","Layouts","flexRow","display","flexDirection","flexColumn","styles","Avatar","StyleSheet","create","image","width","height","fallback","backgroundColor","justifyContent","alignItems","fallbackText","color","textTransform","fontSize","fontWeight","MessageSimple","container","left","right","bottom","marginBottom","MessageSimpleAvatar","marginRight","marginLeft","MessageSimpleContent","maxWidth","failed","padding","error","metaContainer","marginTop","metaText","MessageSimpleText","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","paddingLeft","paddingRight","text","lineHeight","deletedText","alignSelf","borderWidth","borderColor","rightSingle","rightTop","rightMiddle","rightBottom","leftSingle","leftTop","leftMiddle","leftBottom","MessageInput","inputBoxContainer","minHeight","margin","inputBox","maxHeight","flex","sendButton","pictureButton","attachButton","attachButtonIcon","iconGallery","iconMedia","HyperLink","title","Card","footer","AttachmentActions","button","paddingTop","paddingBottom","primaryButton","primaryButtonText","defaultButton","defaultButtonText","MessageNotification","zIndex","Notification","warning","DateSeparator","dividingLines","date","textAlign","ReactionPicker","reactionColumn","reactionCount","iconBadge","icon","iconInner","minWidth","depthOf","object","level","key","hasOwnProperty","depth","Math","max","getStyle","styleName","buildStylesheet","styleOverwrites","baseStyle","Object","keys","length","falseObj","base","map","k","flatten","reduce","accumulated","v","assign","topLevelOverwrites","filter","defaultsDeep","imageError","setState","name","split","slice","charAt","props","size","style","initials","getInitials","React","state","uri","setError","PureComponent","PropTypes","string","shape","oneOf","number","ChatContext","createContext","client","withChatContext","OriginalComponent","ContextAwareComponent","ContextComponent","context","mergedProps","displayName","replace","ChannelContext","withChannelContext","channelContext","SuggestionsContext","withSuggestionsContext","suggestionsContext","NetInfo","Error","pickImage","pickDocument","registerNativeHandlers","handlers","colors","baseUseCases","themes","useCase","push","Chat","isConnected","wsConnection","onlineStatusChanged","type","fetch","then","notifyChatClient","addEventListener","handleConnectionChange","channel","e","undefined","preventDefault","_unmounted","setActiveChannel","theme","isOnline","connectionRecovering","setConnectionListener","on","event","online","off","handleEvent","removeEventListener","getContext","children","isRequired","SuggestionsProvider","component","Promise","all","getInputBoxPosition","getChatBoxPosition","inputBoxPosition","chatBoxPosition","suggestionsBottomMargin","y","suggestionsLeftMargin","x","suggestionsWidth","suggestionsViewActive","suggestionsBackdropHeight","suggestionsTitle","suggestions","o","messageInputBox","resolve","nodeHandleRoot","findNodeHandle","rootView","measureLayout","setInputBoxContainerRef","openSuggestions","closeSuggestions","updateSuggestions","setRootView","SuggestionsView","item","onSelect","Component","SUGGESTIONS_ITEM_HEIGHT","active","data","backdropHeight","handleDismiss","position","min","shadowColor","shadowOpacity","shadowOffset","SuggestionsSeparator","renderItem","index","SuggestionsHeader","LoadingIndicator","listType","LoadingErrorIndicator","Loader","EmptyStateIndicator","Indicator","ChannelInner","keyboardHeight","startCoordinates","screenY","endCoordinates","rootChannelView","measureInWindow","Dimensions","get","windowHeight","Animated","timing","channelHeight","toValue","duration","start","initialHeight","message","threadMessages","threads","id","thread","threadLoadingMore","parentID","oldMessages","oldestMessageID","limit","getReplies","id_lt","queryResponse","hasMore","messages","_loadMoreThreadFinishedDebounced","threadHasMore","editing","updatedMessage","extraState","addMessageSorted","parent_id","removeMessage","attachments","parent","mentioned_users","clientSideID","userID","uuidv4","html","__html","status","user","created_at","Date","reactions","messageData","sendMessage","messageResponse","updateMessage","console","log","filterErrorMessages","messagePreview","createMessagePreview","messageInput","commands","userAutocomplete","_sendMessage","asMutable","threadState","messageToImmutable","_setStateThrottled","watchers","read","typing","watcher_count","loadingMore","oldestID","perPage","query","warn","_loadMoreFinishedDebounced","channels","Message","Attachment","retrySendMessage","resetNotification","listenToScroll","setEditingState","clearEditingState","openThread","closeThread","loadMoreThread","nativeEvent","layout","Value","loading","Immutable","members","kavEnabled","debounce","loadMoreFinished","leading","trailing","loadMoreThreadFinished","throttle","prevProps","errored","initialized","watch","lastRead","copyChannelState","listenToChanges","keyboardDidShowListener","Keyboard","addListener","keyboardDidShow","keyboardDidHideListener","keyboardDidHide","cancel","remove","markRead","c","selectRegularMessages","core","renderLoadingError","renderLoading","onLayout","setRootChannelView","trueOrFalse","renderComponent","func","oneOfType","node","Channel","cid","url","trimmedUrl","Linking","canOpenURL","supported","openURL","image_url","thumb_url","title_link","og_scrape_url","_goToURL","trimUrl","giphyLogo","img","wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","iconPDF","iconDOC","iconXLS","iconPPT","iconTAR","mimeTypeToIcon","mimeType","FileIcon","React.createElement","actions","actionHandler","action","value","bind","array","Gallery","viewerModalOpen","images","i","arrayOf","GalleryHeader","a","attachment","asset_url","mime_type","file_size","MessageStatus","lastReceivedId","threadList","loadingGif","iconDeliveredUnseen","MentionsItem","CommandsItem","args","description","renderText","trim","urls","anchorme","list","urlInfo","displayLink","truncate","encoded","omission","mkdown","protocol","raw","newText","username","re","RegExp","markdownStyles","link","textDecorationLine","emojiData","capitalize","s","toUpperCase","FileState","freeze","NO_FILE","UPLOADING","UPLOADED","UPLOAD_FAILED","ProgressIndicatorTypes","IN_PROGRESS","RETRY","ACITriggerSettings","users","onMentionSelectItem","dataProvider","q","matchingUsers","toLowerCase","indexOf","output","entity","caretPosition","callback","selectedCommands","sort","b","nameA","nameB","MESSAGE_ACTIONS","edit","reply","ReactionList","reactionsByType","emojiDataByType","forEach","reactionTypes","reactionCounts","count","latestReactions","openReactionSelector","visible","opacity","_renderReactions","_getReactionCount","filtered","getUsersPerReaction","reactionPickerVisible","handleReaction","rpLeft","rpTop","rpRight","latestUser","getLatestUser","MessageText","isMyMessage","pos","groupStyles","groupPosition","MessageReplies","isThreadList","reply_count","iconPath","transform","rotateY","MessageContent","onThreadSelect","onMessageTouch","ActionSheet","show","handleDelete","handleEdit","messageContainer","round","readOnly","activeMessageId","messageActions","hasAttachment","Boolean","showTime","options","splice","canEditMessage","canDeleteMessage","deleted_at","contentProps","onLongPress","showActionSheet","activeOpacity","disabled","onPress","latest_reactions","reaction_counts","handleAction","moment","format","onActionPress","MessageAvatar","showAvatar","bottomMargin","role","isAdmin","flagMessage","deleteMessage","reactionType","userExistingReaction","currentUser","own_reactions","reaction","originalMessage","removeReaction","reactionChangePromise","deleteReaction","messageID","tmpReaction","message_id","addReaction","sendReaction","formData","sendAction","nextProps","shouldUpdate","deepequal","readBy","messageListRect","actionsEnabled","handleFlag","handleMute","handleReply","handleRetry","bool","showNotification","onClick","formatDate","Moment","toISOString","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse","MessageList","newMessages","entries","messageDate","getDay","prevMessageDate","m","l","previousMessage","nextMessage","unshift","userId","isTopMessage","isBottomMessage","noGroupByUser","newMessagesNotification","flatList","scrollToIndex","dateSeparator","yOffset","contentOffset","currentLastMessage","previousLastMessage","hasNewMessage","userScrolledUp","isOwner","scrollToBottom","getLastReceived","renderEmptyState","messagesWithDates","insertDates","messagesWithGroupPositions","assignGroupPositions","fl","handleScroll","headerComponent","loadMore","minIndexForVisible","autoscrollToTopThreshold","goToNewMessages","WithProgressIndicator","iconReload","ImageUploadPreview","retryUpload","removeImage","imageUploads","_renderItem","FILE_PREVIEW_HEIGHT","FILE_PREVIEW_PADDING","FileUploadPreview","file","substring","concat","removeFile","fileUploads","AutoCompleteInput","isTrackingStarted","triggerSettings","currentTrigger","fromUpdate","onChange","handleSuggestions","selection","end","selectionStart","selectionEnd","triggers","newToken","computeCaretPosition","token","startToken","textToModify","startOfTokenPosition","search","allowWhitespace","newTokenString","newCaretPosition","modifiedText","stopTracking","syncCaretPosition","tokenRegExp","join","minChar","tokenMatch","exec","lastToken","find","afterWhitespace","match","actualToken","startTracking","previousChar","_createRegExp","handleChange","onSelectSuggestion","setInputBoxRef","handleSelectionChange","getUsers","generateRandomId","S4","random","toString","imageOrder","fileOrder","attach","numberOfUploads","values","member","userMap","usersArray","prevState","upload","mu","updateMessagePromise","logChatPromiseExecution","uniq","err","dict","arr2","arr3","outStr","maxNumberOfFiles","result","lookup","startsWith","uploadNewImage","uploadNewFile","setIn","_uploadFile","doc","response","doDocUploadRequest","sendFile","cancelled","_uploadImage","set","_id","filename","contentType","doImageUploadRequest","sendImage","keystroke","config","getConfig","allCommands","getMessageDetailsForState","focus","hasImagePicker","hasFilePicker","_removeFile","_removeImage","attachActionSheet","_pickImage","_pickFile","getCommands","onSelectItem","iconEdit","iconNewMessage","constructTypingString","doFileUploadRequest","ChannelPreviewMessenger","createRef","borderBottomColor","borderBottomWidth","onSelectChannel","latestMessage","unread","ChannelPreview","countUnread","lastMessage","command","isSame","handleNewMessageEvent","handleReadEvent","Preview","getLatestMessage","ChannelListMessenger","loadNextPage","loadingChannels","renderChannels","objectOf","isPromise","thing","promise","ChannelList","setChannelStart","target","blur","menuButton","current","checked","filters","offset","refreshing","channelPromise","queryChannels","channelQueryResponse","hasNextPage","moveChannelUp","getChannel","onAddedToChannel","onRemovedFromChannel","channelIndex","findIndex","info","clickCreateChannel","closeMenu","List","Thread","fullWidth","autoFocus","ThreadInner","messageList","IconBadge","showNumber"],"mappings":"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"}