{"version":3,"file":"index.js","sources":["../src/styles/styles.js","../src/components/Avatar.js","../src/context.js","../src/native.js","../src/components/Chat.js","../src/components/SuggestionsProvider.js","../src/components/LoadingIndicator.js","../src/components/LoadingErrorIndicator.js","../src/components/EmptyStateIndicator.js","../src/components/ChannelInner.js","../src/components/Channel.js","../src/assets/Poweredby_100px-White_VertText.png","../src/components/Card.js","../src/images/PDF.png","../src/images/DOC.png","../src/images/PPT.png","../src/images/XLS.png","../src/images/TAR.png","../src/components/FileIcon.js","../src/components/AttachmentActions.js","../src/components/Gallery.js","../src/components/Attachment.js","../src/images/loading.gif","../src/images/icons/delivered_unseen.png","../src/components/MessageSimple/MessageStatus.js","../src/components/MentionsItem.js","../src/components/CommandsItem.js","../src/utils.js","../src/components/ReactionList.js","../src/components/ReactionPicker.js","../src/components/MessageSimple/MessageText.js","../src/images/icons/icon_path.png","../src/components/MessageSimple/MessageReplies.js","../src/components/MessageSimple/MessageContent.js","../src/components/MessageSimple/MessageAvatar.js","../src/components/MessageSimple/index.js","../src/components/Message.js","../src/components/MessageNotification.js","../src/components/DateSeparator.js","../src/components/MessageList.js","../src/images/icons/icon_edit.png","../src/images/icons/icon_new_message.png","../src/images/reload1.png","../src/components/WithProgressIndicator.js","../src/components/ImageUploadPreview.js","../src/components/FileUploadPreview.js","../src/images/icons/gallery.png","../src/components/AutoCompleteInput.js","../src/components/MessageInput.js","../src/components/ChannelPreviewMessenger.js","../src/components/ChannelPreview.js","../src/components/ChannelListMessenger.js","../src/components/ChannelList.js","../src/components/Thread.js","../src/components/IconBadge.js"],"sourcesContent":["import { StyleSheet } from 'react-native';\nimport { defaultsDeep } from 'lodash-es';\n\n// set variables\n\nexport const BASE_FONT_SIZE = 16;\n\n// Set fixed component sizes\n\nexport const REACTION_PICKER_HEIGHT = 70;\n\nconst Sizes = {\n  borderRadius: 16,\n  borderRadiusS: 2,\n};\n\nexport const Colors = {\n  primary: '#006cff',\n  secondary: '#111',\n  danger: '#EDD8DD',\n  light: '#EBEBEB',\n  textLight: 'white',\n  textDark: 'rgba(0,0,0,1)',\n  textGrey: 'rgba(0,0,0,0.5)',\n};\n\nconst Layouts = {\n  flexRow: {\n    display: 'flex',\n    flexDirection: 'row',\n  },\n  flexColumn: {\n    display: 'flex',\n    flexDirection: 'column',\n  },\n};\n\nexport const styles = {\n  Avatar: StyleSheet.create({\n    image: {\n      width: 50,\n      height: 50,\n    },\n    fallback: {\n      backgroundColor: Colors.primary,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    fallbackText: {\n      color: Colors.textLight,\n      textTransform: 'uppercase',\n      fontSize: BASE_FONT_SIZE - 2,\n      fontWeight: '600',\n    },\n  }),\n  MessageSimple: StyleSheet.create({\n    container: {\n      ...Layouts.flexRow,\n      alignItems: 'flex-end',\n    },\n    left: {\n      justifyContent: 'flex-start',\n    },\n    right: {\n      justifyContent: 'flex-end',\n    },\n    bottom: {\n      marginBottom: 20,\n    },\n  }),\n  MessageSimpleAvatar: StyleSheet.create({\n    left: {\n      marginRight: 8,\n    },\n    right: {\n      marginLeft: 8,\n    },\n  }),\n  MessageSimpleContent: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      maxWidth: 250,\n    },\n    left: {\n      alignItems: 'flex-start',\n      justifyContent: 'flex-start',\n    },\n    right: {\n      alignItems: 'flex-end',\n      justifyContent: 'flex-end',\n    },\n    failed: {\n      padding: 5,\n      borderRadius: 10,\n      backgroundColor: Colors.danger,\n    },\n    error: {\n      padding: 5,\n      borderRadius: 10,\n      backgroundColor: Colors.danger,\n    },\n    metaContainer: {\n      marginTop: 2,\n    },\n    metaText: {\n      fontSize: 11,\n      color: Colors.textGrey,\n    },\n  }),\n  MessageSimpleText: StyleSheet.create({\n    container: {\n      borderBottomLeftRadius: Sizes.borderRadius,\n      borderBottomRightRadius: Sizes.borderRadius,\n      borderTopLeftRadius: Sizes.borderRadius,\n      borderTopRightRadius: Sizes.borderRadius,\n      marginTop: 2,\n      padding: 5,\n      paddingLeft: 8,\n      paddingRight: 8,\n    },\n    text: {\n      fontSize: 15,\n      lineHeight: 20,\n    },\n    deletedText: {\n      color: '#A4A4A4',\n    },\n    left: {\n      alignSelf: 'flex-start',\n      borderWidth: 0.5,\n      borderColor: 'rgba(0,0,0,0.08)',\n    },\n    right: {\n      alignSelf: 'flex-end',\n      backgroundColor: Colors.light,\n    },\n    failed: {\n      backgroundColor: 'transparent',\n    },\n    error: {\n      backgroundColor: 'transparent',\n    },\n    rightSingle: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n    },\n    rightTop: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n    },\n    rightMiddle: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n      borderTopRightRadius: Sizes.borderRadiusS,\n    },\n    rightBottom: {\n      borderBottomRightRadius: Sizes.borderRadiusS,\n      borderTopRightRadius: Sizes.borderRadiusS,\n    },\n    leftSingle: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n    },\n    leftTop: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n    },\n    leftMiddle: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n      borderTopLeftRadius: Sizes.borderRadiusS,\n    },\n    leftBottom: {\n      borderBottomLeftRadius: Sizes.borderRadiusS,\n      borderTopLeftRadius: Sizes.borderRadiusS,\n    },\n  }),\n  MessageInput: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      borderRadius: 10,\n      backgroundColor: 'rgba(0,0,0,0.05)',\n    },\n    inputBoxContainer: {\n      ...Layouts.flexRow,\n      paddingLeft: 10,\n      paddingRight: 10,\n      minHeight: 46,\n      margin: 10,\n      alignItems: 'center',\n    },\n    inputBox: {\n      maxHeight: 60,\n      marginTop: -5,\n      flex: 1,\n    },\n    sendButton: {\n      marginLeft: 8,\n    },\n    pictureButton: {\n      marginRight: 8,\n    },\n    attachButton: {\n      marginRight: 8,\n    },\n    attachButtonIcon: {\n      height: 15,\n      width: 15,\n    },\n    iconGallery: {\n      width: 20,\n      height: 20,\n      marginRight: 10,\n    },\n    iconMedia: {\n      width: 20,\n      height: 20,\n      marginRight: 10,\n    },\n  }),\n  HyperLink: StyleSheet.create({\n    title: {\n      color: Colors.primary,\n      fontWeight: 'bold',\n    },\n  }),\n\n  Card: StyleSheet.create({\n    footer: {\n      ...Layouts.flexRow,\n      justifyContent: 'space-between',\n      backgroundColor: Colors.light,\n      padding: 10,\n      borderBottomLeftRadius: 16,\n      borderBottomRightRadius: 16,\n    },\n  }),\n  AttachmentActions: StyleSheet.create({\n    container: {\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      padding: 5,\n    },\n    button: {\n      borderRadius: 20,\n      paddingTop: 5,\n      paddingBottom: 5,\n      paddingLeft: 10,\n      paddingRight: 10,\n      alignItems: 'center',\n    },\n    primaryButton: {\n      backgroundColor: '#006CFF',\n    },\n    primaryButtonText: {\n      color: 'white',\n    },\n    defaultButton: {\n      backgroundColor: 'white',\n      borderColor: Colors.light,\n      borderWidth: 1,\n    },\n    defaultButtonText: {\n      color: 'black',\n    },\n  }),\n  MessageNotification: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      alignItems: 'center',\n      zIndex: 10,\n      marginBottom: 0,\n    },\n  }),\n  Notification: StyleSheet.create({\n    container: {\n      ...Layouts.flexColumn,\n      alignItems: 'center',\n      zIndex: 10,\n      marginBottom: 0,\n      padding: 5,\n    },\n    warning: {\n      color: 'red',\n      backgroundColor: '#FAE6E8',\n    },\n  }),\n  DateSeparator: StyleSheet.create({\n    container: {\n      ...Layouts.flexRow,\n      justifyContent: 'center',\n      alignItems: 'center',\n    },\n    dividingLines: {\n      flex: 1,\n      borderColor: Colors.light,\n      borderWidth: 1,\n      height: 0,\n    },\n    date: {\n      flex: 1,\n      textAlign: 'center',\n    },\n  }),\n  ReactionPicker: StyleSheet.create({\n    container: {\n      display: 'flex',\n      flexDirection: 'row',\n      backgroundColor: 'black',\n      paddingLeft: 20,\n      height: REACTION_PICKER_HEIGHT,\n      paddingRight: 20,\n      borderRadius: 30,\n    },\n    reactionColumn: {\n      flexDirection: 'column',\n      alignItems: 'center',\n      marginTop: -5,\n    },\n    reactionCount: {\n      color: 'white',\n      fontSize: 10,\n      fontWeight: 'bold',\n    },\n  }),\n  iconBadge: StyleSheet.create({\n    icon: {\n      paddingTop: 5,\n      alignSelf: 'center',\n      borderRadius: 20,\n      alignItems: 'center',\n      justifyContent: 'center',\n    },\n    text: {\n      fontSize: 10,\n      color: '#fff',\n    },\n    iconInner: {\n      backgroundColor: 'green',\n      justifyContent: 'center',\n      alignItems: 'center',\n      alignSelf: 'flex-start',\n      minWidth: 15,\n      height: 15,\n      paddingLeft: 3,\n      paddingRight: 3,\n      borderRadius: 20,\n    },\n  }),\n};\n\nconst depthOf = function(object) {\n  let level = 1;\n  let key;\n  for (key in object) {\n    if (!object.hasOwnProperty(key)) continue;\n\n    if (typeof object[key] == 'object') {\n      const depth = depthOf(object[key]) + 1;\n      level = Math.max(depth, level);\n    }\n  }\n  return level;\n};\n\nexport function getStyle(styleName) {\n  return styles[styleName] || {};\n}\n\nexport function updateStyle(styleName, styleOverwrites) {\n  styles[styleName] = buildStylesheet(styleName, styleOverwrites);\n}\n\n/** function buildStylesheet\n * @param styleName: string\n * @param styleOverwrites: any\n */\nexport function buildStylesheet(styleName, styleOverwrites) {\n  const baseStyle = getStyle(styleName);\n  if (!styleOverwrites || Object.keys(styleOverwrites).length === 0) {\n    return baseStyle;\n  }\n  const falseObj = {};\n  const base = Object.keys(baseStyle)\n    .map((k) => ({ [k]: StyleSheet.flatten(baseStyle[k]) }))\n    .reduce((accumulated, v) => Object.assign(accumulated, v), {});\n\n  const topLevelOverwrites = Object.keys(styleOverwrites)\n    .map((k) => {\n      if (depthOf(styleOverwrites[k]) === 1) {\n        return { [k]: StyleSheet.flatten(styleOverwrites[k]) };\n      }\n      return falseObj;\n    })\n    .filter((v) => v !== falseObj)\n    .reduce((accumulated, v) => Object.assign(accumulated, v), {});\n\n  return StyleSheet.create(defaultsDeep(topLevelOverwrites, base));\n}\n","import React from 'react';\nimport { View, Image, Text } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { buildStylesheet } from '../styles/styles.js';\n\n/**\n * Avatar - A round avatar image with fallback to username's first letter\n *\n * @example ./docs/Avatar.md\n * @extends PureComponent\n */\nexport class Avatar extends React.PureComponent {\n  static propTypes = {\n    /** image url */\n    image: PropTypes.string,\n    /** name of the picture, used for title tag fallback */\n    name: PropTypes.string,\n    /** shape of the avatar, circle, rounded or square */\n    shape: PropTypes.oneOf(['circle', 'rounded', 'square']),\n    /** size in pixels */\n    size: PropTypes.number,\n    /** Style overrides */\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    size: 32,\n    shape: 'circle',\n  };\n\n  state = {\n    imageError: false,\n  };\n\n  setError = () => {\n    this.setState({\n      imageError: true,\n    });\n  };\n\n  getInitials = (name) =>\n    name\n      ? name\n          .split(' ')\n          .slice(0, 2)\n          .map((name) => name.charAt(0))\n      : null;\n\n  render() {\n    const { size, name, image, style } = this.props;\n    const styles = buildStylesheet('Avatar', style);\n    const initials = this.getInitials(name);\n    return (\n      <View\n        style={{ display: 'flex', alignItems: 'center', ...styles.container }}\n      >\n        {image && !this.state.imageError ? (\n          <Image\n            style={{\n              ...styles.image,\n              borderRadius: size / 2,\n              width: size,\n              height: size,\n            }}\n            source={{ uri: image }}\n            accessibilityLabel=\"initials\"\n            resizeMethod=\"resize\"\n            onError={this.setError}\n          />\n        ) : (\n          <View\n            style={{\n              ...styles.fallback,\n              borderRadius: size / 2,\n              width: size,\n              height: size,\n            }}\n          >\n            <Text style={styles.fallbackText}>{initials}</Text>\n          </View>\n        )}\n      </View>\n    );\n  }\n}\n","import React from 'react';\n\nexport const ChatContext = React.createContext({ client: null });\n\nexport function withChatContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChatContext.Consumer>\n        {(context) => {\n          const mergedProps = { ...context, ...props };\n          return <OriginalComponent {...mergedProps} />;\n        }}\n      </ChatContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const ChannelContext = React.createContext({});\n\nexport function withChannelContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <ChannelContext.Consumer>\n        {(channelContext) => (\n          <OriginalComponent {...channelContext} {...props} />\n        )}\n      </ChannelContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n\nexport const SuggestionsContext = React.createContext({});\n\nexport function withSuggestionsContext(OriginalComponent) {\n  const ContextAwareComponent = function ContextComponent(props) {\n    return (\n      <SuggestionsContext.Consumer>\n        {(suggestionsContext) => (\n          <OriginalComponent {...suggestionsContext} {...props} />\n        )}\n      </SuggestionsContext.Consumer>\n    );\n  };\n  ContextAwareComponent.displayName =\n    OriginalComponent.displayName || OriginalComponent.name || 'Component';\n  ContextAwareComponent.displayName = ContextAwareComponent.displayName.replace(\n    'Base',\n    '',\n  );\n\n  return ContextAwareComponent;\n}\n","export let NetInfo = () => {\n  throw Error(\n    'Native handler was not registered, you should import stream-chat-expo or stream-chat-react-native',\n  );\n};\n\nexport let pickImage = () => {\n  throw Error(\n    'Native handler was not registered, you should import expo-activity-feed or react-native-activity-feed',\n  );\n};\n\nexport let pickDocument = () => {\n  throw Error(\n    'Native handler was not registered, you should import expo-activity-feed or react-native-activity-feed',\n  );\n};\n\nexport const registerNativeHandlers = (handlers) => {\n  if (handlers.NetInfo) {\n    NetInfo = handlers.NetInfo;\n  }\n\n  if (handlers.pickImage) {\n    pickImage = handlers.pickImage;\n  }\n\n  if (handlers.pickDocument) {\n    pickDocument = handlers.pickDocument;\n  }\n};\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChatContext } from '../context';\nimport { NetInfo } from '../native';\n\n/**\n * Chat - Wrapper component for Chat. The needs to be placed around any other chat components.\n * This Chat component provides the ChatContext to all other components.\n *\n * The ChatContext provides the following props:\n *\n * - client (the client connection)\n * - channels (the list of channels)\n * - setActiveChannel (a function to set the currently active channel)\n * - channel (the currently active channel)\n *\n * It also exposes the withChatContext HOC which you can use to consume the ChatContext\n *\n * @example ./docs/Chat.md\n * @extends PureComponent\n */\n\nconst colors = ['light', 'dark'];\nconst baseUseCases = ['messaging', 'team', 'commerce', 'gaming', 'livestream'];\nconst themes = [];\n\nfor (const color of colors) {\n  for (const useCase of baseUseCases) {\n    themes.push(`${useCase} ${color}`);\n  }\n}\n\nexport class Chat extends PureComponent {\n  static propTypes = {\n    /** The StreamChat client object */\n    client: PropTypes.object.isRequired,\n    /** The theme 'messaging', 'team', 'commerce', 'gaming', 'livestream' plus either 'light' or 'dark' */\n    theme: PropTypes.oneOf(themes),\n  };\n\n  static defaultProps = {\n    theme: 'messaging light',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      // currently active channel\n      channel: {},\n      isOnline: true,\n      connectionRecovering: false,\n    };\n\n    this.setConnectionListener();\n\n    this.props.client.on('connection.changed', (event) => {\n      this.setState({\n        isOnline: event.online,\n        connectionRecovering: !event.online,\n      });\n    });\n\n    this.props.client.on('connection.recovered', () => {\n      this.setState({ connectionRecovering: false });\n    });\n\n    this._unmounted = false;\n  }\n\n  componentWillUnmount() {\n    this._unmounted = true;\n    this.props.client.off('connection.recovered');\n    this.props.client.off('connection.changed');\n    this.props.client.off(this.handleEvent);\n    NetInfo.removeEventListener(\n      'connectionChange',\n      this.handleConnectionChange,\n    );\n  }\n\n  notifyChatClient = (isConnected) => {\n    if (this.wsConnection != null) {\n      if (isConnected) {\n        this.wsConnection.onlineStatusChanged({ type: 'online' });\n      } else {\n        this.wsConnection.onlineStatusChanged({ type: 'offline' });\n      }\n    }\n  };\n\n  setConnectionListener = () => {\n    NetInfo.isConnected.fetch().then((isConnected) => {\n      this.notifyChatClient(isConnected);\n    });\n\n    NetInfo.addEventListener('connectionChange', this.handleConnectionChange);\n  };\n\n  handleConnectionChange = () => {\n    NetInfo.isConnected.fetch().then((isConnected) => {\n      this.notifyChatClient(isConnected);\n    });\n  };\n\n  setActiveChannel = (channel, e) => {\n    if (e !== undefined && e.preventDefault) {\n      e.preventDefault();\n    }\n    if (this._unmounted) return;\n    this.setState(() => ({\n      channel,\n    }));\n  };\n\n  getContext = () => ({\n    client: this.props.client,\n    channel: this.state.channel,\n    setActiveChannel: this.setActiveChannel,\n    theme: this.props.theme,\n    isOnline: this.state.isOnline,\n    connectionRecovering: this.state.connectionRecovering,\n  });\n\n  render() {\n    return (\n      <ChatContext.Provider value={this.getContext()}>\n        {this.props.children}\n      </ChatContext.Provider>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  View,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  findNodeHandle,\n} from 'react-native';\n\nimport { SuggestionsContext } from '../context';\n\nexport class SuggestionsProvider extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      suggestionsViewActive: false,\n      suggestionsBottomMargin: 0,\n      suggestionsLeftMargin: 0,\n      suggestions: [],\n      suggestionsWidth: 0,\n      suggestionsBackdropHeight: 0,\n      suggestionsTitle: '',\n      component: null,\n    };\n  }\n\n  openSuggestions = async (title, component) => {\n    const [inputBoxPosition, chatBoxPosition] = await Promise.all([\n      this.getInputBoxPosition(),\n      this.getChatBoxPosition(),\n    ]);\n\n    this.setState({\n      suggestionsBottomMargin: chatBoxPosition.height - inputBoxPosition.y,\n      suggestionsLeftMargin: inputBoxPosition.x,\n      suggestionsWidth: inputBoxPosition.width,\n      suggestionsViewActive: true,\n      suggestionsBackdropHeight: inputBoxPosition.y,\n      suggestionsTitle: title,\n      component,\n    });\n  };\n\n  updateSuggestions = (suggestions) => {\n    this.setState({\n      suggestions,\n    });\n  };\n\n  closeSuggestions = () => {\n    this.setState({\n      suggestionsViewActive: false,\n      suggestionsTitle: '',\n      component: null,\n    });\n  };\n\n  setInputBoxContainerRef = (o) => {\n    this.messageInputBox = o;\n  };\n\n  getInputBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.messageInputBox.measureLayout(\n        nodeHandleRoot,\n        (x, y, width, height) => {\n          resolve({ x, y, height, width });\n        },\n      );\n    });\n\n  getChatBoxPosition = () =>\n    new Promise((resolve) => {\n      const nodeHandleRoot = findNodeHandle(this.rootView);\n      this.rootView.measureLayout(nodeHandleRoot, (x, y, width, height) => {\n        resolve({ x, y, height, width });\n      });\n    });\n\n  setRootView = (o) => {\n    this.rootView = o;\n  };\n\n  getContext = () => ({\n    setInputBoxContainerRef: this.setInputBoxContainerRef,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  render() {\n    return (\n      <SuggestionsContext.Provider value={this.getContext()}>\n        {/** TODO: Support dynamic item view for different type of suggestions */}\n        <SuggestionsView\n          component={this.state.component}\n          suggestions={this.state.suggestions}\n          active={this.state.suggestionsViewActive}\n          marginBottom={this.state.suggestionsBottomMargin}\n          marginLeft={this.state.suggestionsLeftMargin}\n          width={this.state.suggestionsWidth}\n          backdropHeight={this.state.suggestionsBackdropHeight}\n          handleDismiss={this.closeSuggestions}\n          suggestionsTitle={this.state.suggestionsTitle}\n        />\n        <View\n          ref={this.setRootView}\n          collapsable={false}\n          style={{ height: '100%' }}\n        >\n          {this.props.children}\n        </View>\n      </SuggestionsContext.Provider>\n    );\n  }\n}\n\nclass SuggestionsView extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  renderHeader = () => <SuggestionsHeader />;\n  renderItem = ({ item }) => {\n    const {\n      suggestions: { onSelect },\n      component: Component,\n    } = this.props;\n\n    return (\n      <TouchableOpacity\n        style={{\n          height: SUGGESTIONS_ITEM_HEIGHT,\n          justifyContent: 'center',\n        }}\n        onPress={() => {\n          onSelect(item);\n        }}\n      >\n        <Component item={item} />\n      </TouchableOpacity>\n    );\n  };\n\n  render() {\n    const {\n      active,\n      marginLeft,\n      width,\n      suggestions: { data },\n      backdropHeight,\n      handleDismiss,\n      suggestionsTitle,\n    } = this.props;\n\n    if (!active) return null;\n    if (!data || data.length === 0) return null;\n    return (\n      <TouchableOpacity\n        style={{\n          position: 'absolute',\n          zIndex: 90,\n          height: backdropHeight,\n          width: '100%',\n        }}\n        onPress={handleDismiss}\n      >\n        <View\n          style={{\n            position: 'absolute',\n            bottom: 0,\n            marginLeft,\n            width,\n            height: Math.min((data.length + 1) * SUGGESTIONS_ITEM_HEIGHT, 250),\n            backgroundColor: 'white',\n            shadowColor: '#EBEBEB',\n            shadowOpacity: 1,\n            shadowOffset: { width: 0, height: -3 },\n            zIndex: 100,\n          }}\n        >\n          <FlatList\n            ListHeaderComponent={<SuggestionsHeader title={suggestionsTitle} />}\n            ItemSeparatorComponent={SuggestionsSeparator}\n            data={data}\n            keyboardShouldPersistTaps=\"always\"\n            renderItem={this.renderItem}\n            keyExtractor={(item, index) => item.name + index}\n          />\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n\nconst SuggestionsHeader = ({ title }) => (\n  <Text\n    style={{ padding: 10, height: SUGGESTIONS_ITEM_HEIGHT, fontWeight: 'bold' }}\n  >\n    {title}\n  </Text>\n);\n\nconst SuggestionsSeparator = () => <View style={{ height: 0 }} />;\n\nconst SUGGESTIONS_ITEM_HEIGHT = 50;\n","import React from 'react';\nimport { Text } from 'react-native';\nimport PropTypes from 'prop-types';\n\nexport class LoadingIndicator extends React.PureComponent {\n  static propTypes = {\n    listType: PropTypes.oneOf(['channel', 'message', 'default']),\n  };\n\n  static defaultProps = {\n    listType: 'default',\n  };\n\n  render() {\n    switch (this.props.listType) {\n      case 'channel':\n        return <Text>Loading channel list ...</Text>;\n      case 'message':\n        return <Text>Loading messages ...</Text>;\n      case 'default':\n      default:\n        return <Text>Loading ...</Text>;\n    }\n  }\n}\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const LoadingErrorIndicator = ({ listType }) => {\n  let Loader;\n  switch (listType) {\n    case 'channel':\n      Loader = <Text>Error loading channel list ...</Text>;\n      break;\n    case 'message':\n      Loader = <Text>Error loading messages for this channel ...</Text>;\n      break;\n    default:\n      Loader = <Text>Error loading</Text>;\n      break;\n  }\n\n  return Loader;\n};\n","import React from 'react';\nimport { Text } from 'react-native';\n\nexport const EmptyStateIndicator = ({ listType }) => {\n  let Indicator;\n  switch (listType) {\n    case 'channel':\n      Indicator = <Text>You have no channels currently</Text>;\n      break;\n    case 'message':\n      Indicator = null;\n      break;\n    default:\n      Indicator = <Text>No itens exist</Text>;\n      break;\n  }\n\n  return Indicator;\n};\n","import React, { PureComponent } from 'react';\nimport { View, Text, Keyboard, Dimensions, Animated } from 'react-native';\nimport { ChannelContext } from '../context';\nimport { SuggestionsProvider } from './SuggestionsProvider';\n\nimport uuidv4 from 'uuid/v4';\nimport PropTypes from 'prop-types';\nimport Immutable from 'seamless-immutable';\nimport debounce from 'lodash/debounce';\nimport throttle from 'lodash/throttle';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * This component is not really exposed externally, and is only supposed to be used with\n * 'Channel' component (which is actually exposed to customers).\n */\nexport class ChannelInner extends PureComponent {\n  constructor(props) {\n    super(props);\n    this.state = {\n      error: false,\n      // Loading the intial content of the channel\n      loading: true,\n      // Loading more messages\n      loadingMore: false,\n      hasMore: true,\n      messages: Immutable([]),\n      online: props.isOnline,\n      typing: Immutable({}),\n      watchers: Immutable({}),\n      members: Immutable({}),\n      read: Immutable({}),\n\n      thread: props.thread,\n      threadMessages: [],\n      threadLoadingMore: false,\n      threadHasMore: true,\n      kavEnabled: true,\n      channelHeight: '100%',\n    };\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreFinishedDebounced = debounce(this.loadMoreFinished, 2000, {\n      leading: true,\n      trailing: true,\n    });\n\n    // hard limit to prevent you from scrolling faster than 1 page per 2 seconds\n    this._loadMoreThreadFinishedDebounced = debounce(\n      this.loadMoreThreadFinished,\n      2000,\n      {\n        leading: true,\n        trailing: true,\n      },\n    );\n\n    this._setStateThrottled = throttle(this.setState, 500, {\n      leading: true,\n      trailing: true,\n    });\n    this.rootChannelView = false;\n    this.messageInputBox = false;\n    this.initialHeight = undefined;\n  }\n\n  static propTypes = {\n    /** Which channel to connect to */\n    channel: PropTypes.shape({\n      watch: PropTypes.func,\n    }).isRequired,\n    /** Client is passed via the Chat Context */\n    client: PropTypes.object.isRequired,\n    /** The loading indicator to use */\n    LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    /** The indicator to use when there is error  */\n    LoadingErrorIndicator: PropTypes.oneOfType([\n      PropTypes.node,\n      PropTypes.func,\n    ]),\n    /** The indicator to use when message list is empty */\n    EmptyStateIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    LoadingIndicator,\n    LoadingErrorIndicator,\n    EmptyStateIndicator,\n  };\n\n  componentDidUpdate(prevProps) {\n    if (this.props.isOnline !== prevProps.isOnline)\n      this.setState({ online: this.props.isOnline });\n  }\n\n  async componentDidMount() {\n    const channel = this.props.channel;\n    let errored = false;\n    if (!channel.initialized) {\n      try {\n        await channel.watch();\n      } catch (e) {\n        this.setState({ error: true });\n        errored = true;\n      }\n    }\n    // this.originalTitle = document.title;\n    this.lastRead = new Date();\n    if (!errored) {\n      this.copyChannelState();\n      this.listenToChanges();\n    }\n\n    this.keyboardDidShowListener = Keyboard.addListener(\n      'keyboardWillShow',\n      this.keyboardDidShow,\n    );\n    this.keyboardDidHideListener = Keyboard.addListener(\n      'keyboardWillHide',\n      this.keyboardDidHide,\n    );\n  }\n\n  keyboardDidShow = (e) => {\n    const keyboardHeight =\n      e.startCoordinates.screenY - e.endCoordinates.screenY;\n\n    this.rootChannelView.measureInWindow((x, y) => {\n      const { height: windowHeight } = Dimensions.get('window');\n      Animated.timing(this.state.channelHeight, {\n        toValue: windowHeight - y - keyboardHeight,\n        duration: 500,\n      }).start();\n    });\n  };\n\n  keyboardDidHide = () => {\n    Animated.timing(this.state.channelHeight, {\n      toValue: this.initialHeight,\n      duration: 500,\n    }).start();\n  };\n\n  componentWillUnmount() {\n    this.props.channel.off(this.handleEvent);\n    this.props.client.off('connection.recovered', this.handleEvent);\n\n    this._loadMoreFinishedDebounced.cancel();\n    this._loadMoreThreadFinishedDebounced.cancel();\n    this._setStateThrottled.cancel();\n    this._unmounted = true;\n    this.keyboardDidShowListener.remove();\n    this.keyboardDidHideListener.remove();\n  }\n\n  copyChannelState() {\n    const channel = this.props.channel;\n\n    this.setState({\n      messages: channel.state.messages,\n      read: channel.state.read,\n      watchers: channel.state.watchers,\n      members: channel.state.members,\n      watcher_count: channel.state.watcher_count,\n      loading: false,\n      typing: {},\n    });\n\n    channel.markRead();\n  }\n\n  listenToChanges() {\n    // The more complex sync logic is done in chat.js\n    // listen to client.connection.recovered and all channel events\n    this.props.client.on('connection.recovered', this.handleEvent);\n    const channel = this.props.channel;\n    channel.on(this.handleEvent);\n  }\n\n  openThread = (message, e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    const channel = this.props.channel;\n    const threadMessages = channel.state.threads[message.id] || [];\n\n    this.setState({\n      thread: message,\n      threadMessages,\n    });\n  };\n\n  loadMoreThread = async () => {\n    // prevent duplicate loading events...\n    if (this.state.threadLoadingMore) return;\n    this.setState({\n      threadLoadingMore: true,\n    });\n    const channel = this.props.channel;\n    const parentID = this.state.thread.id;\n    const oldMessages = channel.state.threads[parentID] || [];\n    const oldestMessageID = oldMessages[0] ? oldMessages[0].id : null;\n    const limit = 50;\n    const queryResponse = await channel.getReplies(parentID, {\n      limit,\n      id_lt: oldestMessageID,\n    });\n    const hasMore = queryResponse.messages.length === limit;\n\n    const threadMessages = channel.state.threads[parentID] || [];\n\n    // next set loadingMore to false so we can start asking for more data...\n    this._loadMoreThreadFinishedDebounced(hasMore, threadMessages);\n  };\n\n  loadMoreThreadFinished = (threadHasMore, threadMessages) => {\n    this.setState({\n      threadLoadingMore: false,\n      threadHasMore,\n      threadMessages,\n    });\n  };\n\n  closeThread = (e) => {\n    if (e && e.preventDefault) {\n      e.preventDefault();\n    }\n\n    this.setState({\n      thread: null,\n      threadMessages: [],\n    });\n  };\n\n  setEditingState = (message) => {\n    this.setState({\n      editing: message,\n    });\n  };\n  updateMessage = (updatedMessage, extraState) => {\n    const channel = this.props.channel;\n\n    extraState = extraState || {};\n\n    // adds the message to the local channel state..\n    // this adds to both the main channel state as well as any reply threads\n    channel.state.addMessageSorted(updatedMessage);\n\n    // update the Channel component state\n    if (this.state.thread && updatedMessage.parent_id) {\n      extraState.threadMessages =\n        channel.state.threads[updatedMessage.parent_id] || [];\n    }\n    this.setState({ messages: channel.state.messages, ...extraState });\n  };\n\n  clearEditingState = () => {\n    this.setState({\n      editing: false,\n    });\n  };\n  removeMessage = (message) => {\n    const channel = this.props.channel;\n    channel.state.removeMessage(message);\n    this.setState({ messages: channel.state.messages });\n  };\n\n  removeEphemeralMessages() {\n    const c = this.props.channel;\n    c.state.selectRegularMessages();\n    this.setState({ messages: c.state.messages });\n  }\n\n  createMessagePreview = (text, attachments, parent, mentioned_users) => {\n    // create a preview of the message\n    const clientSideID = `${this.props.client.userID}-` + uuidv4();\n    const message = {\n      text,\n      html: text,\n      __html: text,\n      //id: tmpID,\n      id: clientSideID,\n      type: 'regular',\n      status: 'sending',\n      user: {\n        id: this.props.client.userID,\n        ...this.props.client.user,\n      },\n      created_at: new Date(),\n      attachments,\n      mentioned_users,\n      reactions: [],\n    };\n\n    if (parent && parent.id) {\n      message.parent_id = parent.id;\n    }\n    return message;\n  };\n\n  _sendMessage = async (message) => {\n    const { text, attachments, id, parent_id, mentioned_users } = message;\n    const messageData = {\n      text,\n      attachments,\n      id,\n      parent_id,\n      mentioned_users,\n    };\n\n    try {\n      const messageResponse = await this.props.channel.sendMessage(messageData);\n      // replace it after send is completed\n      if (messageResponse.message) {\n        messageResponse.message.status = 'received';\n        this.updateMessage(messageResponse.message);\n      }\n    } catch (error) {\n      console.log(error);\n      // set the message to failed..\n      message.status = 'failed';\n      this.updateMessage(message);\n    }\n  };\n\n  sendMessage = async ({ text, attachments = [], parent, mentioned_users }) => {\n    // remove error messages upon submit\n    this.props.channel.state.filterErrorMessages();\n\n    // create a local preview message to show in the UI\n    const messagePreview = this.createMessagePreview(\n      text,\n      attachments,\n      parent,\n      mentioned_users,\n    );\n\n    // first we add the message to the UI\n    this.updateMessage(messagePreview, {\n      messageInput: '',\n      commands: [],\n      userAutocomplete: [],\n    });\n\n    await this._sendMessage(messagePreview);\n  };\n\n  retrySendMessage = async (message) => {\n    // set the message status to sending\n    message = message.asMutable();\n    message.status = 'sending';\n    this.updateMessage(message);\n    // actually try to send the message...\n    await this._sendMessage(message);\n  };\n\n  handleEvent = (e) => {\n    const { channel } = this.props;\n    let threadMessages = [];\n    const threadState = {};\n    if (this.state.thread) {\n      threadMessages = channel.state.threads[this.state.thread.id] || [];\n      threadState['threadMessages'] = threadMessages;\n    }\n\n    if (\n      this.state.thread &&\n      e.message &&\n      e.message.id === this.state.thread.id\n    ) {\n      threadState['thread'] = channel.state.messageToImmutable(e.message);\n    }\n\n    if (Object.keys(threadState).length > 0) {\n      // TODO: in theory we should do 1 setState call not 2,\n      // However the setStateThrottled doesn't support this\n      this.setState(threadState);\n    }\n\n    this._setStateThrottled({\n      messages: channel.state.messages,\n      watchers: channel.state.watchers,\n      read: channel.state.read,\n      typing: channel.state.typing,\n      watcher_count: channel.state.watcher_count,\n    });\n  };\n\n  loadMore = async () => {\n    // prevent duplicate loading events...\n    if (this.state.loadingMore) return;\n    this.setState({ loadingMore: true });\n\n    const oldestID = this.state.messages[0] ? this.state.messages[0].id : null;\n    const perPage = 100;\n    let queryResponse;\n    try {\n      queryResponse = await this.props.channel.query({\n        messages: { limit: perPage, id_lt: oldestID },\n      });\n    } catch (e) {\n      console.warn('message pagination request failed with error', e);\n      this.setState({ loadingMore: false });\n      return;\n    }\n    const hasMore = queryResponse.messages.length === perPage;\n\n    this._loadMoreFinishedDebounced(hasMore, this.props.channel.state.messages);\n  };\n\n  loadMoreFinished = (hasMore, messages) => {\n    this.setState({\n      loadingMore: false,\n      hasMore,\n      messages,\n    });\n  };\n\n  getContext = () => ({\n    ...this.state,\n    channels: this.props.channels,\n    client: this.props.client,\n    channel: this.props.channel,\n    Message: this.props.Message,\n    Attachment: this.props.Attachment,\n    updateMessage: this.updateMessage,\n    removeMessage: this.removeMessage,\n    sendMessage: this.sendMessage,\n    retrySendMessage: this.retrySendMessage,\n    resetNotification: this.resetNotification,\n    listenToScroll: this.listenToScroll,\n    setEditingState: this.setEditingState,\n    clearEditingState: this.clearEditingState,\n    EmptyStateIndicator: this.props.EmptyStateIndicator,\n\n    // thread related\n    openThread: this.openThread,\n    closeThread: this.closeThread,\n    loadMoreThread: this.loadMoreThread,\n    openSuggestions: this.openSuggestions,\n    closeSuggestions: this.closeSuggestions,\n    updateSuggestions: this.updateSuggestions,\n  });\n\n  renderComponent = () => this.props.children;\n\n  renderLoading = () => {\n    const Indicator = this.props.LoadingIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  renderLoadingError = () => {\n    const Indicator = this.props.LoadingErrorIndicator;\n    return <Indicator listType=\"message\" />;\n  };\n\n  setRootChannelView = (o) => {\n    this.rootChannelView = o;\n    // this.rootChannelView.measureInWindow((x, y, height, width) => { this.initialHeight = height; });\n  };\n\n  onLayout = ({\n    nativeEvent: {\n      layout: { height },\n    },\n  }) => {\n    // Not to set initial height again.\n    if (!this.initialHeight) {\n      this.initialHeight = height;\n      this.setState({ channelHeight: new Animated.Value(this.initialHeight) });\n    }\n  };\n\n  render() {\n    let core;\n\n    if (this.state.error) {\n      core = this.renderLoadingError();\n    } else if (this.state.loading) {\n      core = this.renderLoading();\n    } else if (!this.props.channel || !this.props.channel.watch) {\n      core = (\n        <View>\n          <Text>Channel Missing</Text>\n        </View>\n      );\n    } else {\n      core = (\n        <Animated.View\n          style={{ display: 'flex', height: this.state.channelHeight }}\n          onLayout={this.onLayout}\n        >\n          <View ref={this.setRootChannelView} collapsable={false} />\n          <ChannelContext.Provider value={this.getContext()}>\n            <SuggestionsProvider\n              handleKeyboardAvoidingViewEnabled={(trueOrFalse) => {\n                this.setState({ kavEnabled: trueOrFalse });\n              }}\n            >\n              {this.renderComponent()}\n            </SuggestionsProvider>\n          </ChannelContext.Provider>\n        </Animated.View>\n      );\n    }\n\n    return <View>{core}</View>;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { withChatContext } from '../context';\nimport { Text } from 'react-native';\n\n// import { LoadingIndicator } from './LoadingIndicator';\n\nimport PropTypes from 'prop-types';\n\n// import { MessageSimple } from './MessageSimple';\n// import { Attachment } from './Attachment';\nimport { ChannelInner } from './ChannelInner';\n\n/**\n * Channel - Wrapper component for a channel. It needs to be place inside of the Chat component.\n * ChannelHeader, MessageList, Thread and MessageInput should be used as children of the Channel component.\n *\n * @example ./docs/Channel.md\n * @extends PureComponent\n */\nconst Channel = withChatContext(\n  class Channel extends PureComponent {\n    constructor(props) {\n      super(props);\n      this.state = { error: false };\n    }\n    static propTypes = {\n      /** Which channel to connect to, will initialize the channel if it's not initialized yet */\n      channel: PropTypes.shape({\n        watch: PropTypes.func,\n      }).isRequired,\n      /** Client is passed automatically via the Chat Context */\n      client: PropTypes.object.isRequired,\n      /** The loading indicator to use */\n      // LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    };\n\n    static defaultProps = {\n      // LoadingIndicator,\n      // Message: MessageSimple,\n      // Attachment,\n    };\n\n    render() {\n      if (!this.props.channel.cid) {\n        return <Text>Please select a channel first</Text>;\n      }\n\n      // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you sw\\itch channel the component is recreated\n      return <ChannelInner {...this.props} key={this.props.channel.cid} />;\n    }\n  },\n);\n\nexport { Channel };\n","const img = require('.//assets/Poweredby_100px-White_VertText.png'); export default img;","import React from 'react';\nimport { Image, Text, View, TouchableOpacity, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport giphyLogo from '../assets/Poweredby_100px-White_VertText.png';\nimport { styles } from '../styles/styles.js';\n\nexport class Card extends React.Component {\n  static propTypes = {\n    /** Title retured by the OG scraper */\n    title: PropTypes.string.isRequired,\n    /** Link retured by the OG scraper */\n    title_link: PropTypes.string,\n    /** The scraped url, used as a fallback if the OG-data doesnt include a link */\n    og_scrape_url: PropTypes.string,\n    /** The url of the full sized image */\n    image_url: PropTypes.string,\n    /** The url for thumbnail sized image*/\n    thumb_url: PropTypes.string,\n    /** Description retured by the OG scraper */\n    text: PropTypes.string,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  trimUrl = (url) => {\n    let trimmedUrl;\n    if (url !== undefined || url !== null) {\n      trimmedUrl = url\n        .replace(/^(?:https?:\\/\\/)?(?:www\\.)?/i, '')\n        .split('/')[0];\n    }\n    return trimmedUrl;\n  };\n\n  _goToURL = (url) => {\n    Linking.canOpenURL(url).then((supported) => {\n      if (supported) {\n        Linking.openURL(url);\n      } else {\n        console.log(\"Don't know how to open URI: \" + url);\n      }\n    });\n  };\n\n  render() {\n    const {\n      image_url,\n      thumb_url,\n      title,\n      title_link,\n      og_scrape_url,\n      type,\n    } = this.props;\n    return (\n      <TouchableOpacity\n        onPress={() => {\n          this._goToURL(og_scrape_url || image_url || thumb_url);\n        }}\n      >\n        <Image\n          source={{ uri: image_url || thumb_url }}\n          resizeMethod=\"resize\"\n          style={{\n            height: 300,\n            width: 200,\n          }}\n        />\n        <View style={styles.Card.footer}>\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'column',\n              backgroundColor: 'transperant',\n            }}\n          >\n            {title && <Text>{title}</Text>}\n            <Text>{this.trimUrl(title_link || og_scrape_url)}</Text>\n          </View>\n          {type === 'giphy' && <Image source={giphyLogo} />}\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","const img = require('.//images/PDF.png'); export default img;","const img = require('.//images/DOC.png'); export default img;","const img = require('.//images/PPT.png'); export default img;","const img = require('.//images/XLS.png'); export default img;","const img = require('.//images/TAR.png'); export default img;","import * as React from 'react';\nimport { Image } from 'react-native';\n\nimport iconPDF from '../images/PDF.png';\nimport iconDOC from '../images/DOC.png';\nimport iconPPT from '../images/PPT.png';\nimport iconXLS from '../images/XLS.png';\nimport iconTAR from '../images/TAR.png';\n\n// Partially based on:\n// https://stackoverflow.com/a/4212908/2570866\n\nconst wordMimeTypes = [\n  // Microsoft Word\n  // .doc .dot\n  'application/msword',\n  // .doc .dot\n  'application/msword-template',\n  // .docx\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\n  // .dotx (no test)\n  'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\n  // .docm\n  'application/vnd.ms-word.document.macroEnabled.12',\n  // .dotm (no test)\n  'application/vnd.ms-word.template.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odt\n  'application/vnd.oasis.opendocument.text',\n  // .ott\n  'application/vnd.oasis.opendocument.text-template',\n  // .fodt\n  'application/vnd.oasis.opendocument.text-flat-xml',\n  // .uot\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst excelMimeTypes = [\n  // .csv\n  'text/csv',\n  // TODO: maybe more data files\n\n  // Microsoft Excel\n  // .xls .xlt .xla (no test for .xla)\n  'application/vnd.ms-excel',\n  // .xlsx\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\n  // .xltx (no test)\n  'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\n  // .xlsm\n  'application/vnd.ms-excel.sheet.macroEnabled.12',\n  // .xltm (no test)\n  'application/vnd.ms-excel.template.macroEnabled.12',\n  // .xlam (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n  // .xlsb (no test)\n  'application/vnd.ms-excel.addin.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Calc\n  // .ods\n  'application/vnd.oasis.opendocument.spreadsheet',\n  // .ots\n  'application/vnd.oasis.opendocument.spreadsheet-template',\n  // .fods\n  'application/vnd.oasis.opendocument.spreadsheet-flat-xml',\n  // .uos\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst powerpointMimeTypes = [\n  // Microsoft Word\n  // .ppt .pot .pps .ppa (no test for .ppa)\n  'application/vnd.ms-powerpoint',\n  // .pptx\n  'application/vnd.openxmlformats-officedocument.presentationml.presentation',\n  // .potx (no test)\n  'application/vnd.openxmlformats-officedocument.presentationml.template',\n  // .ppsx\n  'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\n  // .ppam\n  'application/vnd.ms-powerpoint.addin.macroEnabled.12',\n  // .pptm\n  'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\n  // .potm\n  'application/vnd.ms-powerpoint.template.macroEnabled.12',\n  // .ppsm\n  'application/vnd.ms-powerpoint.slideshow.macroEnabled.12',\n\n  // LibreOffice/OpenOffice Writer\n  // .odp\n  'application/vnd.oasis.opendocument.presentation',\n  // .otp\n  'application/vnd.oasis.opendocument.presentation-template',\n  // .fodp\n  'application/vnd.oasis.opendocument.presentation-flat-xml',\n  // .uop\n  // NOTE: firefox doesn't know mimetype so maybe ignore\n];\n\nconst archiveFileTypes = [\n  // .zip\n  'application/zip',\n  // .z7\n  'application/x-7z-compressed',\n  // .ar\n  'application/x-archive',\n  // .tar\n  'application/x-tar',\n  // .tar.gz\n  'application/gzip',\n  // .tar.Z\n  'application/x-compress',\n  // .tar.bz2\n  'application/x-bzip',\n  // .tar.lz\n  'application/x-lzip',\n  // .tar.lz4\n  'application/x-lz4',\n  // .tar.lzma\n  'application/x-lzma',\n  // .tar.lzo (no test)\n  'application/x-lzop',\n  // .tar.xz\n  'application/x-xz',\n  // .war\n  'application/x-webarchive',\n  // .rar\n  'application/vnd.rar',\n];\n\nconst codeFileTypes = [\n  // .html .htm\n  'text/html',\n  // .css\n  'text/css',\n  // .js\n  'application/x-javascript',\n  // .json\n  'application/json',\n  // .py\n  'text/x-python',\n  // .go\n  'text/x-go',\n  // .c\n  'text/x-csrc',\n  // .cpp\n  'text/x-c++src',\n  // .rb\n  'application/x-ruby',\n  // .rust\n  'text/rust',\n  // .java\n  'text/x-java',\n  // .php\n  'application/x-php',\n  // .cs\n  'text/x-csharp',\n  // .scala\n  'text/x-scala',\n  // .erl\n  'text/x-erlang',\n  // .sh\n  'application/x-shellscript',\n];\n\nconst mimeTypeToIconMap = {\n  'application/pdf': iconPDF,\n};\n\nfor (const type of wordMimeTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfor (const type of excelMimeTypes) {\n  mimeTypeToIconMap[type] = iconXLS;\n}\n\nfor (const type of powerpointMimeTypes) {\n  mimeTypeToIconMap[type] = iconPPT;\n}\n\nfor (const type of archiveFileTypes) {\n  mimeTypeToIconMap[type] = iconTAR;\n}\n\nfor (const type of codeFileTypes) {\n  mimeTypeToIconMap[type] = iconDOC;\n}\n\nfunction mimeTypeToIcon(mimeType) {\n  if (mimeType == null) {\n    return iconDOC;\n  }\n\n  const icon = mimeTypeToIconMap[mimeType];\n  if (icon) {\n    return icon;\n  }\n\n  return iconDOC;\n}\n\n/**\n * @example ./examples/FileIcon.md\n */\nexport default class FileIcon extends React.Component {\n  render() {\n    // const { size, big, filename, mimeType } = this.props;\n    const { mimeType } = this.props;\n    return <Image source={mimeTypeToIcon(mimeType)} />;\n  }\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport { View, TouchableOpacity, Text } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\n\n/**\n * AttachmentActions - The actions you can take on an attachment\n *\n * @example ./docs/AttachmentActions.md\n * @extends PureComponent\n */\nexport class AttachmentActions extends React.PureComponent {\n  static propTypes = {\n    // /** The id of the form input */\n    // id: PropTypes.string.isRequired,\n    /** The text for the form input */\n    text: PropTypes.string,\n    /** A list of actions */\n    actions: PropTypes.array.isRequired,\n    /** The handler to execute after selecting an action */\n    actionHandler: PropTypes.func.isRequired,\n  };\n\n  render() {\n    const { id, actions, actionHandler, style } = this.props;\n    const styles = buildStylesheet('AttachmentActions', style);\n\n    return (\n      <View style={styles.container}>\n        {actions.map((action) => (\n          <TouchableOpacity\n            key={`${id}-${action.value}`}\n            style={{ ...styles.button, ...styles[action.style + 'Button'] }}\n            onPress={actionHandler.bind(this, action.name, action.value)}\n          >\n            <Text style={styles[action.style + 'ButtonText']}>\n              {action.text}\n            </Text>\n          </TouchableOpacity>\n        ))}\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport {\n  Modal,\n  Image,\n  TouchableOpacity,\n  Text,\n  SafeAreaView,\n  View,\n} from 'react-native';\nimport ImageViewer from 'react-native-image-zoom-viewer';\nimport PropTypes from 'prop-types';\n\nexport class Gallery extends React.PureComponent {\n  static propTypes = {\n    /** The images to render */\n    images: PropTypes.arrayOf(\n      PropTypes.shape({\n        image_url: PropTypes.string,\n        thumb_url: PropTypes.string,\n      }),\n    ),\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      viewerModalOpen: false,\n    };\n  }\n\n  render() {\n    const images = [...this.props.images].map((i) => ({\n      url: i.image_url || i.thumb_url,\n    }));\n\n    return (\n      <React.Fragment>\n        {images.map((image, i) => (\n          <TouchableOpacity\n            key={`gallery-image-${i}`}\n            activeOpacity={0.8}\n            onPress={() => {\n              this.setState({ viewerModalOpen: true });\n            }}\n          >\n            <Image\n              source={{ uri: image.url }}\n              style={{\n                height: 200,\n                width: 200,\n              }}\n            />\n          </TouchableOpacity>\n        ))}\n        <Modal visible={this.state.viewerModalOpen} transparent={true}>\n          <SafeAreaView style={{ flex: 1, backgroundColor: 'transparent' }}>\n            <ImageViewer\n              imageUrls={images}\n              onCancel={() => {\n                this.setState({ viewerModalOpen: false });\n              }}\n              enableSwipeDown\n              renderHeader={() => (\n                <GalleryHeader\n                  handleDismiss={() => {\n                    this.setState({ viewerModalOpen: false });\n                  }}\n                />\n              )}\n            />\n          </SafeAreaView>\n        </Modal>\n      </React.Fragment>\n    );\n  }\n}\n\nconst GalleryHeader = ({ handleDismiss }) => (\n  <View\n    style={{\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'flex-end',\n      position: 'absolute',\n      width: '100%',\n      zIndex: 1000,\n    }}\n  >\n    <TouchableOpacity\n      onPress={handleDismiss}\n      style={{\n        backgroundColor: '#ebebeb',\n        width: 30,\n        height: 30,\n        marginRight: 20,\n        marginTop: 20,\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        borderRadius: 20,\n      }}\n    >\n      <Text>X</Text>\n    </TouchableOpacity>\n  </View>\n);\n","import React from 'react';\nimport { Image, Text, View, TouchableOpacity, Linking } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { Card } from './Card';\nimport FileIcon from './FileIcon';\nimport { AttachmentActions } from './AttachmentActions';\nimport { Gallery } from './Gallery';\nexport class Attachment extends React.Component {\n  static propTypes = {\n    /** The attachment to render */\n    attachment: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  _goToURL = (url) => {\n    Linking.canOpenURL(url).then((supported) => {\n      if (supported) {\n        Linking.openURL(url);\n      } else {\n        console.log(\"Don't know how to open URI: \" + url);\n      }\n    });\n  };\n\n  render() {\n    const { attachment: a } = this.props;\n    if (!a) {\n      return null;\n    }\n\n    let type;\n\n    if (a.type === 'giphy' || a.type === 'imgur') {\n      type = 'card';\n    } else if (a.type === 'image' && (a.title_link || a.og_scrape_url)) {\n      type = 'card';\n    } else if (a.type === 'image') {\n      type = 'image';\n    } else if (a.type === 'file') {\n      type = 'file';\n    } else if (a.type === 'audio') {\n      type = 'audio';\n    } else if (a.type === 'video') {\n      type = 'media';\n    } else if (a.type === 'product') {\n      type = 'product';\n    } else {\n      type = 'card';\n      // extra = 'no-image';\n    }\n\n    if (type === 'image') {\n      return <Gallery images={[a]} />;\n    }\n\n    if (a.type === 'giphy' || type === 'card') {\n      if (a.actions && a.actions.length) {\n        return (\n          <View>\n            <Card {...a} />\n            <AttachmentActions\n              key={'key-actions-' + a.id}\n              {...a}\n              actionHandler={this.props.actionHandler}\n            />\n          </View>\n        );\n      } else {\n        return <Card {...a} />;\n      }\n    }\n\n    if (a.type === 'file') {\n      return (\n        <TouchableOpacity\n          onPress={() => {\n            this._goToURL(a.asset_url);\n          }}\n        >\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              alignItems: 'center',\n              backgroundColor: '#EBEBEB',\n              padding: 10,\n              borderRadius: 16,\n            }}\n          >\n            <FileIcon filename={a.title} mimeType={a.mime_type} size={50} />\n            <View\n              style={{\n                display: 'flex',\n                flexDirection: 'column',\n                paddingLeft: 10,\n              }}\n            >\n              <Text\n                ellipsizeMode=\"tail\"\n                numberOfLines={2}\n                style={{ fontWeight: 'bold' }}\n              >\n                {a.title}\n              </Text>\n              <Text>{a.file_size} KB</Text>\n            </View>\n          </View>\n        </TouchableOpacity>\n      );\n    }\n\n    if (a.type === 'video' && a.asset_url && a.image_url) {\n      return (\n        <TouchableOpacity\n          onPress={() => {\n            this._goToURL(a.asset_url);\n          }}\n        >\n          <Image\n            resizeMode=\"stretch\"\n            style={{\n              height: 200,\n              width: 250,\n              borderTopLeftRadius: 16,\n              borderTopRightRadius: 16,\n              borderBottomLeftRadius: 0,\n              borderBottomRightRadius: 0,\n            }}\n            source={{ uri: a.image_url }}\n          />\n          <View\n            style={{\n              borderBottomLeftRadius: 16,\n              borderBottomRightRadius: 16,\n              backgroundColor: '#EBEBEB',\n              padding: 10,\n            }}\n          >\n            <Text\n              style={{\n                fontWeight: 'bold',\n              }}\n            >\n              {a.title}\n            </Text>\n          </View>\n        </TouchableOpacity>\n      );\n    }\n\n    return false;\n  }\n}\n","const img = require('.//images/loading.gif'); export default img;","const img = require('.//images/icons/delivered_unseen.png'); export default img;","import React from 'react';\nimport { View, Image } from 'react-native';\n\nimport loadingGif from '../../images/loading.gif';\nimport iconDeliveredUnseen from '../../images/icons/delivered_unseen.png';\n\nexport const MessageStatus = ({ message, lastReceivedId, threadList }) => {\n  if (message.status === 'sending') {\n    return (\n      <View\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          paddingLeft: 5,\n          paddingRight: 5,\n        }}\n      >\n        <Image source={loadingGif} style={{ height: 10, width: 10 }} />\n      </View>\n    );\n  } else if (\n    message.status === 'received' &&\n    message.type !== 'ephemeral' &&\n    message.id === lastReceivedId &&\n    !threadList\n  ) {\n    return (\n      <View\n        style={{\n          display: 'flex',\n          alignItems: 'center',\n          paddingLeft: 2,\n        }}\n      >\n        <Image source={iconDeliveredUnseen} />\n      </View>\n    );\n  } else {\n    return <View style={{ height: 10, width: 20 }} />;\n  }\n};\n","import React from 'react';\nimport { View, Text } from 'react-native';\nimport { Avatar } from './Avatar';\n\nexport class MentionsItem extends React.Component {\n  render() {\n    const {\n      item: { name, icon },\n    } = this.props;\n\n    return (\n      <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n        <Avatar image={icon} />\n        <Text style={{ padding: 10 }}>{name}</Text>\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Text } from 'react-native';\n\nexport class CommandsItem extends React.Component {\n  render() {\n    const {\n      item: { name, args, description },\n    } = this.props;\n\n    return (\n      <View style={{ flexDirection: 'column', padding: 10 }}>\n        <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n          <Text style={{ fontWeight: 'bold' }}>/{name} </Text>\n          <Text>{args}</Text>\n        </View>\n        <Text>{description}</Text>\n      </View>\n    );\n  }\n}\n","import anchorme from 'anchorme';\nimport React from 'react';\nimport { truncate } from 'lodash-es';\nimport { MentionsItem } from './components/MentionsItem';\nimport { CommandsItem } from './components/CommandsItem';\n\nimport Markdown from 'react-native-simple-markdown';\n\nexport const renderText = (message) => {\n  // take the @ mentions and turn them into markdown?\n  // translate links\n  let { text } = message;\n  const { mentioned_users } = message;\n\n  if (!text) {\n    return;\n  }\n  text = text.trim();\n  const urls = anchorme(text, {\n    list: true,\n  });\n  for (const urlInfo of urls) {\n    const displayLink = truncate(urlInfo.encoded.replace(/^(www\\.)/, ''), {\n      length: 20,\n      omission: '...',\n    });\n    const mkdown = `[${displayLink}](${urlInfo.protocol}${urlInfo.encoded})`;\n    text = text.replace(urlInfo.raw, mkdown);\n  }\n  let newText = text;\n  if (mentioned_users.length) {\n    for (let i = 0; i < mentioned_users.length; i++) {\n      const username = mentioned_users[i].name || mentioned_users[i].id;\n      const mkdown = `**@${username}**`;\n      const re = new RegExp(`@${username}`, 'g');\n      newText = newText.replace(re, mkdown);\n    }\n  }\n\n  return <Markdown styles={markdownStyles}>{newText}</Markdown>;\n};\n\nconst markdownStyles = {\n  link: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n  url: {\n    color: 'blue',\n    textDecorationLine: 'underline',\n  },\n};\n\nexport const emojiData = [\n  {\n    id: 'like',\n    icon: '👍',\n  },\n  {\n    id: 'love',\n    icon: '❤️️',\n  },\n  {\n    id: 'haha',\n    icon: '😂',\n  },\n  {\n    id: 'wow',\n    icon: '😮',\n  },\n  {\n    id: 'sad',\n    icon: '😔',\n  },\n  {\n    id: 'angry',\n    icon: '😠',\n  },\n];\n\nexport const capitalize = (s) => {\n  if (typeof s !== 'string') return '';\n  return s.charAt(0).toUpperCase() + s.slice(1);\n};\n\nexport const FileState = Object.freeze({\n  NO_FILE: 'no_file',\n  UPLOADING: 'uploading',\n  UPLOADED: 'uploaded',\n  UPLOAD_FAILED: 'upload_failed',\n});\n\nexport const ProgressIndicatorTypes = Object.freeze({\n  IN_PROGRESS: 'in_progress',\n  RETRY: 'retry',\n});\n\n// ACI = AutoCompleteInput\nexport const ACITriggerSettings = ({\n  users,\n  onMentionSelectItem,\n  commands,\n}) => ({\n  '@': {\n    dataProvider: (q) => {\n      const matchingUsers = users.filter((user) => {\n        if (!q) return true;\n        if (\n          user.name !== undefined &&\n          user.name.toLowerCase().indexOf(q.toLowerCase()) !== -1\n        ) {\n          return true;\n        } else if (user.id.toLowerCase().indexOf(q.toLowerCase()) !== -1) {\n          return true;\n        } else {\n          return false;\n        }\n      });\n      return matchingUsers.slice(0, 10);\n    },\n    component: MentionsItem,\n    title: 'Searching for people',\n    output: (entity) => ({\n      key: entity.id,\n      text: `@${entity.name || entity.id}`,\n      caretPosition: 'next',\n    }),\n    callback: (item) => {\n      onMentionSelectItem(item);\n    },\n  },\n  '/': {\n    dataProvider: (q, text) => {\n      if (text.indexOf('/') !== 0) {\n        return [];\n      }\n\n      const selectedCommands = commands.filter((c) => c.name.indexOf(q) !== -1);\n\n      // sort alphabetically unless the you're matching the first char\n      selectedCommands.sort((a, b) => {\n        let nameA = a.name.toLowerCase();\n        let nameB = b.name.toLowerCase();\n        if (nameA.indexOf(q) === 0) {\n          nameA = `0${nameA}`;\n        }\n        if (nameB.indexOf(q) === 0) {\n          nameB = `0${nameB}`;\n        }\n        if (nameA < nameB) {\n          return -1;\n        }\n        if (nameA > nameB) {\n          return 1;\n        }\n\n        return 0;\n      });\n\n      return selectedCommands.slice(0, 10);\n    },\n    title: 'Commands',\n    component: CommandsItem,\n    output: (entity) => ({\n      key: entity.id,\n      text: `/${entity.name}`,\n      caretPosition: 'next',\n    }),\n  },\n});\n\nexport const MESSAGE_ACTIONS = {\n  edit: 'edit',\n  delete: 'delete',\n  reactions: 'reactions',\n  reply: 'reply',\n};\n","import React from 'react';\nimport { Text, TouchableOpacity, View } from 'react-native';\nimport { emojiData } from '../utils';\n\nexport class ReactionList extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  _renderReactions = (reactions) => {\n    const reactionsByType = {};\n    reactions.map((item) => {\n      if (reactions[item.type] === undefined) {\n        return (reactionsByType[item.type] = [item]);\n      } else {\n        return (reactionsByType[item.type] = [\n          ...reactionsByType[item.type],\n          item,\n        ]);\n      }\n    });\n\n    const emojiDataByType = {};\n    emojiData.forEach((e) => (emojiDataByType[e.id] = e));\n\n    const reactionTypes = emojiData.map((e) => e.id);\n    return Object.keys(reactionsByType).map((type) =>\n      reactionTypes.indexOf(type) > -1 ? (\n        <Text key={type}>{emojiDataByType[type].icon}</Text>\n      ) : null,\n    );\n  };\n\n  _getReactionCount = (reactionCounts) => {\n    let count = null;\n    if (\n      reactionCounts !== null &&\n      reactionCounts !== undefined &&\n      Object.keys(reactionCounts).length > 0\n    ) {\n      count = 0;\n      Object.keys(reactionCounts).map((key) => (count += reactionCounts[key]));\n    }\n    return count;\n  };\n\n  render() {\n    const {\n      latestReactions,\n      openReactionSelector,\n      reactionCounts,\n      visible,\n    } = this.props;\n    return (\n      <TouchableOpacity onPress={openReactionSelector} activeOpacity={1}>\n        <View\n          style={{\n            opacity: visible ? 1 : 0,\n            display: 'flex',\n            flexDirection: 'row',\n            padding: 5,\n            backgroundColor: 'black',\n            borderRadius: 10,\n          }}\n        >\n          {this._renderReactions(latestReactions)}\n          <Text\n            style={{\n              color: 'white',\n              paddingLeft: 5,\n              paddingRight: 5,\n            }}\n          >\n            {this._getReactionCount(reactionCounts)}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View, TouchableOpacity, Text, Modal } from 'react-native';\nimport { emojiData } from '../utils';\nimport { Avatar } from './Avatar';\nimport { buildStylesheet } from '../styles/styles.js';\n\nexport class ReactionPicker extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  getUsersPerReaction = (reactions, type) => {\n    const filtered =\n      reactions && reactions.filter((item) => item.type === type);\n    return filtered;\n  };\n\n  getLatestUser = (reactions, type) => {\n    const filtered = this.getUsersPerReaction(reactions, type);\n    if (filtered && filtered[0] && filtered[0].user) {\n      return filtered[0].user;\n    } else {\n      return 'NotFound';\n    }\n  };\n\n  render() {\n    const {\n      reactionPickerVisible,\n      handleDismiss,\n      handleReaction,\n      latestReactions,\n      reactionCounts,\n      rpLeft,\n      rpTop,\n      rpRight,\n      style,\n    } = this.props;\n\n    if (!reactionPickerVisible) return null;\n\n    const position = {\n      marginTop: rpTop,\n    };\n\n    if (rpLeft) position.marginLeft = rpLeft;\n\n    if (rpRight) position.marginRight = rpRight;\n\n    const styles = buildStylesheet('ReactionPicker', style);\n\n    return (\n      <Modal\n        visible={reactionPickerVisible}\n        transparent\n        animationType=\"fade\"\n        onRequestClose={handleDismiss}\n      >\n        {reactionPickerVisible && (\n          <TouchableOpacity\n            onPress={handleDismiss}\n            style={{\n              flex: 1,\n              alignItems: rpLeft ? 'flex-start' : 'flex-end',\n            }}\n            activeOpacity={1}\n          >\n            <View\n              style={{\n                ...styles.container,\n                ...position,\n              }}\n            >\n              {emojiData.map(({ id, icon }) => {\n                const latestUser = this.getLatestUser(latestReactions, id);\n                const count = reactionCounts && reactionCounts[id];\n                return (\n                  <View key={id} style={styles.reactionColumn}>\n                    {latestUser !== 'NotFound' ? (\n                      <Avatar\n                        image={latestUser.image}\n                        alt={latestUser.id}\n                        size={20}\n                        style={{\n                          image: {\n                            borderColor: 'white',\n                            borderWidth: 1,\n                          },\n                        }}\n                        name={latestUser.id}\n                      />\n                    ) : (\n                      <View style={{ height: 20, width: 20 }} />\n                    )}\n                    <Text\n                      style={{ fontSize: 30 }}\n                      onPress={() => {\n                        handleReaction(id);\n                      }}\n                    >\n                      {icon}\n                    </Text>\n                    <Text style={styles.reactionCount}>\n                      {count > 0 ? count : ''}\n                    </Text>\n                  </View>\n                );\n              })}\n            </View>\n          </TouchableOpacity>\n        )}\n      </Modal>\n    );\n  }\n}\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\nimport { renderText, capitalize } from '../../utils';\n\nexport const MessageText = ({\n  message,\n  isMyMessage = () => false,\n  style = null,\n}) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n  const groupStyles =\n    (isMyMessage(message) ? 'right' : 'left') +\n    capitalize(message.groupPosition[0]);\n\n  if (!message.text) return false;\n\n  const styles = buildStylesheet('MessageSimpleText', style);\n\n  return (\n    <React.Fragment>\n      <View\n        style={{\n          ...styles.container,\n          ...styles[pos],\n          ...styles[groupStyles],\n          ...styles[message.status],\n        }}\n      >\n        {renderText(message)}\n      </View>\n    </React.Fragment>\n  );\n};\n","const img = require('.//images/icons/icon_path.png'); export default img;","import React from 'react';\nimport { Text, TouchableOpacity, Image } from 'react-native';\n\nimport iconPath from '../../images/icons/icon_path.png';\n\nexport const MessageReplies = ({ message, isThreadList, openThread, pos }) => {\n  if (isThreadList || !message.reply_count) return null;\n\n  return (\n    <TouchableOpacity\n      onPress={openThread}\n      style={{ padding: 5, flexDirection: 'row' }}\n    >\n      {pos === 'left' ? <Image source={iconPath} /> : null}\n      <Text style={{ color: '#006CFF' }}>\n        {message.reply_count} {message.reply_count === 1 ? 'Reply' : 'Replies'}\n      </Text>\n      {pos === 'right' ? (\n        <Image\n          style={{\n            transform: [{ rotateY: '180deg' }],\n          }}\n          source={iconPath}\n        />\n      ) : null}\n    </TouchableOpacity>\n  );\n};\n","import React from 'react';\nimport { Dimensions, View, Text, TouchableOpacity } from 'react-native';\nimport moment from 'moment';\nimport {\n  buildStylesheet,\n  REACTION_PICKER_HEIGHT,\n} from '../../styles/styles.js';\nimport { Attachment } from '../Attachment';\nimport { ReactionList } from '../ReactionList';\nimport { ReactionPicker } from '../ReactionPicker';\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\nimport { MessageText } from './MessageText';\nimport { MessageReplies } from './MessageReplies';\nimport { Gallery } from '../Gallery';\nimport { MESSAGE_ACTIONS } from '../../utils';\nimport Immutable from 'seamless-immutable';\n\nexport class MessageContent extends React.PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.ActionSheet = false;\n    this.state = { reactionPickerVisible: false };\n  }\n\n  openThread = () => {\n    if (this.props.onThreadSelect)\n      this.props.onThreadSelect(this.props.message);\n  };\n\n  onMessageTouch = () => {\n    this.props.onMessageTouch(this.props.message.id);\n  };\n\n  showActionSheet = () => {\n    this.ActionSheet.show();\n  };\n\n  handleDelete = async () => {\n    await this.props.Message.handleDelete();\n  };\n\n  handleEdit = () => {\n    this.props.Message.handleEdit();\n  };\n\n  openReactionSelector = () => {\n    const { isMyMessage, message } = this.props;\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    this.messageContainer.measureInWindow((x, y, width) => {\n      this.setState({\n        reactionPickerVisible: true,\n        rpTop: y - REACTION_PICKER_HEIGHT,\n        rpLeft: pos === 'left' ? x : null,\n        rpRight:\n          pos === 'right'\n            ? Math.round(Dimensions.get('window').width) - (x + width)\n            : null,\n      });\n    });\n  };\n\n  onActionPress = (action) => {\n    switch (action) {\n      case MESSAGE_ACTIONS.edit:\n        this.handleEdit();\n        break;\n      case MESSAGE_ACTIONS.delete:\n        this.handleDelete();\n        break;\n      case MESSAGE_ACTIONS.reply:\n        this.openThread();\n        break;\n      case MESSAGE_ACTIONS.reactions:\n        this.openReactionSelector();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render() {\n    const {\n      message,\n      isMyMessage,\n      readOnly,\n      activeMessageId,\n      Message,\n      handleReaction,\n      threadList,\n      retrySendMessage,\n      messageActions,\n      style,\n    } = this.props;\n    const hasAttachment = Boolean(\n      message && message.attachments && message.attachments.length,\n    );\n\n    const pos = isMyMessage(message) ? 'right' : 'left';\n\n    const styles = buildStylesheet('MessageSimpleContent', style);\n\n    const showTime =\n      message.groupPosition[0] === 'single' ||\n      message.groupPosition[0] === 'bottom'\n        ? true\n        : false;\n\n    const options = [{ id: 'cancel', title: 'Cancel' }];\n    const images =\n      hasAttachment &&\n      message.attachments.filter((item) => item.type === 'image');\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reactions) > -1\n    ) {\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.reactions,\n        title: 'Add Reaction',\n      });\n    }\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.reply) > -1 &&\n      !threadList\n    ) {\n      options.splice(1, 0, { id: MESSAGE_ACTIONS.reply, title: 'Reply' });\n    }\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.edit) > -1 &&\n      Message.canEditMessage()\n    )\n      options.splice(1, 0, { id: MESSAGE_ACTIONS.edit, title: 'Edit Message' });\n\n    if (\n      messageActions &&\n      messageActions.indexOf(MESSAGE_ACTIONS.delete) > -1 &&\n      Message.canDeleteMessage()\n    )\n      options.splice(1, 0, {\n        id: MESSAGE_ACTIONS.delete,\n        title: 'Delete Message',\n      });\n\n    if (message.deleted_at)\n      return (\n        <View style={{ ...styles.container, ...styles[pos], padding: 5 }}>\n          <Text style={{ ...styles.deletedText, ...styles.text }}>\n            This message was deleted ...\n          </Text>\n        </View>\n      );\n\n    const contentProps = {\n      style: {\n        ...styles.container,\n        ...styles[pos],\n        ...(styles[message.status] ? styles[message.status] : {}),\n      },\n      onLongPress: options.length > 1 ? this.showActionSheet : null,\n      activeOpacity: 0.7,\n      disabled: readOnly,\n    };\n\n    if (message.status === 'failed')\n      contentProps.onPress = retrySendMessage.bind(this, Immutable(message));\n\n    return (\n      <TouchableOpacity {...contentProps}>\n        {message.status === 'failed' ? (\n          <Text>Message failed - try again</Text>\n        ) : null}\n        {message.latest_reactions && message.latest_reactions.length > 0 && (\n          <ReactionList\n            visible={!this.state.reactionPickerVisible}\n            latestReactions={message.latest_reactions}\n            openReactionSelector={this.openReactionSelector}\n            reactionCounts={message.reaction_counts}\n          />\n        )}\n        {/* Reason for collapsible: https://github.com/facebook/react-native/issues/12966 */}\n        <View\n          ref={(o) => (this.messageContainer = o)}\n          collapsable={false}\n          style={{ alignItems: 'flex-end' }}\n        >\n          {hasAttachment &&\n            images.length <= 1 &&\n            message.attachments.map((attachment, index) => (\n              <Attachment\n                key={`${message.id}-${index}`}\n                attachment={attachment}\n                actionHandler={this.props.handleAction}\n              />\n            ))}\n          {images.length > 1 && <Gallery images={images} />}\n          <MessageText\n            message={message}\n            isMyMessage={isMyMessage}\n            disabled={message.status === 'failed'}\n            onMessageTouch={this.onMessageTouch}\n            activeMessageId={activeMessageId}\n            Message={Message}\n            openThread={this.openThread}\n            handleReaction={handleReaction}\n          />\n        </View>\n        <MessageReplies\n          message={message}\n          isThreadList={!!threadList}\n          openThread={this.openThread}\n          pos={pos}\n        />\n\n        {showTime ? (\n          <View style={styles.metaContainer}>\n            <Text style={{ ...styles.metaText, textAlign: pos }}>\n              {moment(message.created_at).format('h:mmA')}\n            </Text>\n          </View>\n        ) : null}\n\n        <ActionSheet\n          ref={(o) => {\n            this.ActionSheet = o;\n          }}\n          title={<Text>Choose an action</Text>}\n          options={options.map((o) => o.title)}\n          cancelButtonIndex={0}\n          destructiveButtonIndex={0}\n          onPress={(index) => this.onActionPress(options[index].id)}\n        />\n        <ReactionPicker\n          reactionPickerVisible={this.state.reactionPickerVisible}\n          handleReaction={handleReaction}\n          latestReactions={message.latest_reactions}\n          reactionCounts={message.reaction_counts}\n          handleDismiss={() => {\n            this.setState({ reactionPickerVisible: false });\n          }}\n          rpLeft={this.state.rpLeft}\n          rpRight={this.state.rpRight}\n          rpTop={this.state.rpTop}\n        />\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\nimport { Avatar } from '../Avatar';\n\nexport const MessageAvatar = ({ message, isMyMessage, style }) => {\n  const pos = isMyMessage(message) ? 'right' : 'left';\n  const styles = buildStylesheet('MessageSimpleAvatar', style);\n\n  const showAvatar =\n    message.groupPosition[0] === 'single' ||\n    message.groupPosition[0] === 'bottom'\n      ? true\n      : false;\n\n  return (\n    <View\n      style={{\n        ...styles[pos],\n      }}\n    >\n      {showAvatar ? (\n        <Avatar image={message.user.image} size={32} name={message.user.name} />\n      ) : (\n        <View style={{ width: 32, height: 28 }} />\n      )}\n    </View>\n  );\n};\n","import React from 'react';\nimport { View } from 'react-native';\nimport { buildStylesheet } from '../../styles/styles.js';\n\nimport { MessageStatus } from './MessageStatus';\nimport { MessageContent } from './MessageContent';\nimport { MessageAvatar } from './MessageAvatar';\n\nexport class MessageSimple extends React.PureComponent {\n  render() {\n    const { message, isMyMessage, style, editing } = this.props;\n    const styles = buildStylesheet('MessageSimple', style);\n    const pos = isMyMessage(message) ? 'right' : 'left';\n    const bottomMargin =\n      message.groupPosition[0] === 'single' ||\n      message.groupPosition[0] === 'bottom'\n        ? 'bottom'\n        : null;\n    return (\n      <View\n        style={{\n          ...styles.container,\n          ...styles[pos],\n          ...styles[bottomMargin],\n          backgroundColor: editing.id === message.id ? 'pink' : 'white',\n        }}\n      >\n        {isMyMessage(message) ? (\n          <React.Fragment>\n            <MessageContent {...this.props} />\n            <MessageAvatar {...this.props} />\n            <MessageStatus {...this.props} />\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <MessageAvatar {...this.props} />\n            <MessageContent {...this.props} />\n          </React.Fragment>\n        )}\n      </View>\n    );\n  }\n}\n\nexport { MessageStatus } from './MessageStatus';\nexport { MessageContent } from './MessageContent';\nexport { MessageAvatar } from './MessageAvatar';\nexport { MessageText } from './MessageText';\n","import React from 'react';\nimport { Attachment } from './Attachment';\nimport { MessageSimple } from './MessageSimple';\nimport PropTypes from 'prop-types';\nimport deepequal from 'deep-equal';\nimport { withChannelContext } from '../context';\nimport { MESSAGE_ACTIONS } from '../utils';\n\nconst Message = withChannelContext(\n  class Message extends React.Component {\n    constructor(props) {\n      super(props);\n      this.state = {\n        loading: false,\n      };\n    }\n\n    static propTypes = {\n      /** The message object */\n      message: PropTypes.object.isRequired,\n      /** The client connection object for connecting to Stream */\n      client: PropTypes.object.isRequired,\n      /** The current channel this message is displayed in */\n      channel: PropTypes.object.isRequired,\n      /** A list of users that have read this message **/\n      readBy: PropTypes.array,\n      /** groupStyles, a list of styles to apply to this message. ie. top, bottom, single etc */\n      groupStyles: PropTypes.array,\n      /** Editing, if the message is currently being edited */\n      editing: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n      /** The message rendering component, the Message component delegates its rendering logic to this component */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** Allows you to overwrite the attachment component */\n      Attachment: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      messageActions: PropTypes.oneOfType([PropTypes.bool, PropTypes.array]),\n    };\n\n    static defaultProps = {\n      Message: MessageSimple,\n      messageActions: Object.keys(MESSAGE_ACTIONS),\n      readBy: [],\n      groupStyles: [],\n      Attachment,\n      editing: false,\n    };\n\n    shouldComponentUpdate(nextProps) {\n      // since there are many messages its important to only rerender messages when needed.\n      let shouldUpdate = nextProps.message !== this.props.message;\n      // read state is the next most likely thing to change..\n      if (!shouldUpdate && !deepequal(nextProps.readBy, this.props.readBy)) {\n        shouldUpdate = true;\n      }\n      // group style often changes for the last 3 messages...\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.groupStyles, this.props.groupStyles)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // if lastreceivedId changesm, message should update.\n      if (\n        !shouldUpdate &&\n        !deepequal(nextProps.lastReceivedId, this.props.lastReceivedId)\n      ) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (!shouldUpdate && nextProps.editing !== this.props.editing) {\n        shouldUpdate = true;\n      }\n\n      // editing is the last one which can trigger a change..\n      if (\n        !shouldUpdate &&\n        nextProps.messageListRect !== this.props.messageListRect\n      ) {\n        shouldUpdate = true;\n      }\n\n      return shouldUpdate;\n    }\n\n    isMyMessage = (message) => this.props.client.user.id === message.user.id;\n    isAdmin = () => this.props.client.user.role === 'admin';\n\n    canEditMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    canDeleteMessage = () =>\n      this.isMyMessage(this.props.message) || this.isAdmin();\n\n    handleFlag = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.id);\n    };\n\n    handleMute = async (event) => {\n      event.preventDefault();\n\n      const message = this.props.message;\n      await this.props.client.flagMessage(message.user.id);\n    };\n\n    handleEdit = () => {\n      this.props.setEditingState(this.props.message);\n    };\n\n    handleDelete = async () => {\n      const message = this.props.message;\n      const data = await this.props.client.deleteMessage(message.id);\n      this.props.updateMessage(data.message);\n    };\n\n    handleReaction = async (reactionType, event) => {\n      if (event !== undefined && event.preventDefault) {\n        event.preventDefault();\n      }\n\n      let userExistingReaction = null;\n\n      const currentUser = this.props.client.userID;\n      for (const reaction of this.props.message.own_reactions) {\n        // own user should only ever contain the current user id\n        // just in case we check to prevent bugs with message updates from breaking reactions\n        if (\n          currentUser === reaction.user.id &&\n          reaction.type === reactionType\n        ) {\n          userExistingReaction = reaction;\n        } else if (currentUser !== reaction.user.id) {\n          console.warn(\n            `message.own_reactions contained reactions from a different user, this indicates a bug`,\n          );\n        }\n      }\n\n      const originalMessage = this.props.message;\n      let reactionChangePromise;\n\n      /*\n    - Add the reaction to the local state\n    - Make the API call in the background\n    - If it fails, revert to the old message...\n     */\n      if (userExistingReaction) {\n        this.props.channel.state.removeReaction(userExistingReaction);\n\n        reactionChangePromise = this.props.channel.deleteReaction(\n          this.props.message.id,\n          userExistingReaction.type,\n        );\n      } else {\n        // add the reaction\n        const messageID = this.props.message.id;\n        const tmpReaction = {\n          message_id: messageID,\n          user: this.props.client.user,\n          type: reactionType,\n          created_at: new Date(),\n        };\n        const reaction = { type: reactionType };\n\n        this.props.channel.state.addReaction(tmpReaction);\n        reactionChangePromise = this.props.channel.sendReaction(\n          messageID,\n          reaction,\n        );\n      }\n\n      try {\n        // only wait for the API call after the state is updated\n        await reactionChangePromise;\n      } catch (e) {\n        // revert to the original message if the API call fails\n        this.props.updateMessage(originalMessage);\n      }\n    };\n\n    handleAction = async (name, value, event) => {\n      event.preventDefault();\n      const messageID = this.props.message.id;\n      const formData = {};\n      formData[name] = value;\n\n      const data = await this.props.channel.sendAction(messageID, formData);\n\n      if (data && data.message) {\n        this.props.updateMessage(data.message);\n      } else {\n        this.props.removeMessage(this.props.message);\n      }\n    };\n\n    handleRetry = async (message) => {\n      await this.props.retrySendMessage(message);\n    };\n\n    render() {\n      const message = this.props.message;\n\n      const actionsEnabled =\n        message.type === 'regular' && message.status === 'received';\n\n      const Component = this.props.Message;\n      return (\n        <Component\n          {...this.props}\n          actionsEnabled={actionsEnabled}\n          Message={this}\n          handleReaction={this.handleReaction}\n          handleFlag={this.handleFlag}\n          handleMute={this.handleMute}\n          handleAction={this.handleAction}\n          handleReply={this.handleReply}\n          handleRetry={this.handleRetry}\n          isMyMessage={this.isMyMessage}\n          openThread={\n            this.props.openThread && this.props.openThread.bind(this, message)\n          }\n        />\n      );\n    }\n  },\n);\n\nexport { Message };\n","import React, { PureComponent } from 'react';\nimport { TouchableOpacity } from 'react-native';\nimport PropTypes from 'prop-types';\n\nimport { buildStylesheet } from '../styles/styles';\n\nexport class MessageNotification extends PureComponent {\n  static propTypes = {\n    /** If we should show the notification or not */\n    showNotification: PropTypes.bool,\n    /** Onclick handler */\n    onClick: PropTypes.func.isRequired,\n    /** Style overrides */\n    style: PropTypes.object,\n  };\n\n  static defaultProps = {\n    showNotification: true,\n  };\n\n  render() {\n    const styles = buildStylesheet('MessageNotification', this.props.style);\n    if (!this.props.showNotification) {\n      return null;\n    } else {\n      return (\n        <TouchableOpacity\n          onPress={this.props.onClick}\n          style={styles.container}\n          onClick={this.props.onClick}\n        >\n          {this.props.children}\n        </TouchableOpacity>\n      );\n    }\n  }\n}\n","import React from 'react';\nimport { View, Text } from 'react-native';\nimport { styles } from '../styles/styles.js';\nimport Moment from 'moment';\n\nexport const DateSeparator = ({ message, formatDate, date }) => (\n  <View style={styles.DateSeparator.container} collapsable={false}>\n    <View style={styles.DateSeparator.dividingLines} />\n    <Text style={styles.DateSeparator.date}>\n      {formatDate\n        ? formatDate(date)\n        : Moment(message.date.toISOString()).calendar(null, {\n            lastDay: '[Yesterday]',\n            sameDay: '[Today]',\n            nextDay: '[Tomorrow]',\n            lastWeek: '[Last] dddd',\n            nextWeek: 'dddd',\n            sameElse: 'L',\n          })}\n    </Text>\n    <View style={styles.DateSeparator.dividingLines} />\n  </View>\n);\n","import React, { PureComponent } from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport { withChannelContext } from '../context';\n\nimport PropTypes from 'prop-types';\nimport { styles } from '../styles/styles.js';\n\nimport { Message } from './Message';\nimport { MessageNotification } from './MessageNotification';\nimport { DateSeparator } from './DateSeparator';\n\nconst MessageList = withChannelContext(\n  class MessageList extends PureComponent {\n    constructor(props) {\n      super(props);\n\n      this.state = {\n        newMessagesNotification: false,\n        activeMessageId: false,\n        online: props.online,\n      };\n    }\n\n    static propTypes = {\n      /** A list of immutable messages */\n      messages: PropTypes.array.isRequired,\n      /** Turn off grouping of messages by user */\n      noGroupByUser: PropTypes.bool,\n      online: PropTypes.bool,\n      /** The message rendering component, the Message component delegates its rendering logic to this component */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      dateSeparator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n    };\n\n    static defaultProps = {\n      dateSeparator: DateSeparator,\n    };\n\n    componentDidUpdate(prevProps) {\n      if (this.props.online !== prevProps.online) {\n        this.setState({ online: this.props.online });\n      }\n\n      // handle new messages being sent/received\n      const currentLastMessage = this.props.messages[\n        this.props.messages.length - 1\n      ];\n      const previousLastMessage =\n        prevProps.messages[prevProps.messages.length - 1];\n      if (!previousLastMessage || !currentLastMessage) {\n        return;\n      }\n\n      const hasNewMessage = currentLastMessage.id !== previousLastMessage.id;\n      const userScrolledUp = this.state.yOffset > 0;\n      const isOwner = currentLastMessage.user.id === this.props.client.userID;\n\n      let scrollToBottom = false;\n\n      // always scroll down when it's your own message that you added...\n      if (hasNewMessage && isOwner) {\n        scrollToBottom = true;\n      } else if (hasNewMessage && !userScrolledUp) {\n        scrollToBottom = true;\n      }\n\n      // Check the scroll position... if you're scrolled up show a little notification\n      if (\n        !scrollToBottom &&\n        hasNewMessage &&\n        !this.state.newMessagesNotification\n      ) {\n        this.setState({ newMessagesNotification: true });\n      }\n\n      if (scrollToBottom) {\n        this.flatList.scrollToIndex({ index: 0 });\n      }\n\n      // remove the scroll notification if we already scrolled down...\n      if (scrollToBottom && this.state.newMessagesNotification) {\n        this.setState({ newMessagesNotification: false });\n      }\n\n      this.getLastReceived(this.props.messages);\n    }\n\n    insertDates = (messages) => {\n      const newMessages = [];\n      for (const [i, message] of messages.entries()) {\n        if (message.type === 'message.read' || message.deleted_at) {\n          newMessages.push(message);\n          continue;\n        }\n\n        const messageDate = message.created_at.getDay();\n        let prevMessageDate = messageDate;\n\n        if (i < messages.length - 1) {\n          prevMessageDate = messages[i + 1].created_at.getDay();\n        }\n\n        if (i === 0) {\n          newMessages.push(\n            {\n              type: 'message.date',\n              date: message.created_at,\n            },\n            message,\n          );\n        } else if (messageDate !== prevMessageDate) {\n          newMessages.push(message, {\n            type: 'message.date',\n            date: messages[i + 1].created_at,\n          });\n        } else {\n          newMessages.push(message);\n        }\n      }\n\n      return newMessages;\n    };\n\n    assignGroupPositions = (m) => {\n      const l = m.length;\n      const newMessages = [];\n      const messages = [...m];\n\n      for (let i = 0; i < l; i++) {\n        const previousMessage = messages[i - 1];\n        const message = messages[i];\n        const nextMessage = messages[i + 1];\n        const groupStyles = [];\n        if (message.type === 'message.date') {\n          newMessages.unshift({ ...message, groupPosition: [] });\n          continue;\n        }\n        const userId = message.user.id;\n\n        const isTopMessage =\n          !previousMessage ||\n          previousMessage.type === 'message.date' ||\n          previousMessage.attachments.length !== 0 ||\n          userId !== previousMessage.user.id ||\n          previousMessage.type === 'error' ||\n          previousMessage.deleted_at;\n\n        const isBottomMessage =\n          !nextMessage ||\n          nextMessage.type === 'message.date' ||\n          nextMessage.attachments.length !== 0 ||\n          userId !== nextMessage.user.id ||\n          nextMessage.type === 'error' ||\n          nextMessage.deleted_at;\n\n        if (isTopMessage) {\n          groupStyles.push('top');\n        }\n\n        if (isBottomMessage) {\n          if (isTopMessage || message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.push('bottom');\n          }\n        }\n\n        if (!isTopMessage && !isBottomMessage) {\n          if (message.deleted_at || message.type === 'error') {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('single');\n          } else {\n            groupStyles.splice(0, groupStyles.length);\n            groupStyles.push('middle');\n          }\n        }\n\n        if (message.attachments.length !== 0) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        if (this.props.noGroupByUser) {\n          groupStyles.splice(0, groupStyles.length);\n          groupStyles.push('single');\n        }\n\n        newMessages.unshift({ ...message, groupPosition: groupStyles });\n      }\n\n      return newMessages;\n    };\n\n    goToNewMessages = () => {\n      this.setState({\n        newMessagesNotification: false,\n      });\n      this.flatList.scrollToIndex({ index: 0 });\n    };\n\n    getLastReceived = (messages) => {\n      const l = messages.length;\n      let lastReceivedId = null;\n      for (let i = l; i > 0; i--) {\n        if (\n          messages[i] !== undefined &&\n          messages[i].status !== undefined &&\n          messages[i].status === 'received'\n        ) {\n          lastReceivedId = messages[i].id;\n          break;\n        }\n      }\n      this.setState({ lastReceivedId });\n    };\n\n    renderItem = ({ item: message }) => {\n      if (message.type === 'message.date') {\n        const DateSeparator = this.props.dateSeparator;\n        return <DateSeparator message={message} />;\n      }\n\n      return (\n        <Message\n          onThreadSelect={this.props.onThreadSelect}\n          message={message}\n          Message={this.props.Message}\n          lastReceivedId={\n            this.state.lastReceivedId === message.id\n              ? this.state.lastReceivedId\n              : null\n          }\n          onMessageTouch={this.onMessageTouch}\n          activeMessageId={this.state.activeMessageId}\n          setEditingState={this.props.setEditingState}\n          editing={this.props.editing}\n          threadList={this.props.threadList}\n          messageActions={this.props.messageActions}\n        />\n      );\n    };\n\n    handleScroll = (event) => {\n      const yOffset = event.nativeEvent.contentOffset.y;\n      this.setState({ yOffset });\n    };\n\n    onMessageTouch = (id) => {\n      this.setState({ activeMessageId: id });\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"message\" />;\n    };\n\n    render() {\n      // We can't provide ListEmptyComponent to FlatList when inverted flag is set.\n      // https://github.com/facebook/react-native/issues/21196\n      if (this.props.messages && this.props.messages.length === 0) {\n        return <View style={{ flex: 1 }}>{this.renderEmptyState()}</View>;\n      }\n\n      const messagesWithDates = this.insertDates(this.props.messages);\n      const messagesWithGroupPositions = this.assignGroupPositions(\n        messagesWithDates,\n      );\n\n      return (\n        <React.Fragment>\n          <FlatList\n            ref={(fl) => (this.flatList = fl)}\n            style={{ flex: 1, paddingLeft: 10, paddingRight: 10 }}\n            data={messagesWithGroupPositions}\n            onScroll={this.handleScroll}\n            ListFooterComponent={this.props.headerComponent}\n            onEndReached={this.props.loadMore}\n            inverted\n            keyExtractor={(item) =>\n              item.id || item.created_at || item.date.toISOString()\n            }\n            renderItem={this.renderItem}\n            maintainVisibleContentPosition={{\n              minIndexForVisible: 1,\n              autoscrollToTopThreshold: 10,\n            }}\n          />\n          {this.state.newMessagesNotification && (\n            <MessageNotification\n              showNotification={this.state.newMessagesNotification}\n              onClick={this.goToNewMessages}\n            >\n              <View\n                style={{\n                  borderRadius: 10,\n                  backgroundColor: 'black',\n                  color: 'white',\n                  padding: 10,\n                }}\n              >\n                <Text style={{ color: 'white' }}>New Messages ↓</Text>\n              </View>\n            </MessageNotification>\n          )}\n          <Notification type=\"warning\" active={!this.state.online}>\n            <Text style={styles.Notification.warning}>\n              Connection failure, reconnecting now ...\n            </Text>\n          </Notification>\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nconst Notification = ({ children, active, type }) => {\n  if (active) {\n    return (\n      <View\n        style={{\n          ...styles.Notification.container,\n          ...styles.Notification[type],\n        }}\n      >\n        {children}\n      </View>\n    );\n  }\n\n  return null;\n};\n\nexport { MessageList };\n","const img = require('.//images/icons/icon_edit.png'); export default img;","const img = require('.//images/icons/icon_new_message.png'); export default img;","const img = require('.//images/reload1.png'); export default img;","import React from 'react';\nimport { View, ActivityIndicator, Image, TouchableOpacity } from 'react-native';\nimport iconReload from '../images/reload1.png';\nimport PropTypes from 'prop-types';\nimport { ProgressIndicatorTypes } from '../utils';\n\nexport class WithProgressIndicator extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n\n  static propTypes = {\n    active: PropTypes.bool,\n    type: PropTypes.oneOf([\n      ProgressIndicatorTypes.IN_PROGRESS,\n      ProgressIndicatorTypes.RETRY,\n    ]),\n    action: PropTypes.func,\n  };\n\n  render() {\n    if (!this.props.active) {\n      return <View>{this.props.children}</View>;\n    }\n\n    return (\n      <TouchableOpacity onPress={this.props.action}>\n        {this.props.children}\n        <View\n          style={{\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: 'black',\n            opacity: 0.3,\n          }}\n        />\n        <View\n          style={{\n            position: 'absolute',\n            height: '100%',\n            width: '100%',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            backgroundColor: 'transperant',\n          }}\n        >\n          {this.props.type === ProgressIndicatorTypes.IN_PROGRESS && (\n            <ActivityIndicator color=\"white\" />\n          )}\n          {this.props.type === ProgressIndicatorTypes.RETRY && (\n            <Image source={iconReload} style={{ height: 25, width: 25 }} />\n          )}\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Image, Text, FlatList, TouchableOpacity } from 'react-native';\nimport { WithProgressIndicator } from './WithProgressIndicator';\nimport PropTypes from 'prop-types';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * ImageUploadPreview\n *\n * @example ./docs/ImageUploadPreview.md\n * @extends PureComponent\n */\nexport class ImageUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    imageUploads: PropTypes.array.isRequired,\n    removeImage: PropTypes.func,\n    retryUpload: PropTypes.func,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    return (\n      <React.Fragment>\n        <View\n          style={{\n            padding: 5,\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'flex-start',\n          }}\n        >\n          <WithProgressIndicator\n            active={item.state !== FileState.UPLOADED}\n            type={type}\n            action={this.props.retryUpload.bind(this, item.id)}\n          >\n            <Image\n              source={{ uri: item.url }}\n              style={{ height: 100, width: 100, borderRadius: 10 }}\n            />\n          </WithProgressIndicator>\n          <TouchableOpacity\n            style={{\n              backgroundColor: '#ebebeb',\n              width: 25,\n              height: 25,\n              display: 'flex',\n              alignItems: 'center',\n              justifyContent: 'center',\n              borderRadius: 20,\n              marginLeft: -25,\n            }}\n            onPress={() => {\n              this.props.removeImage(item.id);\n            }}\n          >\n            <Text>X</Text>\n          </TouchableOpacity>\n        </View>\n      </React.Fragment>\n    );\n  };\n\n  render() {\n    if (!this.props.imageUploads || this.props.imageUploads.length === 0)\n      return null;\n\n    return (\n      <View style={{ height: 100, display: 'flex' }}>\n        <FlatList\n          horizontal\n          style={{ flex: 1 }}\n          data={this.props.imageUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport FileIcon from './FileIcon';\nimport { WithProgressIndicator } from './WithProgressIndicator';\nimport { FileState, ProgressIndicatorTypes } from '../utils';\n/**\n * FileUploadPreview\n *\n * @example ./docs/FileUploadPreview.md\n * @extends PureComponent\n */\nconst FILE_PREVIEW_HEIGHT = 50;\nconst FILE_PREVIEW_PADDING = 10;\n\nexport class FileUploadPreview extends React.PureComponent {\n  constructor(props) {\n    super(props);\n  }\n  static propTypes = {\n    fileUploads: PropTypes.array.isRequired,\n    removeFile: PropTypes.func,\n    retryUpload: PropTypes.func,\n  };\n\n  _renderItem = ({ item }) => {\n    let type;\n\n    if (item.state === FileState.UPLOADING)\n      type = ProgressIndicatorTypes.IN_PROGRESS;\n\n    if (item.state === FileState.UPLOAD_FAILED)\n      type = ProgressIndicatorTypes.RETRY;\n\n    return (\n      <WithProgressIndicator\n        active={item.state !== FileState.UPLOADED}\n        type={type}\n        action={this.props.retryUpload.bind(this, item.id)}\n      >\n        <View\n          style={{\n            height: FILE_PREVIEW_HEIGHT,\n            padding: FILE_PREVIEW_PADDING,\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            marginBottom: 5,\n            borderColor: '#EBEBEB',\n            borderWidth: 0.5,\n          }}\n        >\n          <View style={{ flexDirection: 'row', alignItems: 'center' }}>\n            <FileIcon\n              filename={item.file.name}\n              mimeType={item.file.type}\n              size={20}\n            />\n            <Text style={{ paddingLeft: 10 }}>\n              {item.file.name.length > 35\n                ? item.file.name.substring(0, 35).concat('...')\n                : item.file.name}\n            </Text>\n          </View>\n          <Text onPress={this.props.removeFile.bind(this, item.id)}>X</Text>\n        </View>\n      </WithProgressIndicator>\n    );\n  };\n\n  render() {\n    if (!this.props.fileUploads || this.props.fileUploads.length === 0)\n      return null;\n\n    return (\n      <View\n        style={{\n          display: 'flex',\n          height: this.props.fileUploads.length * (FILE_PREVIEW_HEIGHT + 5),\n          marginRight: 10,\n          marginLeft: 10,\n        }}\n      >\n        <FlatList\n          style={{ flex: 1 }}\n          data={this.props.fileUploads}\n          keyExtractor={(item) => item.id}\n          renderItem={this._renderItem}\n        />\n      </View>\n    );\n  }\n}\n","const img = require('.//images/icons/gallery.png'); export default img;","import React from 'react';\nimport { TextInput } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\nimport PropTypes from 'prop-types';\n\nexport class AutoCompleteInput extends React.PureComponent {\n  static propTypes = {\n    value: PropTypes.string,\n    openSuggestions: PropTypes.func,\n    closeSuggestions: PropTypes.func,\n    triggerSettings: PropTypes.object,\n    getUsers: PropTypes.func,\n    setInputBoxRef: PropTypes.func,\n  };\n\n  static defaultProps = {\n    value: '',\n  };\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      text: props.value,\n      selectionStart: 0,\n      selectionEnd: 0,\n      currentTrigger: null,\n    };\n\n    this.isTrackingStarted = false;\n    this.previousChar = ' ';\n\n    this._createRegExp();\n  }\n\n  componentDidUpdate(prevProps) {\n    // console.log('in component did update: ' + prevProps.value);\n    if (prevProps.value !== this.props.value) {\n      this.setState({ text: this.props.value });\n      this.handleChange(this.props.value, true);\n    }\n  }\n\n  startTracking = () => {\n    this.isTrackingStarted = true;\n    const { component, title } = this.props.triggerSettings[\n      this.state.currentTrigger\n    ];\n    this.props.openSuggestions(title, component);\n    // console.log('start TRACKING');\n  };\n\n  stopTracking = () => {\n    this.isTrackingStarted = false;\n    // console.log('STOP TRACKING');\n    this.props.closeSuggestions();\n  };\n\n  updateSuggestions(q) {\n    const triggers = this.props.triggerSettings;\n    this.props.updateSuggestions({\n      data: triggers[this.state.currentTrigger].dataProvider(\n        q,\n        this.state.text,\n      ),\n      onSelect: this.onSelectSuggestion,\n      output: triggers[this.state.currentTrigger].output,\n    });\n  }\n\n  handleChange = (text, fromUpdate = false) => {\n    // console.log('in handle change: ' + text + ' from update: ' + fromUpdate);\n    if (!fromUpdate) {\n      this.props.onChange(text);\n      return;\n    }\n\n    this.handleSuggestions(text);\n  };\n\n  handleSelectionChange = ({\n    nativeEvent: {\n      selection: { start, end },\n    },\n  }) => {\n    // console.log('in handle selection: ', start, end);\n    this.setState({ selectionStart: start, selectionEnd: end });\n  };\n\n  onSelectSuggestion = (item) => {\n    const { text, currentTrigger } = this.state;\n    const { selectionEnd } = this.state;\n    const triggers = this.props.triggerSettings;\n    const newToken = triggers[currentTrigger].output(item);\n    // const { onChange, trigger } = this.props;\n\n    if (!currentTrigger) return;\n\n    const computeCaretPosition = (token, startToken) =>\n      startToken + token.length;\n\n    const textToModify = text.slice(0, selectionEnd);\n\n    const startOfTokenPosition = textToModify.search(\n      /**\n       * It's important to escape the currentTrigger char for chars like [, (,...\n       */\n      new RegExp(\n        `\\\\${currentTrigger}${`[^\\\\${currentTrigger}${\n          triggers[currentTrigger].allowWhitespace ? '' : '\\\\s'\n        }]`}*$`,\n      ),\n    );\n\n    // we add space after emoji is selected if a caret position is next\n    const newTokenString = `${newToken.text} `;\n\n    const newCaretPosition = computeCaretPosition(\n      newTokenString,\n      startOfTokenPosition,\n    );\n    const modifiedText =\n      textToModify.substring(0, startOfTokenPosition) + newTokenString;\n\n    this.stopTracking();\n    this.props.onChange(text.replace(textToModify, modifiedText));\n\n    this.syncCaretPosition(newCaretPosition);\n\n    if (triggers[currentTrigger].callback)\n      triggers[currentTrigger].callback(item);\n  };\n\n  syncCaretPosition = async (position = 0) => {\n    await this.setState({ selectionStart: position, selectionEnd: position });\n  };\n\n  _createRegExp = () => {\n    const triggers = this.props.triggerSettings;\n\n    // negative lookahead to match only the trigger + the actual token = \"bladhwd:adawd:word test\" => \":word\"\n    // https://stackoverflow.com/a/8057827/2719917\n    this.tokenRegExp = new RegExp(\n      `([${Object.keys(triggers).join('')}])(?:(?!\\\\1)[^\\\\s])*$`,\n    );\n  };\n\n  handleSuggestions = async (text) => {\n    // console.log('in handle suggestions: ' + text);\n    const { selectionEnd: selectionEnd } = this.state;\n\n    // TODO: Move these const to props\n    const minChar = 0;\n\n    let tokenMatch = this.tokenRegExp.exec(text.slice(0, selectionEnd));\n    let lastToken = tokenMatch && tokenMatch[0];\n    const triggers = this.props.triggerSettings;\n\n    let currentTrigger =\n      (lastToken && Object.keys(triggers).find((a) => a === lastToken[0])) ||\n      null;\n\n    /*\n      if we lost the trigger token or there is no following character we want to close\n      the autocomplete\n    */\n    if (\n      (!lastToken || lastToken.length <= minChar) &&\n      // check if our current trigger disallows whitespace\n      ((this.state.currentTrigger &&\n        !triggers[this.state.currentTrigger].allowWhitespace) ||\n        !this.state.currentTrigger)\n    ) {\n      // console.log('here 1');\n      this.stopTracking();\n      return;\n    }\n\n    /**\n     * This code has to be sync that is the reason why we obtain the currentTrigger\n     * from currentTrigger not this.state.currentTrigger\n     *\n     * Check if the currently typed token has to be afterWhitespace, or not.\n     */\n    if (\n      currentTrigger &&\n      text[tokenMatch.index - 1] &&\n      (triggers[currentTrigger].afterWhitespace &&\n        !text[tokenMatch.index - 1].match(/\\s/))\n    ) {\n      // console.log('here 2');\n      this.stopTracking();\n      return;\n    }\n\n    /**\n    If our current trigger allows whitespace\n    get the correct token for DataProvider, so we need to construct new RegExp\n   */\n    if (\n      this.state.currentTrigger &&\n      triggers[this.state.currentTrigger].allowWhitespace\n    ) {\n      tokenMatch = new RegExp(\n        `\\\\${this.state.currentTrigger}[^${this.state.currentTrigger}]*$`,\n      ).exec(text.slice(0, selectionEnd));\n      lastToken = tokenMatch && tokenMatch[0];\n\n      if (!lastToken) {\n        // console.log('here 3');\n        this.stopTracking();\n        return;\n      }\n\n      currentTrigger =\n        Object.keys(triggers).find((a) => a === lastToken[0]) || null;\n    }\n\n    const actualToken = lastToken.slice(1);\n\n    // if trigger is not configured step out from the function, otherwise proceed\n    if (!currentTrigger) {\n      return;\n    }\n\n    await this.setState({ currentTrigger });\n\n    if (!this.isTrackingStarted) this.startTracking();\n    // console.log('from handle suggestions: ' + currentTrigger);\n    this.updateSuggestions(actualToken);\n  };\n\n  render() {\n    const styles = buildStylesheet('MessageInput', this.props.style);\n    // console.log('RENDERING THE COMPONENT: ' + this.state.text);\n    return (\n      <TextInput\n        ref={this.props.setInputBoxRef}\n        style={styles.inputBox}\n        placeholder=\"Write your message\"\n        onChangeText={(text) => {\n          this.handleChange(text);\n        }}\n        numberOfLines={20}\n        value={this.state.text}\n        onSelectionChange={this.handleSelectionChange}\n        multiline\n      />\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { View, Text, Image, TouchableOpacity } from 'react-native';\nimport { withChannelContext, withSuggestionsContext } from '../context';\nimport { logChatPromiseExecution } from 'stream-chat';\nimport { buildStylesheet } from '../styles/styles';\nimport iconEdit from '../images/icons/icon_edit.png';\nimport iconNewMessage from '../images/icons/icon_new_message.png';\nimport { ImageUploadPreview } from './ImageUploadPreview';\nimport { FileUploadPreview } from './FileUploadPreview';\nimport { pickImage, pickDocument } from '../native';\nimport { lookup } from 'mime-types';\nimport Immutable from 'seamless-immutable';\nimport { FileState, ACITriggerSettings } from '../utils';\nimport PropTypes from 'prop-types';\nimport uniq from 'lodash/uniq';\n\nimport { ActionSheetCustom as ActionSheet } from 'react-native-actionsheet';\n// import iconMedia from '../images/icons/icon_attach-media.png';\nimport iconGallery from '../images/icons/gallery.png';\nimport { AutoCompleteInput } from './AutoCompleteInput';\n\n// https://stackoverflow.com/a/6860916/2570866\nfunction generateRandomId() {\n  // prettier-ignore\n  return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n}\n\nfunction S4() {\n  return (((1 + Math.random()) * 0x10000) | 0).toString(16).substring(1);\n}\n\nconst MessageInput = withSuggestionsContext(\n  withChannelContext(\n    class MessageInput extends PureComponent {\n      constructor(props) {\n        super(props);\n        const state = this.getMessageDetailsForState(props.editing);\n        this.state = { ...state };\n      }\n\n      static propTypes = {\n        /** Override image upload request */\n        doImageUploadRequest: PropTypes.func,\n        /** Override file upload request */\n        doFileUploadRequest: PropTypes.func,\n        maxNumberOfFiles: PropTypes.number,\n        hasImagePicker: PropTypes.bool,\n        hasFilePicker: PropTypes.bool,\n      };\n\n      static defaultProps = {\n        hasImagePicker: true,\n        hasFilePicker: true,\n      };\n\n      getMessageDetailsForState = (message) => {\n        const imageOrder = [];\n        const imageUploads = {};\n        const fileOrder = [];\n        const fileUploads = {};\n        const attachments = [];\n        let mentioned_users = [];\n        let text = '';\n\n        if (message) {\n          text = message.text;\n          for (const attach of message.attachments) {\n            if (attach.type === 'image') {\n              const id = generateRandomId();\n              imageOrder.push(id);\n              imageUploads[id] = {\n                id,\n                url: attach.image_url,\n                state: 'finished',\n                file: { name: attach.fallback },\n              };\n            } else if (attach.type === 'file') {\n              const id = generateRandomId();\n              fileOrder.push(id);\n              fileUploads[id] = {\n                id,\n                url: attach.asset_url,\n                state: 'finished',\n                file: {\n                  name: attach.title,\n                  type: attach.mime_type,\n                  size: attach.file_size,\n                },\n              };\n            } else {\n              attachments.push(attach);\n            }\n          }\n\n          if (message.mentioned_users) {\n            mentioned_users = [...message.mentioned_users];\n            console.log(mentioned_users);\n          }\n        }\n        return {\n          text,\n          attachments,\n          imageOrder,\n          imageUploads: Immutable(imageUploads),\n          fileOrder,\n          fileUploads: Immutable(fileUploads),\n          mentioned_users,\n          numberOfUploads: 0,\n        };\n      };\n\n      getUsers = () => {\n        const users = [];\n        const members = this.props.members;\n        const watchers = this.props.watchers;\n        if (members && Object.values(members).length) {\n          Object.values(members).forEach((member) => users.push(member.user));\n        }\n\n        if (watchers && Object.values(watchers).length) {\n          users.push(...Object.values(watchers));\n        }\n\n        // make sure we don't list users twice\n        const userMap = {};\n        for (const user of users) {\n          if (user !== undefined && !userMap[user.id]) {\n            userMap[user.id] = user;\n          }\n        }\n        const usersArray = Object.values(userMap);\n        return usersArray;\n      };\n\n      componentDidMount() {\n        if (this.props.editing) this.inputBox.focus();\n      }\n\n      componentDidUpdate(prevProps) {\n        if (this.props.editing) this.inputBox.focus();\n        if (\n          this.props.editing &&\n          prevProps.editing &&\n          this.props.editing.id === prevProps.editing.id\n        ) {\n          return;\n        }\n\n        if (this.props.editing && !prevProps.editing) {\n          this.setState(this.getMessageDetailsForState(this.props.editing));\n        }\n\n        if (\n          this.props.editing &&\n          prevProps.editing &&\n          this.props.editing.id !== prevProps.editing.id\n        ) {\n          this.setState(this.getMessageDetailsForState(this.props.editing));\n        }\n\n        if (!this.props.editing && prevProps.editing) {\n          this.setState(this.getMessageDetailsForState());\n        }\n      }\n\n      onSelectItem = (item) => {\n        this.setState((prevState) => ({\n          mentioned_users: [...prevState.mentioned_users, item.id],\n        }));\n      };\n\n      sendMessage = () => {\n        const attachments = [];\n        for (const id of this.state.imageOrder) {\n          const image = this.state.imageUploads[id];\n          if (!image || image.state === FileState.UPLOAD_FAILED) {\n            continue;\n          }\n          if (image.state === FileState.UPLOADING) {\n            // TODO: show error to user that they should wait until image is uploaded\n            return;\n          }\n          attachments.push({\n            type: 'image',\n            image_url: image.url,\n            fallback: image.file.name,\n          });\n        }\n\n        for (const id of this.state.fileOrder) {\n          const upload = this.state.fileUploads[id];\n          if (!upload || upload.state === FileState.UPLOAD_FAILED) {\n            continue;\n          }\n          if (upload.state === FileState.UPLOADING) {\n            // TODO: show error to user that they should wait until image is uploaded\n            return;\n          }\n          attachments.push({\n            type: 'file',\n            asset_url: upload.url,\n            title: upload.file.name,\n            mime_type: upload.file.type,\n            file_size: upload.file.size,\n          });\n        }\n\n        // Disallow sending message if its empty.\n        if (!this.state.text && attachments.length === 0) return;\n\n        if (this.props.editing) {\n          const { id } = this.props.editing;\n          const updatedMessage = { id };\n          updatedMessage.text = this.state.text;\n          updatedMessage.attachments = attachments;\n          updatedMessage.mentioned_users = this.state.mentioned_users.map(\n            (mu) => mu.id,\n          );\n          // TODO: Remove this line and show an error when submit fails\n          this.props.clearEditingState();\n\n          const updateMessagePromise = this.props.client\n            .updateMessage(updatedMessage)\n            .then(() => {\n              this.props.clearEditingState();\n            });\n          logChatPromiseExecution(updateMessagePromise, 'update message');\n        } else {\n          try {\n            this.props.sendMessage({\n              text: this.state.text,\n              parent: this.props.parent,\n              mentioned_users: uniq(this.state.mentioned_users),\n              attachments,\n            });\n            this.setState({\n              text: '',\n              imageUploads: Immutable({}),\n              imageOrder: Immutable([]),\n              fileUploads: Immutable({}),\n              fileOrder: Immutable([]),\n              mentioned_users: [],\n            });\n          } catch (err) {\n            console.log('Fialed');\n          }\n        }\n      };\n\n      updateMessage = async () => {\n        try {\n          await this.props.client.updateMessage({\n            ...this.props.editing,\n            text: this.state.text,\n          });\n\n          this.setState({ text: '' });\n          this.props.clearEditingState();\n        } catch (err) {\n          console.log(err);\n        }\n      };\n\n      // https://stackoverflow.com/a/29234240/7625485\n      constructTypingString = (dict) => {\n        const arr2 = Object.keys(dict);\n        const arr3 = [];\n        arr2.forEach((item, i) => {\n          if (this.props.client.user.id === dict[arr2[i]].user.id) {\n            return;\n          }\n          arr3.push(dict[arr2[i]].user.name || dict[arr2[i]].user.id);\n        });\n        let outStr = '';\n        if (arr3.length === 1) {\n          outStr = arr3[0] + ' is typing...';\n          dict;\n        } else if (arr3.length === 2) {\n          //joins all with \"and\" but =no commas\n          //example: \"bob and sam\"\n          outStr = arr3.join(' and ') + ' are typing...';\n        } else if (arr3.length > 2) {\n          //joins all with commas, but last one gets \", and\" (oxford comma!)\n          //example: \"bob, joe, and sam\"\n          outStr =\n            arr3.slice(0, -1).join(', ') +\n            ', and ' +\n            arr3.slice(-1) +\n            ' are typing...';\n        }\n\n        return outStr;\n      };\n\n      _pickFile = async () => {\n        if (\n          this.props.maxNumberOfFiles &&\n          this.state.numberOfUploads >= this.props.maxNumberOfFiles\n        )\n          return;\n\n        const result = await pickDocument();\n        if (result.type === 'cancel') {\n          return;\n        }\n        const mimeType = lookup(result.name);\n\n        if (mimeType.startsWith('image/')) {\n          this.uploadNewImage(result);\n        } else {\n          this.uploadNewFile(result);\n        }\n      };\n\n      uploadNewFile = (file) => {\n        const id = generateRandomId();\n        const mimeType = lookup(file.name);\n        /* eslint-disable */\n        this.setState((prevState) => {\n          return {\n            numberOfUploads: prevState.numberOfUploads + 1,\n            fileOrder: prevState.fileOrder.concat([id]),\n            fileUploads: prevState.fileUploads.setIn([id], {\n              id,\n              file: { ...file, type: mimeType },\n              state: FileState.UPLOADING,\n            }),\n          };\n        });\n        /* eslint-enable */\n\n        this._uploadFile(id);\n      };\n\n      _uploadFile = async (id) => {\n        const doc = this.state.fileUploads[id];\n        if (!doc) {\n          return;\n        }\n        const { file } = doc;\n\n        await this.setState((prevState) => ({\n          fileUploads: prevState.fileUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOADING,\n          ),\n        }));\n\n        let response = {};\n        response = {};\n        try {\n          if (this.props.doDocUploadRequest) {\n            response = await this.props.doDocUploadRequest(\n              file,\n              this.props.channel,\n            );\n          } else {\n            response = await this.props.channel.sendFile(file.uri);\n          }\n        } catch (e) {\n          console.warn(e);\n          await this.setState((prevState) => {\n            const image = prevState.fileUploads[id];\n            if (!image) {\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n              };\n            }\n            return {\n              fileUploads: prevState.fileUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOAD_FAILED,\n              ),\n              numberOfUploads: prevState.numberOfUploads - 1,\n            };\n          });\n\n          return;\n        }\n\n        this.setState((prevState) => ({\n          fileUploads: prevState.fileUploads\n            .setIn([id, 'state'], FileState.UPLOADED)\n            .setIn([id, 'url'], response.file),\n        }));\n      };\n\n      _pickImage = async () => {\n        if (\n          this.props.maxNumberOfFiles &&\n          this.state.numberOfUploads >= this.props.maxNumberOfFiles\n        )\n          return;\n\n        const result = await pickImage();\n        if (result.cancelled) {\n          return;\n        }\n\n        this.uploadNewImage(result);\n      };\n\n      uploadNewImage = (image) => {\n        const id = generateRandomId();\n        /* eslint-disable */\n        this.setState((prevState) => {\n          return {\n            numberOfUploads: prevState.numberOfUploads + 1,\n            imageOrder: prevState.imageOrder.concat([id]),\n            imageUploads: prevState.imageUploads.setIn([id], {\n              id,\n              file: image,\n              state: FileState.UPLOADING,\n            }),\n          };\n        });\n        /* eslint-enable */\n\n        this._uploadImage(id);\n      };\n\n      _removeImage = (id) => {\n        this.setState((prevState) => {\n          const img = prevState.imageUploads[id];\n          if (!img) {\n            return {};\n          }\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n            imageUploads: prevState.imageUploads.set(id, undefined), // remove\n            imageOrder: prevState.imageOrder.filter((_id) => id !== _id),\n          };\n        });\n      };\n\n      _removeFile = (id) => {\n        this.setState((prevState) => {\n          const file = prevState.fileUploads[id];\n          if (!file) {\n            return {};\n          }\n          return {\n            numberOfUploads: prevState.numberOfUploads - 1,\n            fileUploads: prevState.fileUploads.set(id, undefined), // remove\n            fileOrder: prevState.fileOrder.filter((_id) => id !== _id),\n          };\n        });\n      };\n\n      _uploadImage = async (id) => {\n        const img = this.state.imageUploads[id];\n        if (!img) {\n          return;\n        }\n        const { file } = img;\n\n        await this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads.setIn(\n            [id, 'state'],\n            FileState.UPLOADING,\n          ),\n        }));\n\n        let response = {};\n        response = {};\n\n        const filename = (file.name || file.uri).replace(\n          /^(file:\\/\\/|content:\\/\\/)/,\n          '',\n        );\n        const contentType = lookup(filename) || 'application/octet-stream';\n\n        try {\n          if (this.props.doImageUploadRequest) {\n            response = await this.props.doImageUploadRequest(\n              file,\n              this.props.channel,\n            );\n          } else {\n            response = await this.props.channel.sendImage(\n              file.uri,\n              null,\n              contentType,\n            );\n          }\n        } catch (e) {\n          console.warn(e);\n          await this.setState((prevState) => {\n            const image = prevState.imageUploads[id];\n            if (!image) {\n              return {\n                numberOfUploads: prevState.numberOfUploads - 1,\n              };\n            }\n\n            return {\n              imageUploads: prevState.imageUploads.setIn(\n                [id, 'state'],\n                FileState.UPLOAD_FAILED,\n              ),\n              numberOfUploads: prevState.numberOfUploads - 1,\n            };\n          });\n\n          return;\n        }\n        this.setState((prevState) => ({\n          imageUploads: prevState.imageUploads\n            .setIn([id, 'state'], FileState.UPLOADED)\n            .setIn([id, 'url'], response.file),\n        }));\n      };\n\n      onChange = (text) => {\n        this.setState({ text });\n\n        if (text) {\n          logChatPromiseExecution(\n            this.props.channel.keystroke(),\n            'start typing event',\n          );\n        }\n      };\n\n      setInputBoxRef = (o) => (this.inputBox = o);\n\n      getCommands = () => {\n        const config = this.props.channel.getConfig();\n        const allCommands = config.commands;\n        return allCommands;\n      };\n\n      render() {\n        const styles = buildStylesheet('MessageInput', this.props.style);\n        const { hasImagePicker, hasFilePicker } = this.props;\n\n        return (\n          <React.Fragment>\n            <View\n              style={{\n                ...styles.container,\n                paddingTop: this.state.imageUploads.length > 0 ? 20 : 0,\n              }}\n            >\n              {this.state.fileUploads && (\n                <FileUploadPreview\n                  removeFile={this._removeFile}\n                  retryUpload={this._uploadFile}\n                  fileUploads={this.state.fileOrder.map(\n                    (id) => this.state.fileUploads[id],\n                  )}\n                />\n              )}\n              {this.state.imageUploads && (\n                <ImageUploadPreview\n                  removeImage={this._removeImage}\n                  retryUpload={this._uploadImage}\n                  imageUploads={this.state.imageOrder.map(\n                    (id) => this.state.imageUploads[id],\n                  )}\n                />\n              )}\n              <View\n                style={styles.inputBoxContainer}\n                ref={this.props.setInputBoxContainerRef}\n              >\n                <TouchableOpacity\n                  style={styles.attachButton}\n                  onPress={() => {\n                    if (hasImagePicker && hasFilePicker)\n                      this.attachActionSheet.show();\n                    else if (hasImagePicker && !hasFilePicker)\n                      this._pickImage();\n                    else if (!hasImagePicker && hasFilePicker) this._pickFile();\n                  }}\n                >\n                  <Image source={iconGallery} style={styles.attachButtonIcon} />\n                </TouchableOpacity>\n                {/**\n                  TODO: Use custom action sheet to show icon with titles of button. But it doesn't\n                  work well with async onPress operations. So find a solution.\n                */}\n                <ActionSheet\n                  ref={(o) => (this.attachActionSheet = o)}\n                  title={'Add a file'}\n                  options={['Select a photo', 'Upload a file', 'Cancel']}\n                  cancelButtonIndex={2}\n                  destructiveButtonIndex={2}\n                  onPress={(index) => {\n                    switch (index) {\n                      case 0:\n                        this._pickImage();\n                        break;\n                      case 1:\n                        this._pickFile();\n                        break;\n                      default:\n                    }\n                  }}\n                />\n                <AutoCompleteInput\n                  openSuggestions={this.props.openSuggestions}\n                  closeSuggestions={this.props.closeSuggestions}\n                  updateSuggestions={this.props.updateSuggestions}\n                  value={this.state.text}\n                  onChange={this.onChange}\n                  getUsers={this.getUsers}\n                  getCommands={this.getCommands}\n                  setInputBoxRef={this.setInputBoxRef}\n                  triggerSettings={ACITriggerSettings({\n                    users: this.getUsers(),\n                    commands: this.getCommands(),\n                    onMentionSelectItem: this.onSelectItem,\n                  })}\n                />\n                <TouchableOpacity\n                  style={styles.sendButton}\n                  title=\"Pick an image from camera roll\"\n                  onPress={this.sendMessage}\n                >\n                  {this.props.editing ? (\n                    <Image source={iconEdit} />\n                  ) : (\n                    <Image source={iconNewMessage} />\n                  )}\n                </TouchableOpacity>\n              </View>\n            </View>\n            <Text style={{ textAlign: 'right', height: 20 }}>\n              {this.props.channel.state.typing\n                ? this.constructTypingString(this.props.channel.state.typing)\n                : ''}\n            </Text>\n          </React.Fragment>\n        );\n      }\n    },\n  ),\n);\n\nexport { MessageInput };\n","import React, { PureComponent } from 'react';\nimport { View, Text, TouchableOpacity } from 'react-native';\nimport { Avatar } from './Avatar';\nimport truncate from 'lodash/truncate';\n\nexport class ChannelPreviewMessenger extends PureComponent {\n  channelPreviewButton = React.createRef();\n\n  onSelectChannel = () => {\n    this.props.setActiveChannel(this.props.channel);\n  };\n\n  render() {\n    const { channel } = this.props;\n    return (\n      <TouchableOpacity\n        style={{\n          display: 'flex',\n          flexDirection: 'row',\n          borderBottomColor: '#EBEBEB',\n          borderBottomWidth: 1,\n          padding: 10,\n        }}\n        onPress={this.onSelectChannel}\n      >\n        <Avatar image={channel.data.image} size={40} />\n        <View\n          style={{\n            display: 'flex',\n            flexDirection: 'column',\n            flex: 1,\n            paddingLeft: 10,\n          }}\n        >\n          <View\n            style={{\n              display: 'flex',\n              flexDirection: 'row',\n              justifyContent: 'space-between',\n            }}\n          >\n            <Text\n              style={{ fontWeight: 'bold', fontSize: 14, flex: 9 }}\n              ellipsizeMode=\"tail\"\n              numberOfLines={1}\n            >\n              {channel.data.name}\n            </Text>\n            <Text\n              style={{\n                color: '#767676',\n                fontSize: 11,\n                flex: 3,\n                textAlign: 'right',\n              }}\n            >\n              {this.props.latestMessage.created_at}\n            </Text>\n          </View>\n          <Text\n            style={{\n              color: this.props.unread > 0 ? 'black' : '#767676',\n              fontSize: 13,\n              fontWeight: this.props.unread > 0 ? 'bold' : 'normal',\n            }}\n          >\n            {!channel.state.messages[0]\n              ? 'Nothing yet...'\n              : truncate(this.props.latestMessage.text.replace(/\\n/g, ' '), 14)}\n          </Text>\n        </View>\n      </TouchableOpacity>\n    );\n  }\n}\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\n\nimport Moment from 'moment';\n\nexport class ChannelPreview extends PureComponent {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      unread: 0,\n      lastMessage: {},\n      lastRead: new Date(),\n    };\n  }\n\n  static propTypes = {\n    channel: PropTypes.object.isRequired,\n    client: PropTypes.object.isRequired,\n    setActiveChannel: PropTypes.func.isRequired,\n    Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  };\n\n  static defaultProps = {\n    // Preview: ChannelPreviewCountOnly,\n  };\n\n  componentDidMount() {\n    // listen to change...\n    const channel = this.props.channel;\n    this.setState({ unread: channel.countUnread() });\n    channel.on('message.new', this.handleNewMessageEvent);\n    channel.on('message.read', this.handleReadEvent);\n  }\n\n  componentWillUnmount() {\n    const channel = this.props.channel;\n    channel.off('message.new', this.handleNewMessageEvent);\n    channel.off('message.read', this.handleReadEvent);\n  }\n\n  handleReadEvent = (event) => {\n    if (event.user.id === this.props.client.userID) {\n      this.setState({ unread: this.props.channel.countUnread() });\n    }\n  };\n\n  handleNewMessageEvent = (event) => {\n    const channel = this.props.channel;\n    this.setState({\n      lastMessage: event.message,\n      unread: channel.countUnread(),\n    });\n  };\n\n  getLatestMessage = () => {\n    const { channel } = this.props;\n    const message = channel.state.messages[channel.state.messages.length - 1];\n\n    const latestMessage = {\n      text: '',\n      created_at: '',\n    };\n\n    if (!message) {\n      latestMessage.text = 'Nothing yet...';\n      return latestMessage;\n    }\n    if (message.deleted_at) {\n      latestMessage.text = 'Message deleted';\n    }\n\n    if (message.text) {\n      latestMessage.text = message.text.slice(0, 20);\n    } else {\n      if (message.command) {\n        latestMessage.text = '/' + message.command;\n      }\n      if (message.attachments.length) {\n        latestMessage.text = '🏙 Attachment...';\n      }\n      latestMessage.text = 'Empty message...';\n    }\n\n    if (Moment(message.created_at).isSame(new Date(), 'day'))\n      latestMessage.created_at = Moment(message.created_at).format('HH:mm A');\n    else {\n      latestMessage.created_at = Moment(message.created_at).format('DD/MM/YY');\n    }\n\n    return latestMessage;\n  };\n\n  render() {\n    const props = { ...this.state, ...this.props };\n    const { Preview } = this.props;\n    return <Preview {...props} latestMessage={this.getLatestMessage()} />;\n  }\n}\n","import React, { PureComponent } from 'react';\nimport { FlatList } from 'react-native';\nimport PropTypes from 'prop-types';\nimport { ChannelPreview } from './ChannelPreview';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @example ./examples/ChannelList.md\n */\nconst ChannelListMessenger = withChatContext(\n  class ChannelListMessenger extends PureComponent {\n    static propTypes = {\n      /** Channels can be either an array of channels or a promise which resolves to an array of channels */\n      channels: PropTypes.oneOfType([\n        PropTypes.array,\n        PropTypes.objectOf({\n          then: PropTypes.func,\n        }),\n        PropTypes.object,\n      ]).isRequired,\n      /** The Preview to use, defaults to ChannelPreviewMessenger */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n\n      loadNextPage: PropTypes.func,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n    };\n\n    renderLoading = () => {\n      const Indicator = this.props.LoadingIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderLoadingError = () => {\n      const Indicator = this.props.LoadingErrorIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderEmptyState = () => {\n      const Indicator = this.props.EmptyStateIndicator;\n      return <Indicator listType=\"channel\" />;\n    };\n\n    renderChannels = () => (\n      <FlatList\n        data={this.props.channels}\n        onEndReached={this.props.loadNextPage}\n        ListEmptyComponent={this.renderEmptyState}\n        renderItem={({ item: channel }) => (\n          <ChannelPreview\n            {...this.props}\n            key={channel.cid}\n            channel={channel}\n            Preview={this.props.Preview}\n          />\n        )}\n        keyExtractor={(item, index) => item.cid + index}\n      />\n    );\n\n    render() {\n      if (this.props.error) {\n        return this.renderLoadingError();\n      } else if (this.props.loadingChannels) {\n        return this.renderLoading();\n      } else {\n        return this.renderChannels();\n      }\n    }\n  },\n);\n\nexport { ChannelListMessenger };\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport { ChannelPreviewMessenger } from './ChannelPreviewMessenger';\nimport { withChatContext } from '../context';\nimport { ChannelListMessenger } from './ChannelListMessenger';\nimport Immutable from 'seamless-immutable';\n\nimport { LoadingIndicator } from './LoadingIndicator';\nimport { LoadingErrorIndicator } from './LoadingErrorIndicator';\nimport { EmptyStateIndicator } from './EmptyStateIndicator';\n\n/**\n * ChannelList - A preview list of channels, allowing you to select the channel you want to open\n * @extends PureComponent\n * @example ./docs/ChannelList.md\n */\nexport const isPromise = (thing) => {\n  const promise = thing && typeof thing.then === 'function';\n  return promise;\n};\n\nconst ChannelList = withChatContext(\n  class ChannelList extends PureComponent {\n    static propTypes = {\n      /** The Preview to use, defaults to ChannelPreviewMessenger */\n      Preview: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The loading indicator to use */\n      LoadingIndicator: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      /** The indicator to use when there is error in fetching channels */\n      LoadingErrorIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n      /** The indicator to use when channel list is empty */\n      EmptyStateIndicator: PropTypes.oneOfType([\n        PropTypes.node,\n        PropTypes.func,\n      ]),\n\n      List: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n      onSelect: PropTypes.func,\n\n      /** Function that overrides default behaviour when users gets added to a channel */\n      onAddedToChannel: PropTypes.func,\n      /** Function that overrides default behaviour when users gets removed from a channel */\n      onRemovedFromChannel: PropTypes.func,\n\n      /** Object containing query filters */\n      filters: PropTypes.object,\n      /** Object containing query options */\n      options: PropTypes.object,\n      /** Object containing sort parameters */\n      sort: PropTypes.object,\n    };\n\n    static defaultProps = {\n      Preview: ChannelPreviewMessenger,\n      List: ChannelListMessenger,\n      LoadingIndicator,\n      LoadingErrorIndicator,\n      EmptyStateIndicator,\n      hasNextPage: true,\n      filters: {},\n      options: {},\n      sort: {},\n    };\n\n    constructor(props) {\n      super(props);\n      this.state = {\n        error: false,\n        loading: true,\n        channels: Immutable([]),\n        loadingChannels: true,\n        refreshing: false,\n        offset: 0,\n      };\n\n      this.menuButton = React.createRef();\n    }\n\n    isPromise = (thing) => {\n      const promise = thing && typeof thing.then === 'function';\n      return promise;\n    };\n\n    async componentDidMount() {\n      await this.queryChannels();\n      this.listenToChanges();\n    }\n\n    componentWillUnmount() {\n      this._unmounted = true;\n      this.props.client.off(this.handleEvent);\n    }\n\n    static getDerivedStateFromError() {\n      return { error: true };\n    }\n\n    componentDidCatch(error, info) {\n      console.warn(error, info);\n    }\n\n    clickCreateChannel = (e) => {\n      this.props.setChannelStart();\n      e.target.blur();\n    };\n\n    closeMenu = () => {\n      this.menuButton.current.checked = false;\n    };\n\n    queryChannels = async () => {\n      console.log('querying channels');\n      if (this._unmounted) return;\n      const { options, filters, sort } = this.props;\n      const { offset } = this.state;\n\n      this.setState({ refreshing: true });\n      const channelPromise = this.props.client.queryChannels(filters, sort, {\n        ...options,\n        offset,\n      });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n          console.log(channelQueryResponse.length);\n          if (offset === 0 && channelQueryResponse.length >= 1) {\n            if (this._unmounted) return;\n            this.props.setActiveChannel(channelQueryResponse[0]);\n          }\n        }\n        if (this._unmounted) return;\n        this.setState((prevState) => {\n          const channels = [...prevState.channels, ...channelQueryResponse];\n          return {\n            channels, // not unique somehow needs more checking\n            loadingChannels: false,\n            offset: channels.length,\n            hasNextPage:\n              channelQueryResponse.length >= options.limit ? true : false,\n            refreshing: false,\n          };\n        });\n      } catch (e) {\n        console.warn(e);\n        if (this._unmounted) return;\n        this.setState({ error: true, refreshing: false });\n      }\n    };\n\n    listenToChanges() {\n      this.props.client.on(this.handleEvent);\n    }\n\n    handleEvent = async (e) => {\n      if (e.type === 'message.new') {\n        this.moveChannelUp(e.cid);\n      }\n\n      // move channel to start\n      if (e.type === 'notification.message_new') {\n        // if new message, put move channel up\n        // get channel if not in state currently\n        const channel = await this.getChannel(e.cid);\n        // move channel to starting position\n        this.setState((prevState) => ({\n          channels: [...channel, ...prevState.channels],\n        }));\n      }\n\n      // add to channel\n      if (e.type === 'notification.added_to_channel') {\n        if (\n          this.props.onAddedToChannel &&\n          typeof this.props.onAddedToChannel === 'function'\n        ) {\n          this.props.onAddedToChannel(e);\n        } else {\n          const channel = await this.getChannel(e.channel.cid);\n          this.setState((prevState) => ({\n            channels: [...channel, ...prevState.channels],\n          }));\n        }\n      }\n\n      // remove from channel\n      if (e.type === 'notification.removed_from_channel') {\n        if (\n          this.props.onRemovedFromChannel &&\n          typeof this.props.onRemovedFromChannel === 'function'\n        ) {\n          this.props.onRemovedFromChannel(e);\n        } else {\n          this.setState((prevState) => {\n            const channels = prevState.channels.filter(\n              (channel) => channel.cid !== e.channel.cid,\n            );\n            return {\n              channels,\n            };\n          });\n        }\n      }\n\n      return null;\n    };\n\n    getChannel = async (cid) => {\n      const channelPromise = this.props.client.queryChannels({ cid });\n\n      try {\n        let channelQueryResponse = channelPromise;\n        if (isPromise(channelQueryResponse)) {\n          channelQueryResponse = await channelPromise;\n        }\n        return channelQueryResponse;\n      } catch (e) {\n        console.warn(e);\n      }\n    };\n\n    moveChannelUp = (cid) => {\n      if (this._unmounted) return;\n      const channels = this.state.channels;\n\n      // get channel index\n      const channelIndex = this.state.channels.findIndex(\n        (channel) => channel.cid === cid,\n      );\n      if (channelIndex === 0) return;\n\n      // get channel from channels\n      const channel = channels[channelIndex];\n      console.log('channel id: ' + channelIndex);\n      //remove channel from current position\n      channels.splice(channelIndex, 1);\n      //add channel at the start\n      channels.unshift(channel);\n\n      // set new channel state\n      this.setState({\n        channels: [...channels],\n      });\n    };\n\n    loadNextPage = () => {\n      this.queryChannels();\n    };\n\n    render() {\n      const context = {\n        clickCreateChannel: this.clickCreateChannel,\n        closeMenu: this.closeMenu,\n        loadNextPage: this.loadNextPage,\n      };\n      const List = this.props.List;\n      const props = { ...this.props, setActiveChannel: this.props.onSelect };\n\n      return (\n        <React.Fragment>\n          <List {...props} {...this.state} {...context} />\n        </React.Fragment>\n      );\n    }\n  },\n);\n\nexport { ChannelList };\n","import React from 'react';\n\nimport { Text, View } from 'react-native';\n\nimport { withChannelContext } from '../context';\nimport { MessageList } from './MessageList';\nimport { MessageInput } from './MessageInput';\nimport PropTypes from 'prop-types';\n\nimport { Message } from './Message';\n\n/**\n * Thread - The Thread renders a parent message with a list of replies. Use the stnadard message list of the main channel's messages.\n * The thread is only used for the list of replies to a message.\n *\n * @example ./docs/Thread.md\n * @extends Component\n */\nconst Thread = withChannelContext(\n  class Thread extends React.PureComponent {\n    static propTypes = {\n      /** Channel is passed via the Channel Context */\n      channel: PropTypes.object.isRequired,\n      /** the thread (the parent message object) */\n      thread: PropTypes.oneOfType([PropTypes.object, PropTypes.bool]),\n\n      /** The message component to use for rendering messages */\n      Message: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n\n      /** The list of messages to render, state is handled by the parent channel component */\n      threadMessages: PropTypes.array.isRequired,\n\n      /** loadMoreThread iss called when infinite scroll wants to load more messages */\n      loadMoreThread: PropTypes.func.isRequired,\n\n      /** If there are more messages available, set to false when the end of pagination is reached */\n      threadHasMore: PropTypes.bool,\n      /** If the thread is currently loading more messages */\n      threadLoadingMore: PropTypes.bool,\n      /** Display the thread on 100% width of it's container. Useful for mobile style view */\n      fullWidth: PropTypes.bool,\n      /** Make input focus on mounting thread */\n      autoFocus: PropTypes.bool,\n    };\n\n    static defaultProps = {\n      threadHasMore: true,\n      threadLoadingMore: true,\n      fullWidth: false,\n      autoFocus: true,\n    };\n\n    render() {\n      if (!this.props.thread) {\n        return null;\n      }\n\n      const parentID = this.props.thread.id;\n      const cid = this.props.channel.cid;\n\n      const key = `thread-${parentID}-${cid}`;\n      // We use a wrapper to make sure the key variable is set.\n      // this ensures that if you switch thread the component is recreated\n      return <ThreadInner {...this.props} key={key} />;\n    }\n  },\n);\n\nclass ThreadInner extends React.PureComponent {\n  static propTypes = {\n    /** Channel is passed via the Channel Context */\n    channel: PropTypes.object.isRequired,\n    /** the thread (just a message) that we're rendering */\n    thread: PropTypes.object.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.messageList = React.createRef();\n  }\n\n  async componentDidMount() {\n    const parentID = this.props.thread.id;\n    if (parentID && this.props.thread.reply_count) {\n      await this.props.loadMoreThread();\n    }\n  }\n\n  render() {\n    if (!this.props.thread) {\n      return null;\n    }\n\n    const read = {};\n    const headerComponent = (\n      <React.Fragment>\n        <Message\n          message={this.props.thread}\n          initialMessage\n          threadList\n          readOnly\n          Message={this.props.Message}\n          style={{\n            container: { paddingLeft: 10, paddingRight: 10, paddingTop: 10 },\n          }}\n          {...this.props}\n        />\n        <View\n          style={{\n            padding: 20,\n            backgroundColor: '#F4F9FF',\n            margin: 10,\n            borderRadius: 4,\n            display: 'flex',\n            alignItems: 'center',\n          }}\n        >\n          <Text>Start of a new thread</Text>\n        </View>\n      </React.Fragment>\n    );\n\n    return (\n      <React.Fragment>\n        <MessageList\n          messages={this.props.threadMessages}\n          headerComponent={headerComponent}\n          read={read}\n          threadList\n          loadMore={this.props.loadMoreThread}\n          hasMore={this.props.threadHasMore}\n          loadingMore={this.props.threadLoadingMore}\n          Message={this.props.Message}\n        />\n        <MessageInput parent={this.props.thread} focus={this.props.autoFocus} />\n      </React.Fragment>\n    );\n  }\n}\n\nexport { Thread };\n","import * as React from 'react';\nimport { View, Text } from 'react-native';\nimport { buildStylesheet } from '../styles/styles';\n\nexport class IconBadge extends React.Component {\n  render() {\n    const { children, showNumber, unread } = this.props;\n    const styles = buildStylesheet('iconBadge', this.props.styles);\n\n    return (\n      <View>\n        {children}\n        {unread > 0 && (\n          <View style={styles.icon}>\n            <View style={styles.iconInner}>\n              {showNumber && <Text style={styles.text}>{unread}</Text>}\n            </View>\n          </View>\n        )}\n      </View>\n    );\n  }\n}\n"],"names":["BASE_FONT_SIZE","REACTION_PICKER_HEIGHT","Sizes","borderRadius","borderRadiusS","Colors","primary","secondary","danger","light","textLight","textDark","textGrey","Layouts","flexRow","display","flexDirection","flexColumn","styles","Avatar","StyleSheet","create","image","width","height","fallback","backgroundColor","justifyContent","alignItems","fallbackText","color","textTransform","fontSize","fontWeight","MessageSimple","container","left","right","bottom","marginBottom","MessageSimpleAvatar","marginRight","marginLeft","MessageSimpleContent","maxWidth","failed","padding","error","metaContainer","marginTop","metaText","MessageSimpleText","borderBottomLeftRadius","borderBottomRightRadius","borderTopLeftRadius","borderTopRightRadius","paddingLeft","paddingRight","text","lineHeight","deletedText","alignSelf","borderWidth","borderColor","rightSingle","rightTop","rightMiddle","rightBottom","leftSingle","leftTop","leftMiddle","leftBottom","MessageInput","inputBoxContainer","minHeight","margin","inputBox","maxHeight","flex","sendButton","pictureButton","attachButton","attachButtonIcon","iconGallery","iconMedia","HyperLink","title","Card","footer","AttachmentActions","button","paddingTop","paddingBottom","primaryButton","primaryButtonText","defaultButton","defaultButtonText","MessageNotification","zIndex","Notification","warning","DateSeparator","dividingLines","date","textAlign","ReactionPicker","reactionColumn","reactionCount","iconBadge","icon","iconInner","minWidth","depthOf","object","level","key","hasOwnProperty","depth","Math","max","getStyle","styleName","buildStylesheet","styleOverwrites","baseStyle","Object","keys","length","falseObj","base","map","k","flatten","reduce","accumulated","v","assign","topLevelOverwrites","filter","defaultsDeep","imageError","setState","name","split","slice","charAt","props","size","style","initials","getInitials","React","View","state","Image","uri","setError","Text","PureComponent","PropTypes","string","shape","oneOf","number","ChatContext","createContext","client","withChatContext","OriginalComponent","ContextAwareComponent","ContextComponent","context","mergedProps","displayName","replace","ChannelContext","withChannelContext","channelContext","SuggestionsContext","withSuggestionsContext","suggestionsContext","NetInfo","Error","pickImage","pickDocument","registerNativeHandlers","handlers","colors","baseUseCases","themes","useCase","push","Chat","isConnected","wsConnection","onlineStatusChanged","type","fetch","then","notifyChatClient","addEventListener","handleConnectionChange","channel","e","undefined","preventDefault","_unmounted","setActiveChannel","theme","isOnline","connectionRecovering","setConnectionListener","on","event","online","off","handleEvent","removeEventListener","getContext","children","isRequired","SuggestionsProvider","component","Promise","all","getInputBoxPosition","getChatBoxPosition","inputBoxPosition","chatBoxPosition","suggestionsBottomMargin","y","suggestionsLeftMargin","x","suggestionsWidth","suggestionsViewActive","suggestionsBackdropHeight","suggestionsTitle","suggestions","o","messageInputBox","resolve","nodeHandleRoot","findNodeHandle","rootView","measureLayout","setInputBoxContainerRef","openSuggestions","closeSuggestions","updateSuggestions","setRootView","SuggestionsView","item","onSelect","Component","TouchableOpacity","SUGGESTIONS_ITEM_HEIGHT","active","data","backdropHeight","handleDismiss","position","min","shadowColor","shadowOpacity","shadowOffset","FlatList","SuggestionsSeparator","renderItem","index","SuggestionsHeader","LoadingIndicator","listType","LoadingErrorIndicator","Loader","EmptyStateIndicator","Indicator","ChannelInner","keyboardHeight","startCoordinates","screenY","endCoordinates","rootChannelView","measureInWindow","Dimensions","get","windowHeight","Animated","timing","channelHeight","toValue","duration","start","initialHeight","message","threadMessages","threads","id","thread","threadLoadingMore","parentID","oldMessages","oldestMessageID","limit","getReplies","id_lt","queryResponse","hasMore","messages","_loadMoreThreadFinishedDebounced","threadHasMore","editing","updatedMessage","extraState","addMessageSorted","parent_id","removeMessage","attachments","parent","mentioned_users","clientSideID","userID","uuidv4","html","__html","status","user","created_at","Date","reactions","messageData","sendMessage","messageResponse","updateMessage","console","log","filterErrorMessages","messagePreview","createMessagePreview","messageInput","commands","userAutocomplete","_sendMessage","asMutable","threadState","messageToImmutable","_setStateThrottled","watchers","read","typing","watcher_count","loadingMore","oldestID","perPage","query","warn","_loadMoreFinishedDebounced","channels","Message","Attachment","retrySendMessage","resetNotification","listenToScroll","setEditingState","clearEditingState","openThread","closeThread","loadMoreThread","nativeEvent","layout","Value","loading","Immutable","members","kavEnabled","debounce","loadMoreFinished","leading","trailing","loadMoreThreadFinished","throttle","prevProps","errored","initialized","watch","lastRead","copyChannelState","listenToChanges","keyboardDidShowListener","Keyboard","addListener","keyboardDidShow","keyboardDidHideListener","keyboardDidHide","cancel","remove","markRead","c","selectRegularMessages","core","renderLoadingError","renderLoading","onLayout","setRootChannelView","trueOrFalse","renderComponent","func","oneOfType","node","Channel","cid","url","trimmedUrl","Linking","canOpenURL","supported","openURL","image_url","thumb_url","title_link","og_scrape_url","_goToURL","trimUrl","giphyLogo","img","wordMimeTypes","excelMimeTypes","powerpointMimeTypes","archiveFileTypes","codeFileTypes","mimeTypeToIconMap","iconPDF","iconDOC","iconXLS","iconPPT","iconTAR","mimeTypeToIcon","mimeType","FileIcon","React.createElement","actions","actionHandler","action","value","bind","array","Gallery","viewerModalOpen","images","i","Modal","SafeAreaView","arrayOf","GalleryHeader","a","attachment","asset_url","mime_type","file_size","MessageStatus","lastReceivedId","threadList","loadingGif","iconDeliveredUnseen","MentionsItem","CommandsItem","args","description","renderText","trim","urls","anchorme","list","urlInfo","displayLink","truncate","encoded","omission","mkdown","protocol","raw","newText","username","re","RegExp","markdownStyles","link","textDecorationLine","emojiData","capitalize","s","toUpperCase","FileState","freeze","NO_FILE","UPLOADING","UPLOADED","UPLOAD_FAILED","ProgressIndicatorTypes","IN_PROGRESS","RETRY","ACITriggerSettings","users","onMentionSelectItem","dataProvider","q","matchingUsers","toLowerCase","indexOf","output","entity","caretPosition","callback","selectedCommands","sort","b","nameA","nameB","MESSAGE_ACTIONS","edit","reply","ReactionList","reactionsByType","emojiDataByType","forEach","reactionTypes","reactionCounts","count","latestReactions","openReactionSelector","visible","opacity","_renderReactions","_getReactionCount","filtered","getUsersPerReaction","reactionPickerVisible","handleReaction","rpLeft","rpTop","rpRight","latestUser","getLatestUser","MessageText","isMyMessage","pos","groupStyles","groupPosition","MessageReplies","isThreadList","reply_count","iconPath","transform","rotateY","MessageContent","onThreadSelect","onMessageTouch","ActionSheet","show","handleDelete","handleEdit","messageContainer","round","readOnly","activeMessageId","messageActions","hasAttachment","Boolean","showTime","options","splice","canEditMessage","canDeleteMessage","deleted_at","contentProps","onLongPress","showActionSheet","activeOpacity","disabled","onPress","latest_reactions","reaction_counts","handleAction","moment","format","onActionPress","MessageAvatar","showAvatar","bottomMargin","role","isAdmin","flagMessage","deleteMessage","reactionType","userExistingReaction","currentUser","own_reactions","reaction","originalMessage","removeReaction","reactionChangePromise","deleteReaction","messageID","tmpReaction","message_id","addReaction","sendReaction","formData","sendAction","nextProps","shouldUpdate","deepequal","readBy","messageListRect","actionsEnabled","handleFlag","handleMute","handleReply","handleRetry","bool","showNotification","onClick","formatDate","Moment","toISOString","calendar","lastDay","sameDay","nextDay","lastWeek","nextWeek","sameElse","MessageList","newMessages","entries","messageDate","getDay","prevMessageDate","m","l","previousMessage","nextMessage","unshift","userId","isTopMessage","isBottomMessage","noGroupByUser","newMessagesNotification","flatList","scrollToIndex","dateSeparator","yOffset","contentOffset","currentLastMessage","previousLastMessage","hasNewMessage","userScrolledUp","isOwner","scrollToBottom","getLastReceived","renderEmptyState","messagesWithDates","insertDates","messagesWithGroupPositions","assignGroupPositions","fl","handleScroll","headerComponent","loadMore","minIndexForVisible","autoscrollToTopThreshold","goToNewMessages","WithProgressIndicator","ActivityIndicator","iconReload","ImageUploadPreview","retryUpload","removeImage","imageUploads","_renderItem","FILE_PREVIEW_HEIGHT","FILE_PREVIEW_PADDING","FileUploadPreview","file","substring","concat","removeFile","fileUploads","AutoCompleteInput","isTrackingStarted","triggerSettings","currentTrigger","fromUpdate","onChange","handleSuggestions","selection","end","selectionStart","selectionEnd","triggers","newToken","computeCaretPosition","token","startToken","textToModify","startOfTokenPosition","search","allowWhitespace","newTokenString","newCaretPosition","modifiedText","stopTracking","syncCaretPosition","tokenRegExp","join","minChar","tokenMatch","exec","lastToken","find","afterWhitespace","match","actualToken","startTracking","previousChar","_createRegExp","handleChange","onSelectSuggestion","TextInput","setInputBoxRef","handleSelectionChange","getUsers","generateRandomId","S4","random","toString","imageOrder","fileOrder","attach","numberOfUploads","values","member","userMap","usersArray","prevState","upload","mu","updateMessagePromise","logChatPromiseExecution","uniq","err","dict","arr2","arr3","outStr","maxNumberOfFiles","result","lookup","startsWith","uploadNewImage","uploadNewFile","setIn","_uploadFile","doc","response","doDocUploadRequest","sendFile","cancelled","_uploadImage","set","_id","filename","contentType","doImageUploadRequest","sendImage","keystroke","config","getConfig","allCommands","getMessageDetailsForState","focus","hasImagePicker","hasFilePicker","_removeFile","_removeImage","attachActionSheet","_pickImage","_pickFile","getCommands","onSelectItem","iconEdit","iconNewMessage","constructTypingString","doFileUploadRequest","ChannelPreviewMessenger","createRef","borderBottomColor","borderBottomWidth","onSelectChannel","latestMessage","unread","ChannelPreview","countUnread","lastMessage","command","isSame","handleNewMessageEvent","handleReadEvent","Preview","getLatestMessage","ChannelListMessenger","loadNextPage","loadingChannels","renderChannels","objectOf","isPromise","thing","promise","ChannelList","setChannelStart","target","blur","menuButton","current","checked","filters","offset","refreshing","channelPromise","queryChannels","channelQueryResponse","hasNextPage","moveChannelUp","getChannel","onAddedToChannel","onRemovedFromChannel","channelIndex","findIndex","info","clickCreateChannel","closeMenu","List","Thread","fullWidth","autoFocus","ThreadInner","messageList","IconBadge","showNumber"],"mappings":"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"}